var AE=Object.defineProperty;var SE=(r,e,t)=>e in r?AE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var nt=(r,e,t)=>SE(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ho(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Nu(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var Xy={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=Symbol.for("react.element"),RE=Symbol.for("react.portal"),kE=Symbol.for("react.fragment"),CE=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),TE=Symbol.for("react.context"),OE=Symbol.for("react.forward_ref"),NE=Symbol.for("react.suspense"),DE=Symbol.for("react.memo"),PE=Symbol.for("react.lazy"),Dp=Symbol.iterator;function LE(r){return r===null||typeof r!="object"?null:(r=Dp&&r[Dp]||r["@@iterator"],typeof r=="function"?r:null)}var Qy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jy=Object.assign,eg={};function vs(r,e,t){this.props=r,this.context=e,this.refs=eg,this.updater=t||Qy}vs.prototype.isReactComponent={};vs.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};vs.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function tg(){}tg.prototype=vs.prototype;function Hd(r,e,t){this.props=r,this.context=e,this.refs=eg,this.updater=t||Qy}var jd=Hd.prototype=new tg;jd.constructor=Hd;Jy(jd,vs.prototype);jd.isPureReactComponent=!0;var Pp=Array.isArray,rg=Object.prototype.hasOwnProperty,$d={current:null},ng={key:!0,ref:!0,__self:!0,__source:!0};function ig(r,e,t){var n,i={},o=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)rg.call(e,n)&&!ng.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Fa,type:r,key:o,ref:s,props:i,_owner:$d.current}}function FE(r,e){return{$$typeof:Fa,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function Wd(r){return typeof r=="object"&&r!==null&&r.$$typeof===Fa}function ME(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var Lp=/\/+/g;function $l(r,e){return typeof r=="object"&&r!==null&&r.key!=null?ME(""+r.key):e.toString(36)}function Oc(r,e,t,n,i){var o=typeof r;(o==="undefined"||o==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case Fa:case RE:s=!0}}if(s)return s=r,i=i(s),r=n===""?"."+$l(s,0):n,Pp(i)?(t="",r!=null&&(t=r.replace(Lp,"$&/")+"/"),Oc(i,e,t,"",function(u){return u})):i!=null&&(Wd(i)&&(i=FE(i,t+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Lp,"$&/")+"/")+r)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Pp(r))for(var a=0;a<r.length;a++){o=r[a];var c=n+$l(o,a);s+=Oc(o,e,t,c,i)}else if(c=LE(r),typeof c=="function")for(r=c.call(r),a=0;!(o=r.next()).done;)o=o.value,c=n+$l(o,a++),s+=Oc(o,e,t,c,i);else if(o==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ec(r,e,t){if(r==null)return r;var n=[],i=0;return Oc(r,n,"","",function(o){return e.call(t,o,i++)}),n}function UE(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var _r={current:null},Nc={transition:null},zE={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:Nc,ReactCurrentOwner:$d};function og(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:ec,forEach:function(r,e,t){ec(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return ec(r,function(){e++}),e},toArray:function(r){return ec(r,function(e){return e})||[]},only:function(r){if(!Wd(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Ie.Component=vs;Ie.Fragment=kE;Ie.Profiler=IE;Ie.PureComponent=Hd;Ie.StrictMode=CE;Ie.Suspense=NE;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zE;Ie.act=og;Ie.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=Jy({},r.props),i=r.key,o=r.ref,s=r._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=$d.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(c in e)rg.call(e,c)&&!ng.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Fa,type:r.type,key:i,ref:o,props:n,_owner:s}};Ie.createContext=function(r){return r={$$typeof:TE,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:BE,_context:r},r.Consumer=r};Ie.createElement=ig;Ie.createFactory=function(r){var e=ig.bind(null,r);return e.type=r,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(r){return{$$typeof:OE,render:r}};Ie.isValidElement=Wd;Ie.lazy=function(r){return{$$typeof:PE,_payload:{_status:-1,_result:r},_init:UE}};Ie.memo=function(r,e){return{$$typeof:DE,type:r,compare:e===void 0?null:e}};Ie.startTransition=function(r){var e=Nc.transition;Nc.transition={};try{r()}finally{Nc.transition=e}};Ie.unstable_act=og;Ie.useCallback=function(r,e){return _r.current.useCallback(r,e)};Ie.useContext=function(r){return _r.current.useContext(r)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(r){return _r.current.useDeferredValue(r)};Ie.useEffect=function(r,e){return _r.current.useEffect(r,e)};Ie.useId=function(){return _r.current.useId()};Ie.useImperativeHandle=function(r,e,t){return _r.current.useImperativeHandle(r,e,t)};Ie.useInsertionEffect=function(r,e){return _r.current.useInsertionEffect(r,e)};Ie.useLayoutEffect=function(r,e){return _r.current.useLayoutEffect(r,e)};Ie.useMemo=function(r,e){return _r.current.useMemo(r,e)};Ie.useReducer=function(r,e,t){return _r.current.useReducer(r,e,t)};Ie.useRef=function(r){return _r.current.useRef(r)};Ie.useState=function(r){return _r.current.useState(r)};Ie.useSyncExternalStore=function(r,e,t){return _r.current.useSyncExternalStore(r,e,t)};Ie.useTransition=function(){return _r.current.useTransition()};Ie.version="18.3.1";Xy.exports=Ie;var yr=Xy.exports;const HE=ho(yr);var sg={exports:{}},jr={},ag={exports:{}},cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(B,M){var $=B.length;B.push(M);e:for(;0<$;){var C=$-1>>>1,m=B[C];if(0<i(m,M))B[C]=M,B[$]=m,$=C;else break e}}function t(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var M=B[0],$=B.pop();if($!==M){B[0]=$;e:for(var C=0,m=B.length,O=m>>>1;C<O;){var V=2*(C+1)-1,J=B[V],te=V+1,we=B[te];if(0>i(J,$))te<m&&0>i(we,J)?(B[C]=we,B[te]=$,C=te):(B[C]=J,B[V]=$,C=V);else if(te<m&&0>i(we,$))B[C]=we,B[te]=$,C=te;else break e}}return M}function i(B,M){var $=B.sortIndex-M.sortIndex;return $!==0?$:B.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();r.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,y=null,p=3,d=!1,x=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var M=t(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=B)n(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=t(u)}}function k(B){if(b=!1,w(B),!x)if(t(c)!==null)x=!0,R(I);else{var M=t(u);M!==null&&N(k,M.startTime-B)}}function I(B,M){x=!1,b&&(b=!1,A(z),z=-1),d=!0;var $=p;try{for(w(M),y=t(c);y!==null&&(!(y.expirationTime>M)||B&&!P());){var C=y.callback;if(typeof C=="function"){y.callback=null,p=y.priorityLevel;var m=C(y.expirationTime<=M);M=r.unstable_now(),typeof m=="function"?y.callback=m:y===t(c)&&n(c),w(M)}else n(c);y=t(c)}if(y!==null)var O=!0;else{var V=t(u);V!==null&&N(k,V.startTime-M),O=!1}return O}finally{y=null,p=$,d=!1}}var F=!1,L=null,z=-1,H=5,D=-1;function P(){return!(r.unstable_now()-D<H)}function j(){if(L!==null){var B=r.unstable_now();D=B;var M=!0;try{M=L(!0,B)}finally{M?S():(F=!1,L=null)}}else F=!1}var S;if(typeof g=="function")S=function(){g(j)};else if(typeof MessageChannel<"u"){var l=new MessageChannel,h=l.port2;l.port1.onmessage=j,S=function(){h.postMessage(null)}}else S=function(){E(j,0)};function R(B){L=B,F||(F=!0,S())}function N(B,M){z=E(function(){B(r.unstable_now())},M)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_continueExecution=function(){x||d||(x=!0,R(I))},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(c)},r.unstable_next=function(B){switch(p){case 1:case 2:case 3:var M=3;break;default:M=p}var $=p;p=M;try{return B()}finally{p=$}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(B,M){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=p;p=B;try{return M()}finally{p=$}},r.unstable_scheduleCallback=function(B,M,$){var C=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?C+$:C):$=C,B){case 1:var m=-1;break;case 2:m=250;break;case 5:m=1073741823;break;case 4:m=1e4;break;default:m=5e3}return m=$+m,B={id:f++,callback:M,priorityLevel:B,startTime:$,expirationTime:m,sortIndex:-1},$>C?(B.sortIndex=$,e(u,B),t(c)===null&&B===t(u)&&(b?(A(z),z=-1):b=!0,N(k,$-C))):(B.sortIndex=m,e(c,B),x||d||(x=!0,R(I))),B},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(B){var M=p;return function(){var $=p;p=M;try{return B.apply(this,arguments)}finally{p=$}}}})(cg);ag.exports=cg;var jE=ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $E=yr,Hr=jE;function re(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ug=new Set,fa={};function po(r,e){os(r,e),os(r+"Capture",e)}function os(r,e){for(fa[r]=e,r=0;r<e.length;r++)ug.add(e[r])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),If=Object.prototype.hasOwnProperty,WE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fp={},Mp={};function KE(r){return If.call(Mp,r)?!0:If.call(Fp,r)?!1:WE.test(r)?Mp[r]=!0:(Fp[r]=!0,!1)}function VE(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function qE(r,e,t,n){if(e===null||typeof e>"u"||VE(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Er(r,e,t,n,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){rr[r]=new Er(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];rr[e]=new Er(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){rr[r]=new Er(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){rr[r]=new Er(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){rr[r]=new Er(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){rr[r]=new Er(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){rr[r]=new Er(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){rr[r]=new Er(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){rr[r]=new Er(r,5,!1,r.toLowerCase(),null,!1,!1)});var Kd=/[\-:]([a-z])/g;function Vd(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(Kd,Vd);rr[e]=new Er(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(Kd,Vd);rr[e]=new Er(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(Kd,Vd);rr[e]=new Er(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){rr[r]=new Er(r,1,!1,r.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){rr[r]=new Er(r,1,!1,r.toLowerCase(),null,!0,!0)});function qd(r,e,t,n){var i=rr.hasOwnProperty(e)?rr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qE(e,t,i,n)&&(t=null),n||i===null?KE(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var ri=$E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tc=Symbol.for("react.element"),Do=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),lg=Symbol.for("react.provider"),fg=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),Of=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),dg=Symbol.for("react.offscreen"),Up=Symbol.iterator;function Ds(r){return r===null||typeof r!="object"?null:(r=Up&&r[Up]||r["@@iterator"],typeof r=="function"?r:null)}var xt=Object.assign,Wl;function Ks(r){if(Wl===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Wl=e&&e[1]||""}return`
`+Wl+r}var Kl=!1;function Vl(r,e){if(!r||Kl)return"";Kl=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(r,[],e)}else{try{e.call()}catch(u){n=u}r.call(e.prototype)}else{try{throw Error()}catch(u){n=u}r()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var c=`
`+i[s].replace(" at new "," at ");return r.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",r.displayName)),c}while(1<=s&&0<=a);break}}}finally{Kl=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?Ks(r):""}function GE(r){switch(r.tag){case 5:return Ks(r.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 2:case 15:return r=Vl(r.type,!1),r;case 11:return r=Vl(r.type.render,!1),r;case 1:return r=Vl(r.type,!0),r;default:return""}}function Nf(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Po:return"Fragment";case Do:return"Portal";case Bf:return"Profiler";case Gd:return"StrictMode";case Tf:return"Suspense";case Of:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case fg:return(r.displayName||"Context")+".Consumer";case lg:return(r._context.displayName||"Context")+".Provider";case Yd:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Zd:return e=r.displayName||null,e!==null?e:Nf(r.type)||"Memo";case fi:e=r._payload,r=r._init;try{return Nf(r(e))}catch{}}return null}function YE(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===Gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ti(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function hg(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZE(r){var e=hg(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,o=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function rc(r){r._valueTracker||(r._valueTracker=ZE(r))}function pg(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=hg(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Yc(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Df(r,e){var t=e.checked;return xt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function zp(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Ti(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mg(r,e){e=e.checked,e!=null&&qd(r,"checked",e,!1)}function Pf(r,e){mg(r,e);var t=Ti(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?Lf(r,e.type,t):e.hasOwnProperty("defaultValue")&&Lf(r,e.type,Ti(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function Hp(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function Lf(r,e,t){(e!=="number"||Yc(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Vs=Array.isArray;function Yo(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+Ti(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function Ff(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return xt({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function jp(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(re(92));if(Vs(t)){if(1<t.length)throw Error(re(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:Ti(t)}}function yg(r,e){var t=Ti(e.value),n=Ti(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function $p(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function gg(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mf(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?gg(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nc,xg=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(nc=nc||document.createElement("div"),nc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nc.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function da(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var Ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XE=["Webkit","ms","Moz","O"];Object.keys(Ys).forEach(function(r){XE.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),Ys[e]=Ys[r]})});function vg(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ys.hasOwnProperty(r)&&Ys[r]?(""+e).trim():e+"px"}function wg(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=vg(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var QE=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(r,e){if(e){if(QE[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function zf(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hf=null;function Xd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var jf=null,Zo=null,Xo=null;function Wp(r){if(r=za(r)){if(typeof jf!="function")throw Error(re(280));var e=r.stateNode;e&&(e=Mu(e),jf(r.stateNode,r.type,e))}}function _g(r){Zo?Xo?Xo.push(r):Xo=[r]:Zo=r}function Eg(){if(Zo){var r=Zo,e=Xo;if(Xo=Zo=null,Wp(r),e)for(r=0;r<e.length;r++)Wp(e[r])}}function bg(r,e){return r(e)}function Ag(){}var ql=!1;function Sg(r,e,t){if(ql)return r(e,t);ql=!0;try{return bg(r,e,t)}finally{ql=!1,(Zo!==null||Xo!==null)&&(Ag(),Eg())}}function ha(r,e){var t=r.stateNode;if(t===null)return null;var n=Mu(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(re(231,e,typeof t));return t}var $f=!1;if(Xn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){$f=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{$f=!1}function JE(r,e,t,n,i,o,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(f){this.onError(f)}}var Zs=!1,Zc=null,Xc=!1,Wf=null,eb={onError:function(r){Zs=!0,Zc=r}};function tb(r,e,t,n,i,o,s,a,c){Zs=!1,Zc=null,JE.apply(eb,arguments)}function rb(r,e,t,n,i,o,s,a,c){if(tb.apply(this,arguments),Zs){if(Zs){var u=Zc;Zs=!1,Zc=null}else throw Error(re(198));Xc||(Xc=!0,Wf=u)}}function mo(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function Rg(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function Kp(r){if(mo(r)!==r)throw Error(re(188))}function nb(r){var e=r.alternate;if(!e){if(e=mo(r),e===null)throw Error(re(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===t)return Kp(i),r;if(o===n)return Kp(i),e;o=o.sibling}throw Error(re(188))}if(t.return!==n.return)t=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===t){s=!0,t=i,n=o;break}if(a===n){s=!0,n=i,t=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===t){s=!0,t=o,n=i;break}if(a===n){s=!0,n=o,t=i;break}a=a.sibling}if(!s)throw Error(re(189))}}if(t.alternate!==n)throw Error(re(190))}if(t.tag!==3)throw Error(re(188));return t.stateNode.current===t?r:e}function kg(r){return r=nb(r),r!==null?Cg(r):null}function Cg(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=Cg(r);if(e!==null)return e;r=r.sibling}return null}var Ig=Hr.unstable_scheduleCallback,Vp=Hr.unstable_cancelCallback,ib=Hr.unstable_shouldYield,ob=Hr.unstable_requestPaint,Nt=Hr.unstable_now,sb=Hr.unstable_getCurrentPriorityLevel,Qd=Hr.unstable_ImmediatePriority,Bg=Hr.unstable_UserBlockingPriority,Qc=Hr.unstable_NormalPriority,ab=Hr.unstable_LowPriority,Tg=Hr.unstable_IdlePriority,Du=null,Cn=null;function cb(r){if(Cn&&typeof Cn.onCommitFiberRoot=="function")try{Cn.onCommitFiberRoot(Du,r,void 0,(r.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:fb,ub=Math.log,lb=Math.LN2;function fb(r){return r>>>=0,r===0?32:31-(ub(r)/lb|0)|0}var ic=64,oc=4194304;function qs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Jc(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,o=r.pingedLanes,s=t&268435455;if(s!==0){var a=s&~i;a!==0?n=qs(a):(o&=s,o!==0&&(n=qs(o)))}else s=t&~i,s!==0?n=qs(s):o!==0&&(n=qs(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-ln(e),i=1<<t,n|=r[t],e&=~i;return n}function db(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hb(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,o=r.pendingLanes;0<o;){var s=31-ln(o),a=1<<s,c=i[s];c===-1?(!(a&t)||a&n)&&(i[s]=db(a,e)):c<=e&&(r.expiredLanes|=a),o&=~a}}function Kf(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Og(){var r=ic;return ic<<=1,!(ic&4194240)&&(ic=64),r}function Gl(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function Ma(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-ln(e),r[e]=t}function pb(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-ln(t),o=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~o}}function Jd(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-ln(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var qe=0;function Ng(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Dg,eh,Pg,Lg,Fg,Vf=!1,sc=[],wi=null,_i=null,Ei=null,pa=new Map,ma=new Map,pi=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qp(r,e){switch(r){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":_i=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":pa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ma.delete(e.pointerId)}}function Ls(r,e,t,n,i,o){return r===null||r.nativeEvent!==o?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},e!==null&&(e=za(e),e!==null&&eh(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function yb(r,e,t,n,i){switch(e){case"focusin":return wi=Ls(wi,r,e,t,n,i),!0;case"dragenter":return _i=Ls(_i,r,e,t,n,i),!0;case"mouseover":return Ei=Ls(Ei,r,e,t,n,i),!0;case"pointerover":var o=i.pointerId;return pa.set(o,Ls(pa.get(o)||null,r,e,t,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ma.set(o,Ls(ma.get(o)||null,r,e,t,n,i)),!0}return!1}function Mg(r){var e=qi(r.target);if(e!==null){var t=mo(e);if(t!==null){if(e=t.tag,e===13){if(e=Rg(t),e!==null){r.blockedOn=e,Fg(r.priority,function(){Pg(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dc(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=qf(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);Hf=n,t.target.dispatchEvent(n),Hf=null}else return e=za(t),e!==null&&eh(e),r.blockedOn=t,!1;e.shift()}return!0}function Gp(r,e,t){Dc(r)&&t.delete(e)}function gb(){Vf=!1,wi!==null&&Dc(wi)&&(wi=null),_i!==null&&Dc(_i)&&(_i=null),Ei!==null&&Dc(Ei)&&(Ei=null),pa.forEach(Gp),ma.forEach(Gp)}function Fs(r,e){r.blockedOn===e&&(r.blockedOn=null,Vf||(Vf=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,gb)))}function ya(r){function e(i){return Fs(i,r)}if(0<sc.length){Fs(sc[0],r);for(var t=1;t<sc.length;t++){var n=sc[t];n.blockedOn===r&&(n.blockedOn=null)}}for(wi!==null&&Fs(wi,r),_i!==null&&Fs(_i,r),Ei!==null&&Fs(Ei,r),pa.forEach(e),ma.forEach(e),t=0;t<pi.length;t++)n=pi[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<pi.length&&(t=pi[0],t.blockedOn===null);)Mg(t),t.blockedOn===null&&pi.shift()}var Qo=ri.ReactCurrentBatchConfig,eu=!0;function xb(r,e,t,n){var i=qe,o=Qo.transition;Qo.transition=null;try{qe=1,th(r,e,t,n)}finally{qe=i,Qo.transition=o}}function vb(r,e,t,n){var i=qe,o=Qo.transition;Qo.transition=null;try{qe=4,th(r,e,t,n)}finally{qe=i,Qo.transition=o}}function th(r,e,t,n){if(eu){var i=qf(r,e,t,n);if(i===null)i0(r,e,n,tu,t),qp(r,n);else if(yb(i,r,e,t,n))n.stopPropagation();else if(qp(r,n),e&4&&-1<mb.indexOf(r)){for(;i!==null;){var o=za(i);if(o!==null&&Dg(o),o=qf(r,e,t,n),o===null&&i0(r,e,n,tu,t),o===i)break;i=o}i!==null&&n.stopPropagation()}else i0(r,e,n,null,t)}}var tu=null;function qf(r,e,t,n){if(tu=null,r=Xd(n),r=qi(r),r!==null)if(e=mo(r),e===null)r=null;else if(t=e.tag,t===13){if(r=Rg(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return tu=r,null}function Ug(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sb()){case Qd:return 1;case Bg:return 4;case Qc:case ab:return 16;case Tg:return 536870912;default:return 16}default:return 16}}var yi=null,rh=null,Pc=null;function zg(){if(Pc)return Pc;var r,e=rh,t=e.length,n,i="value"in yi?yi.value:yi.textContent,o=i.length;for(r=0;r<t&&e[r]===i[r];r++);var s=t-r;for(n=1;n<=s&&e[t-n]===i[o-n];n++);return Pc=i.slice(r,1<n?1-n:void 0)}function Lc(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function ac(){return!0}function Yp(){return!1}function $r(r){function e(t,n,i,o,s){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ac:Yp,this.isPropagationStopped=Yp,this}return xt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),e}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=$r(ws),Ua=xt({},ws,{view:0,detail:0}),wb=$r(Ua),Yl,Zl,Ms,Pu=xt({},Ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ih,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ms&&(Ms&&r.type==="mousemove"?(Yl=r.screenX-Ms.screenX,Zl=r.screenY-Ms.screenY):Zl=Yl=0,Ms=r),Yl)},movementY:function(r){return"movementY"in r?r.movementY:Zl}}),Zp=$r(Pu),_b=xt({},Pu,{dataTransfer:0}),Eb=$r(_b),bb=xt({},Ua,{relatedTarget:0}),Xl=$r(bb),Ab=xt({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Sb=$r(Ab),Rb=xt({},ws,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),kb=$r(Rb),Cb=xt({},ws,{data:0}),Xp=$r(Cb),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ob(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=Tb[r])?!!e[r]:!1}function ih(){return Ob}var Nb=xt({},Ua,{key:function(r){if(r.key){var e=Ib[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Lc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bb[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ih,charCode:function(r){return r.type==="keypress"?Lc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Lc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Db=$r(Nb),Pb=xt({},Pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qp=$r(Pb),Lb=xt({},Ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ih}),Fb=$r(Lb),Mb=xt({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ub=$r(Mb),zb=xt({},Pu,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Hb=$r(zb),jb=[9,13,27,32],oh=Xn&&"CompositionEvent"in window,Xs=null;Xn&&"documentMode"in document&&(Xs=document.documentMode);var $b=Xn&&"TextEvent"in window&&!Xs,Hg=Xn&&(!oh||Xs&&8<Xs&&11>=Xs),Jp=" ",e1=!1;function jg(r,e){switch(r){case"keyup":return jb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Lo=!1;function Wb(r,e){switch(r){case"compositionend":return $g(e);case"keypress":return e.which!==32?null:(e1=!0,Jp);case"textInput":return r=e.data,r===Jp&&e1?null:r;default:return null}}function Kb(r,e){if(Lo)return r==="compositionend"||!oh&&jg(r,e)?(r=zg(),Pc=rh=yi=null,Lo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hg&&e.locale!=="ko"?null:e.data;default:return null}}var Vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t1(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!Vb[r.type]:e==="textarea"}function Wg(r,e,t,n){_g(n),e=ru(e,"onChange"),0<e.length&&(t=new nh("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Qs=null,ga=null;function qb(r){tx(r,0)}function Lu(r){var e=Uo(r);if(pg(e))return r}function Gb(r,e){if(r==="change")return e}var Kg=!1;if(Xn){var Ql;if(Xn){var Jl="oninput"in document;if(!Jl){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),Jl=typeof r1.oninput=="function"}Ql=Jl}else Ql=!1;Kg=Ql&&(!document.documentMode||9<document.documentMode)}function n1(){Qs&&(Qs.detachEvent("onpropertychange",Vg),ga=Qs=null)}function Vg(r){if(r.propertyName==="value"&&Lu(ga)){var e=[];Wg(e,ga,r,Xd(r)),Sg(qb,e)}}function Yb(r,e,t){r==="focusin"?(n1(),Qs=e,ga=t,Qs.attachEvent("onpropertychange",Vg)):r==="focusout"&&n1()}function Zb(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Lu(ga)}function Xb(r,e){if(r==="click")return Lu(e)}function Qb(r,e){if(r==="input"||r==="change")return Lu(e)}function Jb(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var hn=typeof Object.is=="function"?Object.is:Jb;function xa(r,e){if(hn(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!If.call(e,i)||!hn(r[i],e[i]))return!1}return!0}function i1(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function o1(r,e){var t=i1(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=i1(t)}}function qg(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?qg(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function Gg(){for(var r=window,e=Yc();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Yc(r.document)}return e}function sh(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function eA(r){var e=Gg(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&qg(t.ownerDocument.documentElement,t)){if(n!==null&&sh(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!r.extend&&o>n&&(i=n,n=o,o=i),i=o1(t,o);var s=o1(t,n);i&&s&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),o>n?(r.addRange(e),r.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var tA=Xn&&"documentMode"in document&&11>=document.documentMode,Fo=null,Gf=null,Js=null,Yf=!1;function s1(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Yf||Fo==null||Fo!==Yc(n)||(n=Fo,"selectionStart"in n&&sh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Js&&xa(Js,n)||(Js=n,n=ru(Gf,"onSelect"),0<n.length&&(e=new nh("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=Fo)))}function cc(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var Mo={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},e0={},Yg={};Xn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Fu(r){if(e0[r])return e0[r];if(!Mo[r])return r;var e=Mo[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in Yg)return e0[r]=e[t];return r}var Zg=Fu("animationend"),Xg=Fu("animationiteration"),Qg=Fu("animationstart"),Jg=Fu("transitionend"),ex=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(r,e){ex.set(r,e),po(e,[r])}for(var t0=0;t0<a1.length;t0++){var r0=a1[t0],rA=r0.toLowerCase(),nA=r0[0].toUpperCase()+r0.slice(1);Li(rA,"on"+nA)}Li(Zg,"onAnimationEnd");Li(Xg,"onAnimationIteration");Li(Qg,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(Jg,"onTransitionEnd");os("onMouseEnter",["mouseout","mouseover"]);os("onMouseLeave",["mouseout","mouseover"]);os("onPointerEnter",["pointerout","pointerover"]);os("onPointerLeave",["pointerout","pointerover"]);po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));po("onBeforeInput",["compositionend","keypress","textInput","paste"]);po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function c1(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,rb(n,e,void 0,r),r.currentTarget=null}function tx(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;c1(i,a,u),o=c}else for(s=0;s<n.length;s++){if(a=n[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;c1(i,a,u),o=c}}}if(Xc)throw r=Wf,Xc=!1,Wf=null,r}function at(r,e){var t=e[ed];t===void 0&&(t=e[ed]=new Set);var n=r+"__bubble";t.has(n)||(rx(e,r,2,!1),t.add(n))}function n0(r,e,t){var n=0;e&&(n|=4),rx(t,r,n,e)}var uc="_reactListening"+Math.random().toString(36).slice(2);function va(r){if(!r[uc]){r[uc]=!0,ug.forEach(function(t){t!=="selectionchange"&&(iA.has(t)||n0(t,!1,r),n0(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[uc]||(e[uc]=!0,n0("selectionchange",!1,e))}}function rx(r,e,t,n){switch(Ug(e)){case 1:var i=xb;break;case 4:i=vb;break;default:i=th}t=i.bind(null,e,t,r),i=void 0,!$f||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function i0(r,e,t,n,i){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;a!==null;){if(s=qi(a),s===null)return;if(c=s.tag,c===5||c===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Sg(function(){var u=o,f=Xd(t),y=[];e:{var p=ex.get(r);if(p!==void 0){var d=nh,x=r;switch(r){case"keypress":if(Lc(t)===0)break e;case"keydown":case"keyup":d=Db;break;case"focusin":x="focus",d=Xl;break;case"focusout":x="blur",d=Xl;break;case"beforeblur":case"afterblur":d=Xl;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Eb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Fb;break;case Zg:case Xg:case Qg:d=Sb;break;case Jg:d=Ub;break;case"scroll":d=wb;break;case"wheel":d=Hb;break;case"copy":case"cut":case"paste":d=kb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Qp}var b=(e&4)!==0,E=!b&&r==="scroll",A=b?p!==null?p+"Capture":null:p;b=[];for(var g=u,w;g!==null;){w=g;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,A!==null&&(k=ha(g,A),k!=null&&b.push(wa(g,k,w)))),E)break;g=g.return}0<b.length&&(p=new d(p,x,null,t,f),y.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=r==="mouseover"||r==="pointerover",d=r==="mouseout"||r==="pointerout",p&&t!==Hf&&(x=t.relatedTarget||t.fromElement)&&(qi(x)||x[Qn]))break e;if((d||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,d?(x=t.relatedTarget||t.toElement,d=u,x=x?qi(x):null,x!==null&&(E=mo(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(d=null,x=u),d!==x)){if(b=Zp,k="onMouseLeave",A="onMouseEnter",g="mouse",(r==="pointerout"||r==="pointerover")&&(b=Qp,k="onPointerLeave",A="onPointerEnter",g="pointer"),E=d==null?p:Uo(d),w=x==null?p:Uo(x),p=new b(k,g+"leave",d,t,f),p.target=E,p.relatedTarget=w,k=null,qi(f)===u&&(b=new b(A,g+"enter",x,t,f),b.target=w,b.relatedTarget=E,k=b),E=k,d&&x)t:{for(b=d,A=x,g=0,w=b;w;w=Ao(w))g++;for(w=0,k=A;k;k=Ao(k))w++;for(;0<g-w;)b=Ao(b),g--;for(;0<w-g;)A=Ao(A),w--;for(;g--;){if(b===A||A!==null&&b===A.alternate)break t;b=Ao(b),A=Ao(A)}b=null}else b=null;d!==null&&u1(y,p,d,b,!1),x!==null&&E!==null&&u1(y,E,x,b,!0)}}e:{if(p=u?Uo(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var I=Gb;else if(t1(p))if(Kg)I=Qb;else{I=Zb;var F=Yb}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(I=Xb);if(I&&(I=I(r,u))){Wg(y,I,t,f);break e}F&&F(r,p,u),r==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Lf(p,"number",p.value)}switch(F=u?Uo(u):window,r){case"focusin":(t1(F)||F.contentEditable==="true")&&(Fo=F,Gf=u,Js=null);break;case"focusout":Js=Gf=Fo=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,s1(y,t,f);break;case"selectionchange":if(tA)break;case"keydown":case"keyup":s1(y,t,f)}var L;if(oh)e:{switch(r){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Lo?jg(r,t)&&(z="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(z="onCompositionStart");z&&(Hg&&t.locale!=="ko"&&(Lo||z!=="onCompositionStart"?z==="onCompositionEnd"&&Lo&&(L=zg()):(yi=f,rh="value"in yi?yi.value:yi.textContent,Lo=!0)),F=ru(u,z),0<F.length&&(z=new Xp(z,r,null,t,f),y.push({event:z,listeners:F}),L?z.data=L:(L=$g(t),L!==null&&(z.data=L)))),(L=$b?Wb(r,t):Kb(r,t))&&(u=ru(u,"onBeforeInput"),0<u.length&&(f=new Xp("onBeforeInput","beforeinput",null,t,f),y.push({event:f,listeners:u}),f.data=L))}tx(y,e)})}function wa(r,e,t){return{instance:r,listener:e,currentTarget:t}}function ru(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ha(r,t),o!=null&&n.unshift(wa(r,o,i)),o=ha(r,e),o!=null&&n.push(wa(r,o,i))),r=r.return}return n}function Ao(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function u1(r,e,t,n,i){for(var o=e._reactName,s=[];t!==null&&t!==n;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,i?(c=ha(t,o),c!=null&&s.unshift(wa(t,c,a))):i||(c=ha(t,o),c!=null&&s.push(wa(t,c,a)))),t=t.return}s.length!==0&&r.push({event:e,listeners:s})}var oA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function l1(r){return(typeof r=="string"?r:""+r).replace(oA,`
`).replace(sA,"")}function lc(r,e,t){if(e=l1(e),l1(r)!==e&&t)throw Error(re(425))}function nu(){}var Zf=null,Xf=null;function Qf(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=typeof setTimeout=="function"?setTimeout:void 0,aA=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(r){return f1.resolve(null).then(r).catch(uA)}:Jf;function uA(r){setTimeout(function(){throw r})}function o0(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),ya(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);ya(e)}function bi(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function d1(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var _s=Math.random().toString(36).slice(2),bn="__reactFiber$"+_s,_a="__reactProps$"+_s,Qn="__reactContainer$"+_s,ed="__reactEvents$"+_s,lA="__reactListeners$"+_s,fA="__reactHandles$"+_s;function qi(r){var e=r[bn];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Qn]||t[bn]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=d1(r);r!==null;){if(t=r[bn])return t;r=d1(r)}return e}r=t,t=r.parentNode}return null}function za(r){return r=r[bn]||r[Qn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Uo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(re(33))}function Mu(r){return r[_a]||null}var td=[],zo=-1;function Fi(r){return{current:r}}function ut(r){0>zo||(r.current=td[zo],td[zo]=null,zo--)}function st(r,e){zo++,td[zo]=r.current,r.current=e}var Oi={},hr=Fi(Oi),Tr=Fi(!1),no=Oi;function ss(r,e){var t=r.type.contextTypes;if(!t)return Oi;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in t)i[o]=e[o];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Or(r){return r=r.childContextTypes,r!=null}function iu(){ut(Tr),ut(hr)}function h1(r,e,t){if(hr.current!==Oi)throw Error(re(168));st(hr,e),st(Tr,t)}function nx(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,YE(r)||"Unknown",i));return xt({},t,n)}function ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Oi,no=hr.current,st(hr,r),st(Tr,Tr.current),!0}function p1(r,e,t){var n=r.stateNode;if(!n)throw Error(re(169));t?(r=nx(r,e,no),n.__reactInternalMemoizedMergedChildContext=r,ut(Tr),ut(hr),st(hr,r)):ut(Tr),st(Tr,t)}var Hn=null,Uu=!1,s0=!1;function ix(r){Hn===null?Hn=[r]:Hn.push(r)}function dA(r){Uu=!0,ix(r)}function Mi(){if(!s0&&Hn!==null){s0=!0;var r=0,e=qe;try{var t=Hn;for(qe=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}Hn=null,Uu=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(r+1)),Ig(Qd,Mi),i}finally{qe=e,s0=!1}}return null}var Ho=[],jo=0,su=null,au=0,Gr=[],Yr=0,io=null,qn=1,Gn="";function ji(r,e){Ho[jo++]=au,Ho[jo++]=su,su=r,au=e}function ox(r,e,t){Gr[Yr++]=qn,Gr[Yr++]=Gn,Gr[Yr++]=io,io=r;var n=qn;r=Gn;var i=32-ln(n)-1;n&=~(1<<i),t+=1;var o=32-ln(e)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,qn=1<<32-ln(e)+i|t<<i|n,Gn=o+r}else qn=1<<o|t<<i|n,Gn=r}function ah(r){r.return!==null&&(ji(r,1),ox(r,1,0))}function ch(r){for(;r===su;)su=Ho[--jo],Ho[jo]=null,au=Ho[--jo],Ho[jo]=null;for(;r===io;)io=Gr[--Yr],Gr[Yr]=null,Gn=Gr[--Yr],Gr[Yr]=null,qn=Gr[--Yr],Gr[Yr]=null}var zr=null,Ur=null,ft=!1,cn=null;function sx(r,e){var t=Zr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function m1(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,zr=r,Ur=bi(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,zr=r,Ur=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=io!==null?{id:qn,overflow:Gn}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zr(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,zr=r,Ur=null,!0):!1;default:return!1}}function rd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function nd(r){if(ft){var e=Ur;if(e){var t=e;if(!m1(r,e)){if(rd(r))throw Error(re(418));e=bi(t.nextSibling);var n=zr;e&&m1(r,e)?sx(n,t):(r.flags=r.flags&-4097|2,ft=!1,zr=r)}}else{if(rd(r))throw Error(re(418));r.flags=r.flags&-4097|2,ft=!1,zr=r}}}function y1(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;zr=r}function fc(r){if(r!==zr)return!1;if(!ft)return y1(r),ft=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!Qf(r.type,r.memoizedProps)),e&&(e=Ur)){if(rd(r))throw ax(),Error(re(418));for(;e;)sx(r,e),e=bi(e.nextSibling)}if(y1(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(re(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){Ur=bi(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}Ur=null}}else Ur=zr?bi(r.stateNode.nextSibling):null;return!0}function ax(){for(var r=Ur;r;)r=bi(r.nextSibling)}function as(){Ur=zr=null,ft=!1}function uh(r){cn===null?cn=[r]:cn.push(r)}var hA=ri.ReactCurrentBatchConfig;function Us(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(re(309));var n=t.stateNode}if(!n)throw Error(re(147,r));var i=n,o=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof r!="string")throw Error(re(284));if(!t._owner)throw Error(re(290,r))}return r}function dc(r,e){throw r=Object.prototype.toString.call(e),Error(re(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function g1(r){var e=r._init;return e(r._payload)}function cx(r){function e(A,g){if(r){var w=A.deletions;w===null?(A.deletions=[g],A.flags|=16):w.push(g)}}function t(A,g){if(!r)return null;for(;g!==null;)e(A,g),g=g.sibling;return null}function n(A,g){for(A=new Map;g!==null;)g.key!==null?A.set(g.key,g):A.set(g.index,g),g=g.sibling;return A}function i(A,g){return A=ki(A,g),A.index=0,A.sibling=null,A}function o(A,g,w){return A.index=w,r?(w=A.alternate,w!==null?(w=w.index,w<g?(A.flags|=2,g):w):(A.flags|=2,g)):(A.flags|=1048576,g)}function s(A){return r&&A.alternate===null&&(A.flags|=2),A}function a(A,g,w,k){return g===null||g.tag!==6?(g=h0(w,A.mode,k),g.return=A,g):(g=i(g,w),g.return=A,g)}function c(A,g,w,k){var I=w.type;return I===Po?f(A,g,w.props.children,k,w.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===fi&&g1(I)===g.type)?(k=i(g,w.props),k.ref=Us(A,g,w),k.return=A,k):(k=$c(w.type,w.key,w.props,null,A.mode,k),k.ref=Us(A,g,w),k.return=A,k)}function u(A,g,w,k){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=p0(w,A.mode,k),g.return=A,g):(g=i(g,w.children||[]),g.return=A,g)}function f(A,g,w,k,I){return g===null||g.tag!==7?(g=ro(w,A.mode,k,I),g.return=A,g):(g=i(g,w),g.return=A,g)}function y(A,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=h0(""+g,A.mode,w),g.return=A,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case tc:return w=$c(g.type,g.key,g.props,null,A.mode,w),w.ref=Us(A,null,g),w.return=A,w;case Do:return g=p0(g,A.mode,w),g.return=A,g;case fi:var k=g._init;return y(A,k(g._payload),w)}if(Vs(g)||Ds(g))return g=ro(g,A.mode,w,null),g.return=A,g;dc(A,g)}return null}function p(A,g,w,k){var I=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:a(A,g,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:return w.key===I?c(A,g,w,k):null;case Do:return w.key===I?u(A,g,w,k):null;case fi:return I=w._init,p(A,g,I(w._payload),k)}if(Vs(w)||Ds(w))return I!==null?null:f(A,g,w,k,null);dc(A,w)}return null}function d(A,g,w,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return A=A.get(w)||null,a(g,A,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tc:return A=A.get(k.key===null?w:k.key)||null,c(g,A,k,I);case Do:return A=A.get(k.key===null?w:k.key)||null,u(g,A,k,I);case fi:var F=k._init;return d(A,g,w,F(k._payload),I)}if(Vs(k)||Ds(k))return A=A.get(w)||null,f(g,A,k,I,null);dc(g,k)}return null}function x(A,g,w,k){for(var I=null,F=null,L=g,z=g=0,H=null;L!==null&&z<w.length;z++){L.index>z?(H=L,L=null):H=L.sibling;var D=p(A,L,w[z],k);if(D===null){L===null&&(L=H);break}r&&L&&D.alternate===null&&e(A,L),g=o(D,g,z),F===null?I=D:F.sibling=D,F=D,L=H}if(z===w.length)return t(A,L),ft&&ji(A,z),I;if(L===null){for(;z<w.length;z++)L=y(A,w[z],k),L!==null&&(g=o(L,g,z),F===null?I=L:F.sibling=L,F=L);return ft&&ji(A,z),I}for(L=n(A,L);z<w.length;z++)H=d(L,A,z,w[z],k),H!==null&&(r&&H.alternate!==null&&L.delete(H.key===null?z:H.key),g=o(H,g,z),F===null?I=H:F.sibling=H,F=H);return r&&L.forEach(function(P){return e(A,P)}),ft&&ji(A,z),I}function b(A,g,w,k){var I=Ds(w);if(typeof I!="function")throw Error(re(150));if(w=I.call(w),w==null)throw Error(re(151));for(var F=I=null,L=g,z=g=0,H=null,D=w.next();L!==null&&!D.done;z++,D=w.next()){L.index>z?(H=L,L=null):H=L.sibling;var P=p(A,L,D.value,k);if(P===null){L===null&&(L=H);break}r&&L&&P.alternate===null&&e(A,L),g=o(P,g,z),F===null?I=P:F.sibling=P,F=P,L=H}if(D.done)return t(A,L),ft&&ji(A,z),I;if(L===null){for(;!D.done;z++,D=w.next())D=y(A,D.value,k),D!==null&&(g=o(D,g,z),F===null?I=D:F.sibling=D,F=D);return ft&&ji(A,z),I}for(L=n(A,L);!D.done;z++,D=w.next())D=d(L,A,z,D.value,k),D!==null&&(r&&D.alternate!==null&&L.delete(D.key===null?z:D.key),g=o(D,g,z),F===null?I=D:F.sibling=D,F=D);return r&&L.forEach(function(j){return e(A,j)}),ft&&ji(A,z),I}function E(A,g,w,k){if(typeof w=="object"&&w!==null&&w.type===Po&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tc:e:{for(var I=w.key,F=g;F!==null;){if(F.key===I){if(I=w.type,I===Po){if(F.tag===7){t(A,F.sibling),g=i(F,w.props.children),g.return=A,A=g;break e}}else if(F.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===fi&&g1(I)===F.type){t(A,F.sibling),g=i(F,w.props),g.ref=Us(A,F,w),g.return=A,A=g;break e}t(A,F);break}else e(A,F);F=F.sibling}w.type===Po?(g=ro(w.props.children,A.mode,k,w.key),g.return=A,A=g):(k=$c(w.type,w.key,w.props,null,A.mode,k),k.ref=Us(A,g,w),k.return=A,A=k)}return s(A);case Do:e:{for(F=w.key;g!==null;){if(g.key===F)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){t(A,g.sibling),g=i(g,w.children||[]),g.return=A,A=g;break e}else{t(A,g);break}else e(A,g);g=g.sibling}g=p0(w,A.mode,k),g.return=A,A=g}return s(A);case fi:return F=w._init,E(A,g,F(w._payload),k)}if(Vs(w))return x(A,g,w,k);if(Ds(w))return b(A,g,w,k);dc(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(t(A,g.sibling),g=i(g,w),g.return=A,A=g):(t(A,g),g=h0(w,A.mode,k),g.return=A,A=g),s(A)):t(A,g)}return E}var cs=cx(!0),ux=cx(!1),cu=Fi(null),uu=null,$o=null,lh=null;function fh(){lh=$o=uu=null}function dh(r){var e=cu.current;ut(cu),r._currentValue=e}function id(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Jo(r,e){uu=r,lh=$o=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Ir=!0),r.firstContext=null)}function Jr(r){var e=r._currentValue;if(lh!==r)if(r={context:r,memoizedValue:e,next:null},$o===null){if(uu===null)throw Error(re(308));$o=r,uu.dependencies={lanes:0,firstContext:r}}else $o=$o.next=r;return e}var Gi=null;function hh(r){Gi===null?Gi=[r]:Gi.push(r)}function lx(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,hh(e)):(t.next=i.next,i.next=t),e.interleaved=t,Jn(r,n)}function Jn(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var di=!1;function ph(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fx(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Zn(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function Ai(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Jn(r,t)}return i=n.interleaved,i===null?(e.next=e,hh(n)):(e.next=i.next,i.next=e),n.interleaved=e,Jn(r,t)}function Fc(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Jd(r,t)}}function x1(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,o=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};o===null?i=o=s:o=o.next=s,t=t.next}while(t!==null);o===null?i=o=e:o=o.next=e}else i=o=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function lu(r,e,t,n){var i=r.updateQueue;di=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?o=u:s.next=u,s=c;var f=r.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(o!==null){var y=i.baseState;s=0,f=u=c=null,a=o;do{var p=a.lane,d=a.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=r,b=a;switch(p=e,d=t,b.tag){case 1:if(x=b.payload,typeof x=="function"){y=x.call(d,y,p);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(d,y,p):x,p==null)break e;y=xt({},y,p);break e;case 2:di=!0}}a.callback!==null&&a.lane!==0&&(r.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else d={eventTime:d,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=d,c=y):f=f.next=d,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=y),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);so|=s,r.lanes=s,r.memoizedState=y}}function v1(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var Ha={},In=Fi(Ha),Ea=Fi(Ha),ba=Fi(Ha);function Yi(r){if(r===Ha)throw Error(re(174));return r}function mh(r,e){switch(st(ba,e),st(Ea,r),st(In,Ha),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Mf(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Mf(e,r)}ut(In),st(In,e)}function us(){ut(In),ut(Ea),ut(ba)}function dx(r){Yi(ba.current);var e=Yi(In.current),t=Mf(e,r.type);e!==t&&(st(Ea,r),st(In,t))}function yh(r){Ea.current===r&&(ut(In),ut(Ea))}var mt=Fi(0);function fu(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var a0=[];function gh(){for(var r=0;r<a0.length;r++)a0[r]._workInProgressVersionPrimary=null;a0.length=0}var Mc=ri.ReactCurrentDispatcher,c0=ri.ReactCurrentBatchConfig,oo=0,gt=null,jt=null,Vt=null,du=!1,ea=!1,Aa=0,pA=0;function or(){throw Error(re(321))}function xh(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!hn(r[t],e[t]))return!1;return!0}function vh(r,e,t,n,i,o){if(oo=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mc.current=r===null||r.memoizedState===null?xA:vA,r=t(n,i),ea){o=0;do{if(ea=!1,Aa=0,25<=o)throw Error(re(301));o+=1,Vt=jt=null,e.updateQueue=null,Mc.current=wA,r=t(n,i)}while(ea)}if(Mc.current=hu,e=jt!==null&&jt.next!==null,oo=0,Vt=jt=gt=null,du=!1,e)throw Error(re(300));return r}function wh(){var r=Aa!==0;return Aa=0,r}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?gt.memoizedState=Vt=r:Vt=Vt.next=r,Vt}function en(){if(jt===null){var r=gt.alternate;r=r!==null?r.memoizedState:null}else r=jt.next;var e=Vt===null?gt.memoizedState:Vt.next;if(e!==null)Vt=e,jt=r;else{if(r===null)throw Error(re(310));jt=r,r={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Vt===null?gt.memoizedState=Vt=r:Vt=Vt.next=r}return Vt}function Sa(r,e){return typeof e=="function"?e(r):e}function u0(r){var e=en(),t=e.queue;if(t===null)throw Error(re(311));t.lastRenderedReducer=r;var n=jt,i=n.baseQueue,o=t.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,t.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,c=null,u=o;do{var f=u.lane;if((oo&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:r(n,u.action);else{var y={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=y,s=n):c=c.next=y,gt.lanes|=f,so|=f}u=u.next}while(u!==null&&u!==o);c===null?s=n:c.next=a,hn(n,e.memoizedState)||(Ir=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=c,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do o=i.lane,gt.lanes|=o,so|=o,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function l0(r){var e=en(),t=e.queue;if(t===null)throw Error(re(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,o=e.memoizedState;if(i!==null){t.pending=null;var s=i=i.next;do o=r(o,s.action),s=s.next;while(s!==i);hn(o,e.memoizedState)||(Ir=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),t.lastRenderedState=o}return[o,n]}function hx(){}function px(r,e){var t=gt,n=en(),i=e(),o=!hn(n.memoizedState,i);if(o&&(n.memoizedState=i,Ir=!0),n=n.queue,_h(gx.bind(null,t,n,r),[r]),n.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(t.flags|=2048,Ra(9,yx.bind(null,t,n,i,e),void 0,null),qt===null)throw Error(re(349));oo&30||mx(t,e,i)}return i}function mx(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function yx(r,e,t,n){e.value=t,e.getSnapshot=n,xx(e)&&vx(r)}function gx(r,e,t){return t(function(){xx(e)&&vx(r)})}function xx(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!hn(r,t)}catch{return!0}}function vx(r){var e=Jn(r,1);e!==null&&fn(e,r,1,-1)}function w1(r){var e=_n();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:r},e.queue=r,r=r.dispatch=gA.bind(null,gt,r),[e.memoizedState,r]}function Ra(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function wx(){return en().memoizedState}function Uc(r,e,t,n){var i=_n();gt.flags|=r,i.memoizedState=Ra(1|e,t,void 0,n===void 0?null:n)}function zu(r,e,t,n){var i=en();n=n===void 0?null:n;var o=void 0;if(jt!==null){var s=jt.memoizedState;if(o=s.destroy,n!==null&&xh(n,s.deps)){i.memoizedState=Ra(e,t,o,n);return}}gt.flags|=r,i.memoizedState=Ra(1|e,t,o,n)}function _1(r,e){return Uc(8390656,8,r,e)}function _h(r,e){return zu(2048,8,r,e)}function _x(r,e){return zu(4,2,r,e)}function Ex(r,e){return zu(4,4,r,e)}function bx(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function Ax(r,e,t){return t=t!=null?t.concat([r]):null,zu(4,4,bx.bind(null,e,r),t)}function Eh(){}function Sx(r,e){var t=en();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&xh(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function Rx(r,e){var t=en();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&xh(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function kx(r,e,t){return oo&21?(hn(t,e)||(t=Og(),gt.lanes|=t,so|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Ir=!0),r.memoizedState=t)}function mA(r,e){var t=qe;qe=t!==0&&4>t?t:4,r(!0);var n=c0.transition;c0.transition={};try{r(!1),e()}finally{qe=t,c0.transition=n}}function Cx(){return en().memoizedState}function yA(r,e,t){var n=Ri(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},Ix(r))Bx(e,t);else if(t=lx(r,e,t,n),t!==null){var i=vr();fn(t,r,n,i),Tx(t,e,n)}}function gA(r,e,t){var n=Ri(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ix(r))Bx(e,i);else{var o=r.alternate;if(r.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,t);if(i.hasEagerState=!0,i.eagerState=a,hn(a,s)){var c=e.interleaved;c===null?(i.next=i,hh(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=lx(r,e,i,n),t!==null&&(i=vr(),fn(t,r,n,i),Tx(t,e,n))}}function Ix(r){var e=r.alternate;return r===gt||e!==null&&e===gt}function Bx(r,e){ea=du=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function Tx(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,Jd(r,t)}}var hu={readContext:Jr,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},xA={readContext:Jr,useCallback:function(r,e){return _n().memoizedState=[r,e===void 0?null:e],r},useContext:Jr,useEffect:_1,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,Uc(4194308,4,bx.bind(null,e,r),t)},useLayoutEffect:function(r,e){return Uc(4194308,4,r,e)},useInsertionEffect:function(r,e){return Uc(4,2,r,e)},useMemo:function(r,e){var t=_n();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=_n();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=yA.bind(null,gt,r),[n.memoizedState,r]},useRef:function(r){var e=_n();return r={current:r},e.memoizedState=r},useState:w1,useDebugValue:Eh,useDeferredValue:function(r){return _n().memoizedState=r},useTransition:function(){var r=w1(!1),e=r[0];return r=mA.bind(null,r[1]),_n().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=gt,i=_n();if(ft){if(t===void 0)throw Error(re(407));t=t()}else{if(t=e(),qt===null)throw Error(re(349));oo&30||mx(n,e,t)}i.memoizedState=t;var o={value:t,getSnapshot:e};return i.queue=o,_1(gx.bind(null,n,o,r),[r]),n.flags|=2048,Ra(9,yx.bind(null,n,o,t,e),void 0,null),t},useId:function(){var r=_n(),e=qt.identifierPrefix;if(ft){var t=Gn,n=qn;t=(n&~(1<<32-ln(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=Aa++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=pA++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},vA={readContext:Jr,useCallback:Sx,useContext:Jr,useEffect:_h,useImperativeHandle:Ax,useInsertionEffect:_x,useLayoutEffect:Ex,useMemo:Rx,useReducer:u0,useRef:wx,useState:function(){return u0(Sa)},useDebugValue:Eh,useDeferredValue:function(r){var e=en();return kx(e,jt.memoizedState,r)},useTransition:function(){var r=u0(Sa)[0],e=en().memoizedState;return[r,e]},useMutableSource:hx,useSyncExternalStore:px,useId:Cx,unstable_isNewReconciler:!1},wA={readContext:Jr,useCallback:Sx,useContext:Jr,useEffect:_h,useImperativeHandle:Ax,useInsertionEffect:_x,useLayoutEffect:Ex,useMemo:Rx,useReducer:l0,useRef:wx,useState:function(){return l0(Sa)},useDebugValue:Eh,useDeferredValue:function(r){var e=en();return jt===null?e.memoizedState=r:kx(e,jt.memoizedState,r)},useTransition:function(){var r=l0(Sa)[0],e=en().memoizedState;return[r,e]},useMutableSource:hx,useSyncExternalStore:px,useId:Cx,unstable_isNewReconciler:!1};function sn(r,e){if(r&&r.defaultProps){e=xt({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function od(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:xt({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Hu={isMounted:function(r){return(r=r._reactInternals)?mo(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=vr(),i=Ri(r),o=Zn(n,i);o.payload=e,t!=null&&(o.callback=t),e=Ai(r,o,i),e!==null&&(fn(e,r,i,n),Fc(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=vr(),i=Ri(r),o=Zn(n,i);o.tag=1,o.payload=e,t!=null&&(o.callback=t),e=Ai(r,o,i),e!==null&&(fn(e,r,i,n),Fc(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=vr(),n=Ri(r),i=Zn(t,n);i.tag=2,e!=null&&(i.callback=e),e=Ai(r,i,n),e!==null&&(fn(e,r,n,t),Fc(e,r,n))}};function E1(r,e,t,n,i,o,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,o,s):e.prototype&&e.prototype.isPureReactComponent?!xa(t,n)||!xa(i,o):!0}function Ox(r,e,t){var n=!1,i=Oi,o=e.contextType;return typeof o=="object"&&o!==null?o=Jr(o):(i=Or(e)?no:hr.current,n=e.contextTypes,o=(n=n!=null)?ss(r,i):Oi),e=new e(t,o),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=o),e}function b1(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Hu.enqueueReplaceState(e,e.state,null)}function sd(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},ph(r);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Jr(o):(o=Or(e)?no:hr.current,i.context=ss(r,o)),i.state=r.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(od(r,e,o,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hu.enqueueReplaceState(i,i.state,null),lu(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function ls(r,e){try{var t="",n=e;do t+=GE(n),n=n.return;while(n);var i=t}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:r,source:e,stack:i,digest:null}}function f0(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function ad(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var _A=typeof WeakMap=="function"?WeakMap:Map;function Nx(r,e,t){t=Zn(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){mu||(mu=!0,gd=n),ad(r,e)},t}function Dx(r,e,t){t=Zn(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){ad(r,e)}}var o=r.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(t.callback=function(){ad(r,e),typeof n!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),t}function A1(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new _A;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=PA.bind(null,r,e,t),e.then(r,r))}function S1(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function R1(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Zn(-1,1),e.tag=2,Ai(t,e,1))),t.lanes|=1),r)}var EA=ri.ReactCurrentOwner,Ir=!1;function mr(r,e,t,n){e.child=r===null?ux(e,null,t,n):cs(e,r.child,t,n)}function k1(r,e,t,n,i){t=t.render;var o=e.ref;return Jo(e,i),n=vh(r,e,t,n,o,i),t=wh(),r!==null&&!Ir?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,ei(r,e,i)):(ft&&t&&ah(e),e.flags|=1,mr(r,e,n,i),e.child)}function C1(r,e,t,n,i){if(r===null){var o=t.type;return typeof o=="function"&&!Bh(o)&&o.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=o,Px(r,e,o,n,i)):(r=$c(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(o=r.child,!(r.lanes&i)){var s=o.memoizedProps;if(t=t.compare,t=t!==null?t:xa,t(s,n)&&r.ref===e.ref)return ei(r,e,i)}return e.flags|=1,r=ki(o,n),r.ref=e.ref,r.return=e,e.child=r}function Px(r,e,t,n,i){if(r!==null){var o=r.memoizedProps;if(xa(o,n)&&r.ref===e.ref)if(Ir=!1,e.pendingProps=n=o,(r.lanes&i)!==0)r.flags&131072&&(Ir=!0);else return e.lanes=r.lanes,ei(r,e,i)}return cd(r,e,t,n,i)}function Lx(r,e,t){var n=e.pendingProps,i=n.children,o=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ko,Lr),Lr|=t;else{if(!(t&1073741824))return r=o!==null?o.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,st(Ko,Lr),Lr|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:t,st(Ko,Lr),Lr|=n}else o!==null?(n=o.baseLanes|t,e.memoizedState=null):n=t,st(Ko,Lr),Lr|=n;return mr(r,e,i,t),e.child}function Fx(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function cd(r,e,t,n,i){var o=Or(t)?no:hr.current;return o=ss(e,o),Jo(e,i),t=vh(r,e,t,n,o,i),n=wh(),r!==null&&!Ir?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,ei(r,e,i)):(ft&&n&&ah(e),e.flags|=1,mr(r,e,t,i),e.child)}function I1(r,e,t,n,i){if(Or(t)){var o=!0;ou(e)}else o=!1;if(Jo(e,i),e.stateNode===null)zc(r,e),Ox(e,t,n),sd(e,t,n,i),n=!0;else if(r===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,u=t.contextType;typeof u=="object"&&u!==null?u=Jr(u):(u=Or(t)?no:hr.current,u=ss(e,u));var f=t.getDerivedStateFromProps,y=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||c!==u)&&b1(e,s,n,u),di=!1;var p=e.memoizedState;s.state=p,lu(e,n,s,i),c=e.memoizedState,a!==n||p!==c||Tr.current||di?(typeof f=="function"&&(od(e,t,f,n),c=e.memoizedState),(a=di||E1(e,t,a,n,p,c,u))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{s=e.stateNode,fx(r,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),s.props=u,y=e.pendingProps,p=s.context,c=t.contextType,typeof c=="object"&&c!==null?c=Jr(c):(c=Or(t)?no:hr.current,c=ss(e,c));var d=t.getDerivedStateFromProps;(f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==y||p!==c)&&b1(e,s,n,c),di=!1,p=e.memoizedState,s.state=p,lu(e,n,s,i);var x=e.memoizedState;a!==y||p!==x||Tr.current||di?(typeof d=="function"&&(od(e,t,d,n),x=e.memoizedState),(u=di||E1(e,t,u,n,p,x,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,x,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,x,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),s.props=n,s.state=x,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||a===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),n=!1)}return ud(r,e,t,n,o,i)}function ud(r,e,t,n,i,o){Fx(r,e);var s=(e.flags&128)!==0;if(!n&&!s)return i&&p1(e,t,!1),ei(r,e,o);n=e.stateNode,EA.current=e;var a=s&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&s?(e.child=cs(e,r.child,null,o),e.child=cs(e,null,a,o)):mr(r,e,a,o),e.memoizedState=n.state,i&&p1(e,t,!0),e.child}function Mx(r){var e=r.stateNode;e.pendingContext?h1(r,e.pendingContext,e.pendingContext!==e.context):e.context&&h1(r,e.context,!1),mh(r,e.containerInfo)}function B1(r,e,t,n,i){return as(),uh(i),e.flags|=256,mr(r,e,t,n),e.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function fd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ux(r,e,t){var n=e.pendingProps,i=mt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=r!==null&&r.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),st(mt,i&1),r===null)return nd(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=n.children,r=n.fallback,o?(n=e.mode,o=e.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Wu(s,n,0,null),r=ro(r,n,t,null),o.return=e,r.return=e,o.sibling=r,e.child=o,e.child.memoizedState=fd(t),e.memoizedState=ld,r):bh(e,s));if(i=r.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return bA(r,e,s,n,a,i,t);if(o){o=n.fallback,s=e.mode,i=r.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=ki(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ki(a,o):(o=ro(o,s,t,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,s=r.child.memoizedState,s=s===null?fd(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=r.childLanes&~t,e.memoizedState=ld,n}return o=r.child,r=o.sibling,n=ki(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function bh(r,e){return e=Wu({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function hc(r,e,t,n){return n!==null&&uh(n),cs(e,r.child,null,t),r=bh(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function bA(r,e,t,n,i,o,s){if(t)return e.flags&256?(e.flags&=-257,n=f0(Error(re(422))),hc(r,e,s,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(o=n.fallback,i=e.mode,n=Wu({mode:"visible",children:n.children},i,0,null),o=ro(o,i,s,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&cs(e,r.child,null,s),e.child.memoizedState=fd(s),e.memoizedState=ld,o);if(!(e.mode&1))return hc(r,e,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(re(419)),n=f0(o,n,void 0),hc(r,e,s,n)}if(a=(s&r.childLanes)!==0,Ir||a){if(n=qt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jn(r,i),fn(n,r,i,-1))}return Ih(),n=f0(Error(re(421))),hc(r,e,s,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=LA.bind(null,r),i._reactRetry=e,null):(r=o.treeContext,Ur=bi(i.nextSibling),zr=e,ft=!0,cn=null,r!==null&&(Gr[Yr++]=qn,Gr[Yr++]=Gn,Gr[Yr++]=io,qn=r.id,Gn=r.overflow,io=e),e=bh(e,n.children),e.flags|=4096,e)}function T1(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),id(r.return,e,t)}function d0(r,e,t,n,i){var o=r.memoizedState;o===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=t,o.tailMode=i)}function zx(r,e,t){var n=e.pendingProps,i=n.revealOrder,o=n.tail;if(mr(r,e,n.children,t),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&T1(r,t,e);else if(r.tag===19)T1(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(st(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&fu(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),d0(e,!1,i,t,o);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&fu(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}d0(e,!0,t,null,o);break;case"together":d0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zc(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function ei(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),so|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(re(153));if(e.child!==null){for(r=e.child,t=ki(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=ki(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function AA(r,e,t){switch(e.tag){case 3:Mx(e),as();break;case 5:dx(e);break;case 1:Or(e.type)&&ou(e);break;case 4:mh(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;st(cu,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(st(mt,mt.current&1),e.flags|=128,null):t&e.child.childLanes?Ux(r,e,t):(st(mt,mt.current&1),r=ei(r,e,t),r!==null?r.sibling:null);st(mt,mt.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return zx(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,Lx(r,e,t)}return ei(r,e,t)}var Hx,dd,jx,$x;Hx=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};dd=function(){};jx=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Yi(In.current);var o=null;switch(t){case"input":i=Df(r,i),n=Df(r,n),o=[];break;case"select":i=xt({},i,{value:void 0}),n=xt({},n,{value:void 0}),o=[];break;case"textarea":i=Ff(r,i),n=Ff(r,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=nu)}Uf(t,n);var s;t=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(o||(o=[]),o.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",r),o||a===c||(o=[])):(o=o||[]).push(u,c))}t&&(o=o||[]).push("style",t);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$x=function(r,e,t,n){t!==n&&(e.flags|=4)};function zs(r,e){if(!ft)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function sr(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function SA(r,e,t){var n=e.pendingProps;switch(ch(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return Or(e.type)&&iu(),sr(e),null;case 3:return n=e.stateNode,us(),ut(Tr),ut(hr),gh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(fc(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(wd(cn),cn=null))),dd(r,e),sr(e),null;case 5:yh(e);var i=Yi(ba.current);if(t=e.type,r!==null&&e.stateNode!=null)jx(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return sr(e),null}if(r=Yi(In.current),fc(e)){n=e.stateNode,t=e.type;var o=e.memoizedProps;switch(n[bn]=e,n[_a]=o,r=(e.mode&1)!==0,t){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(i=0;i<Gs.length;i++)at(Gs[i],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":zp(n,o),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},at("invalid",n);break;case"textarea":jp(n,o),at("invalid",n)}Uf(t,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&lc(n.textContent,a,r),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&lc(n.textContent,a,r),i=["children",""+a]):fa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&at("scroll",n)}switch(t){case"input":rc(n),Hp(n,o,!0);break;case"textarea":rc(n),$p(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=nu)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gg(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=s.createElement(t,{is:n.is}):(r=s.createElement(t),t==="select"&&(s=r,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):r=s.createElementNS(r,t),r[bn]=e,r[_a]=n,Hx(r,e,!1,!1),e.stateNode=r;e:{switch(s=zf(t,n),t){case"dialog":at("cancel",r),at("close",r),i=n;break;case"iframe":case"object":case"embed":at("load",r),i=n;break;case"video":case"audio":for(i=0;i<Gs.length;i++)at(Gs[i],r);i=n;break;case"source":at("error",r),i=n;break;case"img":case"image":case"link":at("error",r),at("load",r),i=n;break;case"details":at("toggle",r),i=n;break;case"input":zp(r,n),i=Df(r,n),at("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=xt({},n,{value:void 0}),at("invalid",r);break;case"textarea":jp(r,n),i=Ff(r,n),at("invalid",r);break;default:i=n}Uf(t,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?wg(r,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&xg(r,c)):o==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&da(r,c):typeof c=="number"&&da(r,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fa.hasOwnProperty(o)?c!=null&&o==="onScroll"&&at("scroll",r):c!=null&&qd(r,o,c,s))}switch(t){case"input":rc(r),Hp(r,n,!1);break;case"textarea":rc(r),$p(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Ti(n.value));break;case"select":r.multiple=!!n.multiple,o=n.value,o!=null?Yo(r,!!n.multiple,o,!1):n.defaultValue!=null&&Yo(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=nu)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(r&&e.stateNode!=null)$x(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(t=Yi(ba.current),Yi(In.current),fc(e)){if(n=e.stateNode,t=e.memoizedProps,n[bn]=e,(o=n.nodeValue!==t)&&(r=zr,r!==null))switch(r.tag){case 3:lc(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lc(n.nodeValue,t,(r.mode&1)!==0)}o&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[bn]=e,e.stateNode=n}return sr(e),null;case 13:if(ut(mt),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ft&&Ur!==null&&e.mode&1&&!(e.flags&128))ax(),as(),e.flags|=98560,o=!1;else if(o=fc(e),n!==null&&n.dehydrated!==null){if(r===null){if(!o)throw Error(re(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(re(317));o[bn]=e}else as(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),o=!1}else cn!==null&&(wd(cn),cn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||mt.current&1?$t===0&&($t=3):Ih())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return us(),dd(r,e),r===null&&va(e.stateNode.containerInfo),sr(e),null;case 10:return dh(e.type._context),sr(e),null;case 17:return Or(e.type)&&iu(),sr(e),null;case 19:if(ut(mt),o=e.memoizedState,o===null)return sr(e),null;if(n=(e.flags&128)!==0,s=o.rendering,s===null)if(n)zs(o,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(s=fu(r),s!==null){for(e.flags|=128,zs(o,!1),n=s.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)o=t,r=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=r,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return st(mt,mt.current&1|2),e.child}r=r.sibling}o.tail!==null&&Nt()>fs&&(e.flags|=128,n=!0,zs(o,!1),e.lanes=4194304)}else{if(!n)if(r=fu(s),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return sr(e),null}else 2*Nt()-o.renderingStartTime>fs&&t!==1073741824&&(e.flags|=128,n=!0,zs(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(t=o.last,t!==null?t.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,t=mt.current,st(mt,n?t&1|2:t&1),e):(sr(e),null);case 22:case 23:return Ch(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Lr&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function RA(r,e){switch(ch(e),e.tag){case 1:return Or(e.type)&&iu(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return us(),ut(Tr),ut(hr),gh(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return yh(e),null;case 13:if(ut(mt),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(re(340));as()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return ut(mt),null;case 4:return us(),null;case 10:return dh(e.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var pc=!1,dr=!1,kA=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Wo(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){Ct(r,e,n)}else t.current=null}function hd(r,e,t){try{t()}catch(n){Ct(r,e,n)}}var O1=!1;function CA(r,e){if(Zf=eu,r=Gg(),sh(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{t.nodeType,o.nodeType}catch{t=null;break e}var s=0,a=-1,c=-1,u=0,f=0,y=r,p=null;t:for(;;){for(var d;y!==t||i!==0&&y.nodeType!==3||(a=s+i),y!==o||n!==0&&y.nodeType!==3||(c=s+n),y.nodeType===3&&(s+=y.nodeValue.length),(d=y.firstChild)!==null;)p=y,y=d;for(;;){if(y===r)break t;if(p===t&&++u===i&&(a=s),p===o&&++f===n&&(c=s),(d=y.nextSibling)!==null)break;y=p,p=y.parentNode}y=d}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Xf={focusedElem:r,selectionRange:t},eu=!1,fe=e;fe!==null;)if(e=fe,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,fe=r;else for(;fe!==null;){e=fe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,E=x.memoizedState,A=e.stateNode,g=A.getSnapshotBeforeUpdate(e.elementType===e.type?b:sn(e.type,b),E);A.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(k){Ct(e,e.return,k)}if(r=e.sibling,r!==null){r.return=e.return,fe=r;break}fe=e.return}return x=O1,O1=!1,x}function ta(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var o=i.destroy;i.destroy=void 0,o!==void 0&&hd(e,t,o)}i=i.next}while(i!==n)}}function ju(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function pd(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function Wx(r){var e=r.alternate;e!==null&&(r.alternate=null,Wx(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[bn],delete e[_a],delete e[ed],delete e[lA],delete e[fA])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Kx(r){return r.tag===5||r.tag===3||r.tag===4}function N1(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kx(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function md(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=nu));else if(n!==4&&(r=r.child,r!==null))for(md(r,e,t),r=r.sibling;r!==null;)md(r,e,t),r=r.sibling}function yd(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(yd(r,e,t),r=r.sibling;r!==null;)yd(r,e,t),r=r.sibling}var Xt=null,an=!1;function oi(r,e,t){for(t=t.child;t!==null;)Vx(r,e,t),t=t.sibling}function Vx(r,e,t){if(Cn&&typeof Cn.onCommitFiberUnmount=="function")try{Cn.onCommitFiberUnmount(Du,t)}catch{}switch(t.tag){case 5:dr||Wo(t,e);case 6:var n=Xt,i=an;Xt=null,oi(r,e,t),Xt=n,an=i,Xt!==null&&(an?(r=Xt,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Xt.removeChild(t.stateNode));break;case 18:Xt!==null&&(an?(r=Xt,t=t.stateNode,r.nodeType===8?o0(r.parentNode,t):r.nodeType===1&&o0(r,t),ya(r)):o0(Xt,t.stateNode));break;case 4:n=Xt,i=an,Xt=t.stateNode.containerInfo,an=!0,oi(r,e,t),Xt=n,an=i;break;case 0:case 11:case 14:case 15:if(!dr&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hd(t,e,s),i=i.next}while(i!==n)}oi(r,e,t);break;case 1:if(!dr&&(Wo(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){Ct(t,e,a)}oi(r,e,t);break;case 21:oi(r,e,t);break;case 22:t.mode&1?(dr=(n=dr)||t.memoizedState!==null,oi(r,e,t),dr=n):oi(r,e,t);break;default:oi(r,e,t)}}function D1(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new kA),e.forEach(function(n){var i=FA.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function on(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var o=r,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Xt=a.stateNode,an=!1;break e;case 3:Xt=a.stateNode.containerInfo,an=!0;break e;case 4:Xt=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(Xt===null)throw Error(re(160));Vx(o,s,i),Xt=null,an=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ct(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qx(e,r),e=e.sibling}function qx(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(on(e,r),gn(r),n&4){try{ta(3,r,r.return),ju(3,r)}catch(b){Ct(r,r.return,b)}try{ta(5,r,r.return)}catch(b){Ct(r,r.return,b)}}break;case 1:on(e,r),gn(r),n&512&&t!==null&&Wo(t,t.return);break;case 5:if(on(e,r),gn(r),n&512&&t!==null&&Wo(t,t.return),r.flags&32){var i=r.stateNode;try{da(i,"")}catch(b){Ct(r,r.return,b)}}if(n&4&&(i=r.stateNode,i!=null)){var o=r.memoizedProps,s=t!==null?t.memoizedProps:o,a=r.type,c=r.updateQueue;if(r.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mg(i,o),zf(a,s);var u=zf(a,o);for(s=0;s<c.length;s+=2){var f=c[s],y=c[s+1];f==="style"?wg(i,y):f==="dangerouslySetInnerHTML"?xg(i,y):f==="children"?da(i,y):qd(i,f,y,u)}switch(a){case"input":Pf(i,o);break;case"textarea":yg(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Yo(i,!!o.multiple,d,!1):p!==!!o.multiple&&(o.defaultValue!=null?Yo(i,!!o.multiple,o.defaultValue,!0):Yo(i,!!o.multiple,o.multiple?[]:"",!1))}i[_a]=o}catch(b){Ct(r,r.return,b)}}break;case 6:if(on(e,r),gn(r),n&4){if(r.stateNode===null)throw Error(re(162));i=r.stateNode,o=r.memoizedProps;try{i.nodeValue=o}catch(b){Ct(r,r.return,b)}}break;case 3:if(on(e,r),gn(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{ya(e.containerInfo)}catch(b){Ct(r,r.return,b)}break;case 4:on(e,r),gn(r);break;case 13:on(e,r),gn(r),i=r.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rh=Nt())),n&4&&D1(r);break;case 22:if(f=t!==null&&t.memoizedState!==null,r.mode&1?(dr=(u=dr)||f,on(e,r),dr=u):on(e,r),gn(r),n&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!f&&r.mode&1)for(fe=r,f=r.child;f!==null;){for(y=fe=f;fe!==null;){switch(p=fe,d=p.child,p.tag){case 0:case 11:case 14:case 15:ta(4,p,p.return);break;case 1:Wo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,t=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){Ct(n,t,b)}}break;case 5:Wo(p,p.return);break;case 22:if(p.memoizedState!==null){L1(y);continue}}d!==null?(d.return=p,fe=d):L1(y)}f=f.sibling}e:for(f=null,y=r;;){if(y.tag===5){if(f===null){f=y;try{i=y.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=y.stateNode,c=y.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=vg("display",s))}catch(b){Ct(r,r.return,b)}}}else if(y.tag===6){if(f===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(b){Ct(r,r.return,b)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===r)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break e;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;f===y&&(f=null),y=y.return}f===y&&(f=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:on(e,r),gn(r),n&4&&D1(r);break;case 21:break;default:on(e,r),gn(r)}}function gn(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(Kx(t)){var n=t;break e}t=t.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(da(i,""),n.flags&=-33);var o=N1(r);yd(r,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=N1(r);md(r,a,s);break;default:throw Error(re(161))}}catch(c){Ct(r,r.return,c)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function IA(r,e,t){fe=r,Gx(r)}function Gx(r,e,t){for(var n=(r.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||pc;if(!s){var a=i.alternate,c=a!==null&&a.memoizedState!==null||dr;a=pc;var u=dr;if(pc=s,(dr=c)&&!u)for(fe=i;fe!==null;)s=fe,c=s.child,s.tag===22&&s.memoizedState!==null?F1(i):c!==null?(c.return=s,fe=c):F1(i);for(;o!==null;)fe=o,Gx(o),o=o.sibling;fe=i,pc=a,dr=u}P1(r)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):P1(r)}}function P1(r){for(;fe!==null;){var e=fe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dr||ju(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dr)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:sn(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&v1(e,o,n);break;case 3:var s=e.updateQueue;if(s!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}v1(e,s,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var y=f.dehydrated;y!==null&&ya(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}dr||e.flags&512&&pd(e)}catch(p){Ct(e,e.return,p)}}if(e===r){fe=null;break}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}}function L1(r){for(;fe!==null;){var e=fe;if(e===r){fe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,fe=t;break}fe=e.return}}function F1(r){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ju(4,e)}catch(c){Ct(e,t,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Ct(e,i,c)}}var o=e.return;try{pd(e)}catch(c){Ct(e,o,c)}break;case 5:var s=e.return;try{pd(e)}catch(c){Ct(e,s,c)}}}catch(c){Ct(e,e.return,c)}if(e===r){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var BA=Math.ceil,pu=ri.ReactCurrentDispatcher,Ah=ri.ReactCurrentOwner,Xr=ri.ReactCurrentBatchConfig,Le=0,qt=null,Ht=null,er=0,Lr=0,Ko=Fi(0),$t=0,ka=null,so=0,$u=0,Sh=0,ra=null,Rr=null,Rh=0,fs=1/0,zn=null,mu=!1,gd=null,Si=null,mc=!1,gi=null,yu=0,na=0,xd=null,Hc=-1,jc=0;function vr(){return Le&6?Nt():Hc!==-1?Hc:Hc=Nt()}function Ri(r){return r.mode&1?Le&2&&er!==0?er&-er:hA.transition!==null?(jc===0&&(jc=Og()),jc):(r=qe,r!==0||(r=window.event,r=r===void 0?16:Ug(r.type)),r):1}function fn(r,e,t,n){if(50<na)throw na=0,xd=null,Error(re(185));Ma(r,t,n),(!(Le&2)||r!==qt)&&(r===qt&&(!(Le&2)&&($u|=t),$t===4&&mi(r,er)),Nr(r,n),t===1&&Le===0&&!(e.mode&1)&&(fs=Nt()+500,Uu&&Mi()))}function Nr(r,e){var t=r.callbackNode;hb(r,e);var n=Jc(r,r===qt?er:0);if(n===0)t!==null&&Vp(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&Vp(t),e===1)r.tag===0?dA(M1.bind(null,r)):ix(M1.bind(null,r)),cA(function(){!(Le&6)&&Mi()}),t=null;else{switch(Ng(n)){case 1:t=Qd;break;case 4:t=Bg;break;case 16:t=Qc;break;case 536870912:t=Tg;break;default:t=Qc}t=rv(t,Yx.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function Yx(r,e){if(Hc=-1,jc=0,Le&6)throw Error(re(327));var t=r.callbackNode;if(es()&&r.callbackNode!==t)return null;var n=Jc(r,r===qt?er:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=gu(r,n);else{e=n;var i=Le;Le|=2;var o=Xx();(qt!==r||er!==e)&&(zn=null,fs=Nt()+500,to(r,e));do try{NA();break}catch(a){Zx(r,a)}while(!0);fh(),pu.current=o,Le=i,Ht!==null?e=0:(qt=null,er=0,e=$t)}if(e!==0){if(e===2&&(i=Kf(r),i!==0&&(n=i,e=vd(r,i))),e===1)throw t=ka,to(r,0),mi(r,n),Nr(r,Nt()),t;if(e===6)mi(r,n);else{if(i=r.current.alternate,!(n&30)&&!TA(i)&&(e=gu(r,n),e===2&&(o=Kf(r),o!==0&&(n=o,e=vd(r,o))),e===1))throw t=ka,to(r,0),mi(r,n),Nr(r,Nt()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:$i(r,Rr,zn);break;case 3:if(mi(r,n),(n&130023424)===n&&(e=Rh+500-Nt(),10<e)){if(Jc(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){vr(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=Jf($i.bind(null,r,Rr,zn),e);break}$i(r,Rr,zn);break;case 4:if(mi(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var s=31-ln(n);o=1<<s,s=e[s],s>i&&(i=s),n&=~o}if(n=i,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*BA(n/1960))-n,10<n){r.timeoutHandle=Jf($i.bind(null,r,Rr,zn),n);break}$i(r,Rr,zn);break;case 5:$i(r,Rr,zn);break;default:throw Error(re(329))}}}return Nr(r,Nt()),r.callbackNode===t?Yx.bind(null,r):null}function vd(r,e){var t=ra;return r.current.memoizedState.isDehydrated&&(to(r,e).flags|=256),r=gu(r,e),r!==2&&(e=Rr,Rr=t,e!==null&&wd(e)),r}function wd(r){Rr===null?Rr=r:Rr.push.apply(Rr,r)}function TA(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],o=i.getSnapshot;i=i.value;try{if(!hn(o(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mi(r,e){for(e&=~Sh,e&=~$u,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-ln(e),n=1<<t;r[t]=-1,e&=~n}}function M1(r){if(Le&6)throw Error(re(327));es();var e=Jc(r,0);if(!(e&1))return Nr(r,Nt()),null;var t=gu(r,e);if(r.tag!==0&&t===2){var n=Kf(r);n!==0&&(e=n,t=vd(r,n))}if(t===1)throw t=ka,to(r,0),mi(r,e),Nr(r,Nt()),t;if(t===6)throw Error(re(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,$i(r,Rr,zn),Nr(r,Nt()),null}function kh(r,e){var t=Le;Le|=1;try{return r(e)}finally{Le=t,Le===0&&(fs=Nt()+500,Uu&&Mi())}}function ao(r){gi!==null&&gi.tag===0&&!(Le&6)&&es();var e=Le;Le|=1;var t=Xr.transition,n=qe;try{if(Xr.transition=null,qe=1,r)return r()}finally{qe=n,Xr.transition=t,Le=e,!(Le&6)&&Mi()}}function Ch(){Lr=Ko.current,ut(Ko)}function to(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,aA(t)),Ht!==null)for(t=Ht.return;t!==null;){var n=t;switch(ch(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&iu();break;case 3:us(),ut(Tr),ut(hr),gh();break;case 5:yh(n);break;case 4:us();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:dh(n.type._context);break;case 22:case 23:Ch()}t=t.return}if(qt=r,Ht=r=ki(r.current,null),er=Lr=e,$t=0,ka=null,Sh=$u=so=0,Rr=ra=null,Gi!==null){for(e=0;e<Gi.length;e++)if(t=Gi[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,o=t.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}t.pending=n}Gi=null}return r}function Zx(r,e){do{var t=Ht;try{if(fh(),Mc.current=hu,du){for(var n=gt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}du=!1}if(oo=0,Vt=jt=gt=null,ea=!1,Aa=0,Ah.current=null,t===null||t.return===null){$t=1,ka=e,Ht=null;break}e:{var o=r,s=t.return,a=t,c=e;if(e=er,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,y=f.tag;if(!(f.mode&1)&&(y===0||y===11||y===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=S1(s);if(d!==null){d.flags&=-257,R1(d,s,a,o,e),d.mode&1&&A1(o,u,e),e=d,c=u;var x=e.updateQueue;if(x===null){var b=new Set;b.add(c),e.updateQueue=b}else x.add(c);break e}else{if(!(e&1)){A1(o,u,e),Ih();break e}c=Error(re(426))}}else if(ft&&a.mode&1){var E=S1(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),R1(E,s,a,o,e),uh(ls(c,a));break e}}o=c=ls(c,a),$t!==4&&($t=2),ra===null?ra=[o]:ra.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var A=Nx(o,c,e);x1(o,A);break e;case 1:a=c;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Si===null||!Si.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=Dx(o,a,e);x1(o,k);break e}}o=o.return}while(o!==null)}Jx(t)}catch(I){e=I,Ht===t&&t!==null&&(Ht=t=t.return);continue}break}while(!0)}function Xx(){var r=pu.current;return pu.current=hu,r===null?hu:r}function Ih(){($t===0||$t===3||$t===2)&&($t=4),qt===null||!(so&268435455)&&!($u&268435455)||mi(qt,er)}function gu(r,e){var t=Le;Le|=2;var n=Xx();(qt!==r||er!==e)&&(zn=null,to(r,e));do try{OA();break}catch(i){Zx(r,i)}while(!0);if(fh(),Le=t,pu.current=n,Ht!==null)throw Error(re(261));return qt=null,er=0,$t}function OA(){for(;Ht!==null;)Qx(Ht)}function NA(){for(;Ht!==null&&!ib();)Qx(Ht)}function Qx(r){var e=tv(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,e===null?Jx(r):Ht=e,Ah.current=null}function Jx(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=RA(t,e),t!==null){t.flags&=32767,Ht=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$t=6,Ht=null;return}}else if(t=SA(t,e,Lr),t!==null){Ht=t;return}if(e=e.sibling,e!==null){Ht=e;return}Ht=e=r}while(e!==null);$t===0&&($t=5)}function $i(r,e,t){var n=qe,i=Xr.transition;try{Xr.transition=null,qe=1,DA(r,e,t,n)}finally{Xr.transition=i,qe=n}return null}function DA(r,e,t,n){do es();while(gi!==null);if(Le&6)throw Error(re(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(re(177));r.callbackNode=null,r.callbackPriority=0;var o=t.lanes|t.childLanes;if(pb(r,o),r===qt&&(Ht=qt=null,er=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||mc||(mc=!0,rv(Qc,function(){return es(),null})),o=(t.flags&15990)!==0,t.subtreeFlags&15990||o){o=Xr.transition,Xr.transition=null;var s=qe;qe=1;var a=Le;Le|=4,Ah.current=null,CA(r,t),qx(t,r),eA(Xf),eu=!!Zf,Xf=Zf=null,r.current=t,IA(t),ob(),Le=a,qe=s,Xr.transition=o}else r.current=t;if(mc&&(mc=!1,gi=r,yu=i),o=r.pendingLanes,o===0&&(Si=null),cb(t.stateNode),Nr(r,Nt()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(mu)throw mu=!1,r=gd,gd=null,r;return yu&1&&r.tag!==0&&es(),o=r.pendingLanes,o&1?r===xd?na++:(na=0,xd=r):na=0,Mi(),null}function es(){if(gi!==null){var r=Ng(yu),e=Xr.transition,t=qe;try{if(Xr.transition=null,qe=16>r?16:r,gi===null)var n=!1;else{if(r=gi,gi=null,yu=0,Le&6)throw Error(re(331));var i=Le;for(Le|=4,fe=r.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(fe=u;fe!==null;){var f=fe;switch(f.tag){case 0:case 11:case 15:ta(8,f,o)}var y=f.child;if(y!==null)y.return=f,fe=y;else for(;fe!==null;){f=fe;var p=f.sibling,d=f.return;if(Wx(f),f===u){fe=null;break}if(p!==null){p.return=d,fe=p;break}fe=d}}}var x=o.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ta(9,o,o.return)}var A=o.sibling;if(A!==null){A.return=o.return,fe=A;break e}fe=o.return}}var g=r.current;for(fe=g;fe!==null;){s=fe;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,fe=w;else e:for(s=g;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ju(9,a)}}catch(I){Ct(a,a.return,I)}if(a===s){fe=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,fe=k;break e}fe=a.return}}if(Le=i,Mi(),Cn&&typeof Cn.onPostCommitFiberRoot=="function")try{Cn.onPostCommitFiberRoot(Du,r)}catch{}n=!0}return n}finally{qe=t,Xr.transition=e}}return!1}function U1(r,e,t){e=ls(t,e),e=Nx(r,e,1),r=Ai(r,e,1),e=vr(),r!==null&&(Ma(r,1,e),Nr(r,e))}function Ct(r,e,t){if(r.tag===3)U1(r,r,t);else for(;e!==null;){if(e.tag===3){U1(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Si===null||!Si.has(n))){r=ls(t,r),r=Dx(e,r,1),e=Ai(e,r,1),r=vr(),e!==null&&(Ma(e,1,r),Nr(e,r));break}}e=e.return}}function PA(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=vr(),r.pingedLanes|=r.suspendedLanes&t,qt===r&&(er&t)===t&&($t===4||$t===3&&(er&130023424)===er&&500>Nt()-Rh?to(r,0):Sh|=t),Nr(r,e)}function ev(r,e){e===0&&(r.mode&1?(e=oc,oc<<=1,!(oc&130023424)&&(oc=4194304)):e=1);var t=vr();r=Jn(r,e),r!==null&&(Ma(r,e,t),Nr(r,t))}function LA(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),ev(r,t)}function FA(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),ev(r,t)}var tv;tv=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Tr.current)Ir=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Ir=!1,AA(r,e,t);Ir=!!(r.flags&131072)}else Ir=!1,ft&&e.flags&1048576&&ox(e,au,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zc(r,e),r=e.pendingProps;var i=ss(e,hr.current);Jo(e,t),i=vh(null,e,n,r,i,t);var o=wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Or(n)?(o=!0,ou(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ph(e),i.updater=Hu,e.stateNode=i,i._reactInternals=e,sd(e,n,r,t),e=ud(null,e,n,!0,o,t)):(e.tag=0,ft&&o&&ah(e),mr(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(zc(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=UA(n),r=sn(n,r),i){case 0:e=cd(null,e,n,r,t);break e;case 1:e=I1(null,e,n,r,t);break e;case 11:e=k1(null,e,n,r,t);break e;case 14:e=C1(null,e,n,sn(n.type,r),t);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),cd(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),I1(r,e,n,i,t);case 3:e:{if(Mx(e),r===null)throw Error(re(387));n=e.pendingProps,o=e.memoizedState,i=o.element,fx(r,e),lu(e,n,null,t);var s=e.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ls(Error(re(423)),e),e=B1(r,e,n,t,i);break e}else if(n!==i){i=ls(Error(re(424)),e),e=B1(r,e,n,t,i);break e}else for(Ur=bi(e.stateNode.containerInfo.firstChild),zr=e,ft=!0,cn=null,t=ux(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(as(),n===i){e=ei(r,e,t);break e}mr(r,e,n,t)}e=e.child}return e;case 5:return dx(e),r===null&&nd(e),n=e.type,i=e.pendingProps,o=r!==null?r.memoizedProps:null,s=i.children,Qf(n,i)?s=null:o!==null&&Qf(n,o)&&(e.flags|=32),Fx(r,e),mr(r,e,s,t),e.child;case 6:return r===null&&nd(e),null;case 13:return Ux(r,e,t);case 4:return mh(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=cs(e,null,n,t):mr(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),k1(r,e,n,i,t);case 7:return mr(r,e,e.pendingProps,t),e.child;case 8:return mr(r,e,e.pendingProps.children,t),e.child;case 12:return mr(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,st(cu,n._currentValue),n._currentValue=s,o!==null)if(hn(o.value,s)){if(o.children===i.children&&!Tr.current){e=ei(r,e,t);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Zn(-1,t&-t),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}o.lanes|=t,c=o.alternate,c!==null&&(c.lanes|=t),id(o.return,t,e),a.lanes|=t;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(re(341));s.lanes|=t,a=s.alternate,a!==null&&(a.lanes|=t),id(s,t,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mr(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Jo(e,t),i=Jr(i),n=n(i),e.flags|=1,mr(r,e,n,t),e.child;case 14:return n=e.type,i=sn(n,e.pendingProps),i=sn(n.type,i),C1(r,e,n,i,t);case 15:return Px(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),zc(r,e),e.tag=1,Or(n)?(r=!0,ou(e)):r=!1,Jo(e,t),Ox(e,n,i),sd(e,n,i,t),ud(null,e,n,!0,r,t);case 19:return zx(r,e,t);case 22:return Lx(r,e,t)}throw Error(re(156,e.tag))};function rv(r,e){return Ig(r,e)}function MA(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(r,e,t,n){return new MA(r,e,t,n)}function Bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function UA(r){if(typeof r=="function")return Bh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===Yd)return 11;if(r===Zd)return 14}return 2}function ki(r,e){var t=r.alternate;return t===null?(t=Zr(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function $c(r,e,t,n,i,o){var s=2;if(n=r,typeof r=="function")Bh(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case Po:return ro(t.children,i,o,e);case Gd:s=8,i|=8;break;case Bf:return r=Zr(12,t,e,i|2),r.elementType=Bf,r.lanes=o,r;case Tf:return r=Zr(13,t,e,i),r.elementType=Tf,r.lanes=o,r;case Of:return r=Zr(19,t,e,i),r.elementType=Of,r.lanes=o,r;case dg:return Wu(t,i,o,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case lg:s=10;break e;case fg:s=9;break e;case Yd:s=11;break e;case Zd:s=14;break e;case fi:s=16,n=null;break e}throw Error(re(130,r==null?r:typeof r,""))}return e=Zr(s,t,e,i),e.elementType=r,e.type=n,e.lanes=o,e}function ro(r,e,t,n){return r=Zr(7,r,n,e),r.lanes=t,r}function Wu(r,e,t,n){return r=Zr(22,r,n,e),r.elementType=dg,r.lanes=t,r.stateNode={isHidden:!1},r}function h0(r,e,t){return r=Zr(6,r,null,e),r.lanes=t,r}function p0(r,e,t){return e=Zr(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function zA(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gl(0),this.expirationTimes=Gl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Th(r,e,t,n,i,o,s,a,c){return r=new zA(r,e,t,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zr(3,null,null,e),r.current=o,o.stateNode=r,o.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(o),r}function HA(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Do,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function nv(r){if(!r)return Oi;r=r._reactInternals;e:{if(mo(r)!==r||r.tag!==1)throw Error(re(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(r.tag===1){var t=r.type;if(Or(t))return nx(r,t,e)}return e}function iv(r,e,t,n,i,o,s,a,c){return r=Th(t,n,!0,r,i,o,s,a,c),r.context=nv(null),t=r.current,n=vr(),i=Ri(t),o=Zn(n,i),o.callback=e??null,Ai(t,o,i),r.current.lanes=i,Ma(r,i,n),Nr(r,n),r}function Ku(r,e,t,n){var i=e.current,o=vr(),s=Ri(i);return t=nv(t),e.context===null?e.context=t:e.pendingContext=t,e=Zn(o,s),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=Ai(i,e,s),r!==null&&(fn(r,i,s,o),Fc(r,i,s)),s}function xu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function z1(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function Oh(r,e){z1(r,e),(r=r.alternate)&&z1(r,e)}function jA(){return null}var ov=typeof reportError=="function"?reportError:function(r){console.error(r)};function Nh(r){this._internalRoot=r}Vu.prototype.render=Nh.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(re(409));Ku(r,e,null,null)};Vu.prototype.unmount=Nh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;ao(function(){Ku(null,r,null,null)}),e[Qn]=null}};function Vu(r){this._internalRoot=r}Vu.prototype.unstable_scheduleHydration=function(r){if(r){var e=Lg();r={blockedOn:null,target:r,priority:e};for(var t=0;t<pi.length&&e!==0&&e<pi[t].priority;t++);pi.splice(t,0,r),t===0&&Mg(r)}};function Dh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function H1(){}function $A(r,e,t,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=xu(s);o.call(u)}}var s=iv(e,n,r,0,null,!1,!1,"",H1);return r._reactRootContainer=s,r[Qn]=s.current,va(r.nodeType===8?r.parentNode:r),ao(),s}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=xu(c);a.call(u)}}var c=Th(r,0,!1,null,null,!1,!1,"",H1);return r._reactRootContainer=c,r[Qn]=c.current,va(r.nodeType===8?r.parentNode:r),ao(function(){Ku(e,c,t,n)}),c}function Gu(r,e,t,n,i){var o=t._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var c=xu(s);a.call(c)}}Ku(e,s,r,i)}else s=$A(t,e,r,i,n);return xu(s)}Dg=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=qs(e.pendingLanes);t!==0&&(Jd(e,t|1),Nr(e,Nt()),!(Le&6)&&(fs=Nt()+500,Mi()))}break;case 13:ao(function(){var n=Jn(r,1);if(n!==null){var i=vr();fn(n,r,1,i)}}),Oh(r,1)}};eh=function(r){if(r.tag===13){var e=Jn(r,134217728);if(e!==null){var t=vr();fn(e,r,134217728,t)}Oh(r,134217728)}};Pg=function(r){if(r.tag===13){var e=Ri(r),t=Jn(r,e);if(t!==null){var n=vr();fn(t,r,e,n)}Oh(r,e)}};Lg=function(){return qe};Fg=function(r,e){var t=qe;try{return qe=r,e()}finally{qe=t}};jf=function(r,e,t){switch(e){case"input":if(Pf(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=Mu(n);if(!i)throw Error(re(90));pg(n),Pf(n,i)}}}break;case"textarea":yg(r,t);break;case"select":e=t.value,e!=null&&Yo(r,!!t.multiple,e,!1)}};bg=kh;Ag=ao;var WA={usingClientEntryPoint:!1,Events:[za,Uo,Mu,_g,Eg,kh]},Hs={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KA={bundleType:Hs.bundleType,version:Hs.version,rendererPackageName:Hs.rendererPackageName,rendererConfig:Hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=kg(r),r===null?null:r.stateNode},findFiberByHostInstance:Hs.findFiberByHostInstance||jA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{Du=yc.inject(KA),Cn=yc}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WA;jr.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(e))throw Error(re(200));return HA(r,e,null,t)};jr.createRoot=function(r,e){if(!Dh(r))throw Error(re(299));var t=!1,n="",i=ov;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Th(r,1,!1,null,null,t,!1,n,i),r[Qn]=e.current,va(r.nodeType===8?r.parentNode:r),new Nh(e)};jr.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(re(188)):(r=Object.keys(r).join(","),Error(re(268,r)));return r=kg(e),r=r===null?null:r.stateNode,r};jr.flushSync=function(r){return ao(r)};jr.hydrate=function(r,e,t){if(!qu(e))throw Error(re(200));return Gu(null,r,e,!0,t)};jr.hydrateRoot=function(r,e,t){if(!Dh(r))throw Error(re(405));var n=t!=null&&t.hydratedSources||null,i=!1,o="",s=ov;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),e=iv(e,null,r,1,t??null,i,!1,o,s),r[Qn]=e.current,va(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Vu(e)};jr.render=function(r,e,t){if(!qu(e))throw Error(re(200));return Gu(null,r,e,!1,t)};jr.unmountComponentAtNode=function(r){if(!qu(r))throw Error(re(40));return r._reactRootContainer?(ao(function(){Gu(null,null,r,!1,function(){r._reactRootContainer=null,r[Qn]=null})}),!0):!1};jr.unstable_batchedUpdates=kh;jr.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!qu(t))throw Error(re(200));if(r==null||r._reactInternals===void 0)throw Error(re(38));return Gu(r,e,t,!1,n)};jr.version="18.3.1-next-f1338f8080-20240426";function sv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sv)}catch(r){console.error(r)}}sv(),sg.exports=jr;var VA=sg.exports,av,j1=VA;av=j1.createRoot,j1.hydrateRoot;var cv={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=yr,GA=Symbol.for("react.element"),YA=Symbol.for("react.fragment"),ZA=Object.prototype.hasOwnProperty,XA=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QA={key:!0,ref:!0,__self:!0,__source:!0};function uv(r,e,t){var n,i={},o=null,s=null;t!==void 0&&(o=""+t),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)ZA.call(e,n)&&!QA.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:GA,type:r,key:o,ref:s,props:i,_owner:XA.current}}Yu.Fragment=YA;Yu.jsx=uv;Yu.jsxs=uv;cv.exports=Yu;var W=cv.exports,ue={},Zu={};Zu.byteLength=tS;Zu.toByteArray=nS;Zu.fromByteArray=sS;var An=[],Vr=[],JA=typeof Uint8Array<"u"?Uint8Array:Array,m0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var So=0,eS=m0.length;So<eS;++So)An[So]=m0[So],Vr[m0.charCodeAt(So)]=So;Vr[45]=62;Vr[95]=63;function lv(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function tS(r){var e=lv(r),t=e[0],n=e[1];return(t+n)*3/4-n}function rS(r,e,t){return(e+t)*3/4-t}function nS(r){var e,t=lv(r),n=t[0],i=t[1],o=new JA(rS(r,n,i)),s=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Vr[r.charCodeAt(c)]<<18|Vr[r.charCodeAt(c+1)]<<12|Vr[r.charCodeAt(c+2)]<<6|Vr[r.charCodeAt(c+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=Vr[r.charCodeAt(c)]<<2|Vr[r.charCodeAt(c+1)]>>4,o[s++]=e&255),i===1&&(e=Vr[r.charCodeAt(c)]<<10|Vr[r.charCodeAt(c+1)]<<4|Vr[r.charCodeAt(c+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function iS(r){return An[r>>18&63]+An[r>>12&63]+An[r>>6&63]+An[r&63]}function oS(r,e,t){for(var n,i=[],o=e;o<t;o+=3)n=(r[o]<<16&16711680)+(r[o+1]<<8&65280)+(r[o+2]&255),i.push(iS(n));return i.join("")}function sS(r){for(var e,t=r.length,n=t%3,i=[],o=16383,s=0,a=t-n;s<a;s+=o)i.push(oS(r,s,s+o>a?a:s+o));return n===1?(e=r[t-1],i.push(An[e>>2]+An[e<<4&63]+"==")):n===2&&(e=(r[t-2]<<8)+r[t-1],i.push(An[e>>10]+An[e>>4&63]+An[e<<2&63]+"=")),i.join("")}var Ph={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ph.read=function(r,e,t,n,i){var o,s,a=i*8-n-1,c=(1<<a)-1,u=c>>1,f=-7,y=t?i-1:0,p=t?-1:1,d=r[e+y];for(y+=p,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=o*256+r[e+y],y+=p,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=s*256+r[e+y],y+=p,f-=8);if(o===0)o=1-u;else{if(o===c)return s?NaN:(d?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(d?-1:1)*s*Math.pow(2,o-n)};Ph.write=function(r,e,t,n,i,o){var s,a,c,u=o*8-i-1,f=(1<<u)-1,y=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,x=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+y>=1?e+=p/c:e+=p*Math.pow(2,1-y),e*c>=2&&(s++,c/=2),s+y>=f?(a=0,s=f):s+y>=1?(a=(e*c-1)*Math.pow(2,i),s=s+y):(a=e*Math.pow(2,y-1)*Math.pow(2,i),s=0));i>=8;r[t+d]=a&255,d+=x,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;r[t+d]=s&255,d+=x,s/=256,u-=8);r[t+d-x]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Zu,t=Ph,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=g,r.INSPECT_MAX_BYTES=50;const i=2147483647;r.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const T=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(T,v),T.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(T){if(T>i)throw new RangeError('The value "'+T+'" is invalid for option "size"');const v=new Uint8Array(T);return Object.setPrototypeOf(v,a.prototype),v}function a(T,v,_){if(typeof T=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y(T)}return c(T,v,_)}a.poolSize=8192;function c(T,v,_){if(typeof T=="string")return p(T,v);if(ArrayBuffer.isView(T))return x(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(rt(T,ArrayBuffer)||T&&rt(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rt(T,SharedArrayBuffer)||T&&rt(T.buffer,SharedArrayBuffer)))return b(T,v,_);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=T.valueOf&&T.valueOf();if(U!=null&&U!==T)return a.from(U,v,_);const K=E(T);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),v,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,v,_){return c(T,v,_)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function f(T,v,_){return u(T),T<=0?s(T):v!==void 0?typeof _=="string"?s(T).fill(v,_):s(T).fill(v):s(T)}a.alloc=function(T,v,_){return f(T,v,_)};function y(T){return u(T),s(T<0?0:A(T)|0)}a.allocUnsafe=function(T){return y(T)},a.allocUnsafeSlow=function(T){return y(T)};function p(T,v){if((typeof v!="string"||v==="")&&(v="utf8"),!a.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const _=w(T,v)|0;let U=s(_);const K=U.write(T,v);return K!==_&&(U=U.slice(0,K)),U}function d(T){const v=T.length<0?0:A(T.length)|0,_=s(v);for(let U=0;U<v;U+=1)_[U]=T[U]&255;return _}function x(T){if(rt(T,Uint8Array)){const v=new Uint8Array(T);return b(v.buffer,v.byteOffset,v.byteLength)}return d(T)}function b(T,v,_){if(v<0||T.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<v+(_||0))throw new RangeError('"length" is outside of buffer bounds');let U;return v===void 0&&_===void 0?U=new Uint8Array(T):_===void 0?U=new Uint8Array(T,v):U=new Uint8Array(T,v,_),Object.setPrototypeOf(U,a.prototype),U}function E(T){if(a.isBuffer(T)){const v=A(T.length)|0,_=s(v);return _.length===0||T.copy(_,0,0,v),_}if(T.length!==void 0)return typeof T.length!="number"||Pe(T.length)?s(0):d(T);if(T.type==="Buffer"&&Array.isArray(T.data))return d(T.data)}function A(T){if(T>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return T|0}function g(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==a.prototype},a.compare=function(v,_){if(rt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),rt(_,Uint8Array)&&(_=a.from(_,_.offset,_.byteLength)),!a.isBuffer(v)||!a.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===_)return 0;let U=v.length,K=_.length;for(let q=0,X=Math.min(U,K);q<X;++q)if(v[q]!==_[q]){U=v[q],K=_[q];break}return U<K?-1:K<U?1:0},a.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(v,_){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return a.alloc(0);let U;if(_===void 0)for(_=0,U=0;U<v.length;++U)_+=v[U].length;const K=a.allocUnsafe(_);let q=0;for(U=0;U<v.length;++U){let X=v[U];if(rt(X,Uint8Array))q+X.length>K.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(K,q)):Uint8Array.prototype.set.call(K,X,q);else if(a.isBuffer(X))X.copy(K,q);else throw new TypeError('"list" argument must be an Array of Buffers');q+=X.length}return K};function w(T,v){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||rt(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const _=T.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&_===0)return 0;let K=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return je(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return $e(T).length;default:if(K)return U?-1:je(T).length;v=(""+v).toLowerCase(),K=!0}}a.byteLength=w;function k(T,v,_){let U=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,v>>>=0,_<=v))return"";for(T||(T="utf8");;)switch(T){case"hex":return M(this,v,_);case"utf8":case"utf-8":return l(this,v,_);case"ascii":return N(this,v,_);case"latin1":case"binary":return B(this,v,_);case"base64":return S(this,v,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,v,_);default:if(U)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),U=!0}}a.prototype._isBuffer=!0;function I(T,v,_){const U=T[v];T[v]=T[_],T[_]=U}a.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<v;_+=2)I(this,_,_+1);return this},a.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<v;_+=4)I(this,_,_+3),I(this,_+1,_+2);return this},a.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<v;_+=8)I(this,_,_+7),I(this,_+1,_+6),I(this,_+2,_+5),I(this,_+3,_+4);return this},a.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?l(this,0,v):k.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(v){if(!a.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:a.compare(this,v)===0},a.prototype.inspect=function(){let v="";const _=r.INSPECT_MAX_BYTES;return v=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(v+=" ... "),"<Buffer "+v+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(v,_,U,K,q){if(rt(v,Uint8Array)&&(v=a.from(v,v.offset,v.byteLength)),!a.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(_===void 0&&(_=0),U===void 0&&(U=v?v.length:0),K===void 0&&(K=0),q===void 0&&(q=this.length),_<0||U>v.length||K<0||q>this.length)throw new RangeError("out of range index");if(K>=q&&_>=U)return 0;if(K>=q)return-1;if(_>=U)return 1;if(_>>>=0,U>>>=0,K>>>=0,q>>>=0,this===v)return 0;let X=q-K,_e=U-_;const ve=Math.min(X,_e),xe=this.slice(K,q),Je=v.slice(_,U);for(let ge=0;ge<ve;++ge)if(xe[ge]!==Je[ge]){X=xe[ge],_e=Je[ge];break}return X<_e?-1:_e<X?1:0};function F(T,v,_,U,K){if(T.length===0)return-1;if(typeof _=="string"?(U=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Pe(_)&&(_=K?0:T.length-1),_<0&&(_=T.length+_),_>=T.length){if(K)return-1;_=T.length-1}else if(_<0)if(K)_=0;else return-1;if(typeof v=="string"&&(v=a.from(v,U)),a.isBuffer(v))return v.length===0?-1:L(T,v,_,U,K);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?K?Uint8Array.prototype.indexOf.call(T,v,_):Uint8Array.prototype.lastIndexOf.call(T,v,_):L(T,[v],_,U,K);throw new TypeError("val must be string, number or Buffer")}function L(T,v,_,U,K){let q=1,X=T.length,_e=v.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(T.length<2||v.length<2)return-1;q=2,X/=2,_e/=2,_/=2}function ve(Je,ge){return q===1?Je[ge]:Je.readUInt16BE(ge*q)}let xe;if(K){let Je=-1;for(xe=_;xe<X;xe++)if(ve(T,xe)===ve(v,Je===-1?0:xe-Je)){if(Je===-1&&(Je=xe),xe-Je+1===_e)return Je*q}else Je!==-1&&(xe-=xe-Je),Je=-1}else for(_+_e>X&&(_=X-_e),xe=_;xe>=0;xe--){let Je=!0;for(let ge=0;ge<_e;ge++)if(ve(T,xe+ge)!==ve(v,ge)){Je=!1;break}if(Je)return xe}return-1}a.prototype.includes=function(v,_,U){return this.indexOf(v,_,U)!==-1},a.prototype.indexOf=function(v,_,U){return F(this,v,_,U,!0)},a.prototype.lastIndexOf=function(v,_,U){return F(this,v,_,U,!1)};function z(T,v,_,U){_=Number(_)||0;const K=T.length-_;U?(U=Number(U),U>K&&(U=K)):U=K;const q=v.length;U>q/2&&(U=q/2);let X;for(X=0;X<U;++X){const _e=parseInt(v.substr(X*2,2),16);if(Pe(_e))return X;T[_+X]=_e}return X}function H(T,v,_,U){return ke(je(v,T.length-_),T,_,U)}function D(T,v,_,U){return ke(Ze(v),T,_,U)}function P(T,v,_,U){return ke($e(v),T,_,U)}function j(T,v,_,U){return ke(ii(v,T.length-_),T,_,U)}a.prototype.write=function(v,_,U,K){if(_===void 0)K="utf8",U=this.length,_=0;else if(U===void 0&&typeof _=="string")K=_,U=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(U)?(U=U>>>0,K===void 0&&(K="utf8")):(K=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const q=this.length-_;if((U===void 0||U>q)&&(U=q),v.length>0&&(U<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let X=!1;for(;;)switch(K){case"hex":return z(this,v,_,U);case"utf8":case"utf-8":return H(this,v,_,U);case"ascii":case"latin1":case"binary":return D(this,v,_,U);case"base64":return P(this,v,_,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,v,_,U);default:if(X)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(T,v,_){return v===0&&_===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(v,_))}function l(T,v,_){_=Math.min(T.length,_);const U=[];let K=v;for(;K<_;){const q=T[K];let X=null,_e=q>239?4:q>223?3:q>191?2:1;if(K+_e<=_){let ve,xe,Je,ge;switch(_e){case 1:q<128&&(X=q);break;case 2:ve=T[K+1],(ve&192)===128&&(ge=(q&31)<<6|ve&63,ge>127&&(X=ge));break;case 3:ve=T[K+1],xe=T[K+2],(ve&192)===128&&(xe&192)===128&&(ge=(q&15)<<12|(ve&63)<<6|xe&63,ge>2047&&(ge<55296||ge>57343)&&(X=ge));break;case 4:ve=T[K+1],xe=T[K+2],Je=T[K+3],(ve&192)===128&&(xe&192)===128&&(Je&192)===128&&(ge=(q&15)<<18|(ve&63)<<12|(xe&63)<<6|Je&63,ge>65535&&ge<1114112&&(X=ge))}}X===null?(X=65533,_e=1):X>65535&&(X-=65536,U.push(X>>>10&1023|55296),X=56320|X&1023),U.push(X),K+=_e}return R(U)}const h=4096;function R(T){const v=T.length;if(v<=h)return String.fromCharCode.apply(String,T);let _="",U=0;for(;U<v;)_+=String.fromCharCode.apply(String,T.slice(U,U+=h));return _}function N(T,v,_){let U="";_=Math.min(T.length,_);for(let K=v;K<_;++K)U+=String.fromCharCode(T[K]&127);return U}function B(T,v,_){let U="";_=Math.min(T.length,_);for(let K=v;K<_;++K)U+=String.fromCharCode(T[K]);return U}function M(T,v,_){const U=T.length;(!v||v<0)&&(v=0),(!_||_<0||_>U)&&(_=U);let K="";for(let q=v;q<_;++q)K+=Qe[T[q]];return K}function $(T,v,_){const U=T.slice(v,_);let K="";for(let q=0;q<U.length-1;q+=2)K+=String.fromCharCode(U[q]+U[q+1]*256);return K}a.prototype.slice=function(v,_){const U=this.length;v=~~v,_=_===void 0?U:~~_,v<0?(v+=U,v<0&&(v=0)):v>U&&(v=U),_<0?(_+=U,_<0&&(_=0)):_>U&&(_=U),_<v&&(_=v);const K=this.subarray(v,_);return Object.setPrototypeOf(K,a.prototype),K};function C(T,v,_){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+v>_)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||C(v,_,this.length);let K=this[v],q=1,X=0;for(;++X<_&&(q*=256);)K+=this[v+X]*q;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||C(v,_,this.length);let K=this[v+--_],q=1;for(;_>0&&(q*=256);)K+=this[v+--_]*q;return K},a.prototype.readUint8=a.prototype.readUInt8=function(v,_){return v=v>>>0,_||C(v,1,this.length),this[v]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(v,_){return v=v>>>0,_||C(v,2,this.length),this[v]|this[v+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(v,_){return v=v>>>0,_||C(v,2,this.length),this[v]<<8|this[v+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(v,_){return v=v>>>0,_||C(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(v,_){return v=v>>>0,_||C(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},a.prototype.readBigUInt64LE=br(function(v){v=v>>>0,It(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Ae(v,this.length-8);const K=_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,q=this[++v]+this[++v]*2**8+this[++v]*2**16+U*2**24;return BigInt(K)+(BigInt(q)<<BigInt(32))}),a.prototype.readBigUInt64BE=br(function(v){v=v>>>0,It(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Ae(v,this.length-8);const K=_*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],q=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U;return(BigInt(K)<<BigInt(32))+BigInt(q)}),a.prototype.readIntLE=function(v,_,U){v=v>>>0,_=_>>>0,U||C(v,_,this.length);let K=this[v],q=1,X=0;for(;++X<_&&(q*=256);)K+=this[v+X]*q;return q*=128,K>=q&&(K-=Math.pow(2,8*_)),K},a.prototype.readIntBE=function(v,_,U){v=v>>>0,_=_>>>0,U||C(v,_,this.length);let K=_,q=1,X=this[v+--K];for(;K>0&&(q*=256);)X+=this[v+--K]*q;return q*=128,X>=q&&(X-=Math.pow(2,8*_)),X},a.prototype.readInt8=function(v,_){return v=v>>>0,_||C(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},a.prototype.readInt16LE=function(v,_){v=v>>>0,_||C(v,2,this.length);const U=this[v]|this[v+1]<<8;return U&32768?U|4294901760:U},a.prototype.readInt16BE=function(v,_){v=v>>>0,_||C(v,2,this.length);const U=this[v+1]|this[v]<<8;return U&32768?U|4294901760:U},a.prototype.readInt32LE=function(v,_){return v=v>>>0,_||C(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},a.prototype.readInt32BE=function(v,_){return v=v>>>0,_||C(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},a.prototype.readBigInt64LE=br(function(v){v=v>>>0,It(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Ae(v,this.length-8);const K=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(U<<24);return(BigInt(K)<<BigInt(32))+BigInt(_+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),a.prototype.readBigInt64BE=br(function(v){v=v>>>0,It(v,"offset");const _=this[v],U=this[v+7];(_===void 0||U===void 0)&&Ae(v,this.length-8);const K=(_<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(K)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+U)}),a.prototype.readFloatLE=function(v,_){return v=v>>>0,_||C(v,4,this.length),t.read(this,v,!0,23,4)},a.prototype.readFloatBE=function(v,_){return v=v>>>0,_||C(v,4,this.length),t.read(this,v,!1,23,4)},a.prototype.readDoubleLE=function(v,_){return v=v>>>0,_||C(v,8,this.length),t.read(this,v,!0,52,8)},a.prototype.readDoubleBE=function(v,_){return v=v>>>0,_||C(v,8,this.length),t.read(this,v,!1,52,8)};function m(T,v,_,U,K,q){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>K||v<q)throw new RangeError('"value" argument is out of bounds');if(_+U>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(v,_,U,K){if(v=+v,_=_>>>0,U=U>>>0,!K){const _e=Math.pow(2,8*U)-1;m(this,v,_,U,_e,0)}let q=1,X=0;for(this[_]=v&255;++X<U&&(q*=256);)this[_+X]=v/q&255;return _+U},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(v,_,U,K){if(v=+v,_=_>>>0,U=U>>>0,!K){const _e=Math.pow(2,8*U)-1;m(this,v,_,U,_e,0)}let q=U-1,X=1;for(this[_+q]=v&255;--q>=0&&(X*=256);)this[_+q]=v/X&255;return _+U},a.prototype.writeUint8=a.prototype.writeUInt8=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,1,255,0),this[_]=v&255,_+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,2,65535,0),this[_]=v&255,this[_+1]=v>>>8,_+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,2,65535,0),this[_]=v>>>8,this[_+1]=v&255,_+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,4,4294967295,0),this[_+3]=v>>>24,this[_+2]=v>>>16,this[_+1]=v>>>8,this[_]=v&255,_+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,4,4294967295,0),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4};function O(T,v,_,U,K){He(v,U,K,T,_,7);let q=Number(v&BigInt(4294967295));T[_++]=q,q=q>>8,T[_++]=q,q=q>>8,T[_++]=q,q=q>>8,T[_++]=q;let X=Number(v>>BigInt(32)&BigInt(4294967295));return T[_++]=X,X=X>>8,T[_++]=X,X=X>>8,T[_++]=X,X=X>>8,T[_++]=X,_}function V(T,v,_,U,K){He(v,U,K,T,_,7);let q=Number(v&BigInt(4294967295));T[_+7]=q,q=q>>8,T[_+6]=q,q=q>>8,T[_+5]=q,q=q>>8,T[_+4]=q;let X=Number(v>>BigInt(32)&BigInt(4294967295));return T[_+3]=X,X=X>>8,T[_+2]=X,X=X>>8,T[_+1]=X,X=X>>8,T[_]=X,_+8}a.prototype.writeBigUInt64LE=br(function(v,_=0){return O(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=br(function(v,_=0){return V(this,v,_,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(v,_,U,K){if(v=+v,_=_>>>0,!K){const ve=Math.pow(2,8*U-1);m(this,v,_,U,ve-1,-ve)}let q=0,X=1,_e=0;for(this[_]=v&255;++q<U&&(X*=256);)v<0&&_e===0&&this[_+q-1]!==0&&(_e=1),this[_+q]=(v/X>>0)-_e&255;return _+U},a.prototype.writeIntBE=function(v,_,U,K){if(v=+v,_=_>>>0,!K){const ve=Math.pow(2,8*U-1);m(this,v,_,U,ve-1,-ve)}let q=U-1,X=1,_e=0;for(this[_+q]=v&255;--q>=0&&(X*=256);)v<0&&_e===0&&this[_+q+1]!==0&&(_e=1),this[_+q]=(v/X>>0)-_e&255;return _+U},a.prototype.writeInt8=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,1,127,-128),v<0&&(v=255+v+1),this[_]=v&255,_+1},a.prototype.writeInt16LE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,2,32767,-32768),this[_]=v&255,this[_+1]=v>>>8,_+2},a.prototype.writeInt16BE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,2,32767,-32768),this[_]=v>>>8,this[_+1]=v&255,_+2},a.prototype.writeInt32LE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,4,2147483647,-2147483648),this[_]=v&255,this[_+1]=v>>>8,this[_+2]=v>>>16,this[_+3]=v>>>24,_+4},a.prototype.writeInt32BE=function(v,_,U){return v=+v,_=_>>>0,U||m(this,v,_,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[_]=v>>>24,this[_+1]=v>>>16,this[_+2]=v>>>8,this[_+3]=v&255,_+4},a.prototype.writeBigInt64LE=br(function(v,_=0){return O(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=br(function(v,_=0){return V(this,v,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(T,v,_,U,K,q){if(_+U>T.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function te(T,v,_,U,K){return v=+v,_=_>>>0,K||J(T,v,_,4),t.write(T,v,_,U,23,4),_+4}a.prototype.writeFloatLE=function(v,_,U){return te(this,v,_,!0,U)},a.prototype.writeFloatBE=function(v,_,U){return te(this,v,_,!1,U)};function we(T,v,_,U,K){return v=+v,_=_>>>0,K||J(T,v,_,8),t.write(T,v,_,U,52,8),_+8}a.prototype.writeDoubleLE=function(v,_,U){return we(this,v,_,!0,U)},a.prototype.writeDoubleBE=function(v,_,U){return we(this,v,_,!1,U)},a.prototype.copy=function(v,_,U,K){if(!a.isBuffer(v))throw new TypeError("argument should be a Buffer");if(U||(U=0),!K&&K!==0&&(K=this.length),_>=v.length&&(_=v.length),_||(_=0),K>0&&K<U&&(K=U),K===U||v.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),v.length-_<K-U&&(K=v.length-_+U);const q=K-U;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,U,K):Uint8Array.prototype.set.call(v,this.subarray(U,K),_),q},a.prototype.fill=function(v,_,U,K){if(typeof v=="string"){if(typeof _=="string"?(K=_,_=0,U=this.length):typeof U=="string"&&(K=U,U=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(v.length===1){const X=v.charCodeAt(0);(K==="utf8"&&X<128||K==="latin1")&&(v=X)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(_<0||this.length<_||this.length<U)throw new RangeError("Out of range index");if(U<=_)return this;_=_>>>0,U=U===void 0?this.length:U>>>0,v||(v=0);let q;if(typeof v=="number")for(q=_;q<U;++q)this[q]=v;else{const X=a.isBuffer(v)?v:a.from(v,K),_e=X.length;if(_e===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(q=0;q<U-_;++q)this[q+_]=X[q%_e]}return this};const oe={};function be(T,v,_){oe[T]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(T,v){return`The "${T}" argument must be of type number. Received type ${typeof v}`},TypeError),be("ERR_OUT_OF_RANGE",function(T,v,_){let U=`The value of "${T}" is out of range.`,K=_;return Number.isInteger(_)&&Math.abs(_)>2**32?K=nr(String(_)):typeof _=="bigint"&&(K=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(K=nr(K)),K+="n"),U+=` It must be ${v}. Received ${K}`,U},RangeError);function nr(T){let v="",_=T.length;const U=T[0]==="-"?1:0;for(;_>=U+4;_-=3)v=`_${T.slice(_-3,_)}${v}`;return`${T.slice(0,_)}${v}`}function De(T,v,_){It(v,"offset"),(T[v]===void 0||T[v+_]===void 0)&&Ae(v,T.length-(_+1))}function He(T,v,_,U,K,q){if(T>_||T<v){const X=typeof v=="bigint"?"n":"";let _e;throw v===0||v===BigInt(0)?_e=`>= 0${X} and < 2${X} ** ${(q+1)*8}${X}`:_e=`>= -(2${X} ** ${(q+1)*8-1}${X}) and < 2 ** ${(q+1)*8-1}${X}`,new oe.ERR_OUT_OF_RANGE("value",_e,T)}De(U,K,q)}function It(T,v){if(typeof T!="number")throw new oe.ERR_INVALID_ARG_TYPE(v,"number",T)}function Ae(T,v,_){throw Math.floor(T)!==T?(It(T,_),new oe.ERR_OUT_OF_RANGE("offset","an integer",T)):v<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,T)}const Xe=/[^+/0-9A-Za-z-_]/g;function yn(T){if(T=T.split("=")[0],T=T.trim().replace(Xe,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function je(T,v){v=v||1/0;let _;const U=T.length;let K=null;const q=[];for(let X=0;X<U;++X){if(_=T.charCodeAt(X),_>55295&&_<57344){if(!K){if(_>56319){(v-=3)>-1&&q.push(239,191,189);continue}else if(X+1===U){(v-=3)>-1&&q.push(239,191,189);continue}K=_;continue}if(_<56320){(v-=3)>-1&&q.push(239,191,189),K=_;continue}_=(K-55296<<10|_-56320)+65536}else K&&(v-=3)>-1&&q.push(239,191,189);if(K=null,_<128){if((v-=1)<0)break;q.push(_)}else if(_<2048){if((v-=2)<0)break;q.push(_>>6|192,_&63|128)}else if(_<65536){if((v-=3)<0)break;q.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((v-=4)<0)break;q.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return q}function Ze(T){const v=[];for(let _=0;_<T.length;++_)v.push(T.charCodeAt(_)&255);return v}function ii(T,v){let _,U,K;const q=[];for(let X=0;X<T.length&&!((v-=2)<0);++X)_=T.charCodeAt(X),U=_>>8,K=_%256,q.push(K),q.push(U);return q}function $e(T){return e.toByteArray(yn(T))}function ke(T,v,_,U){let K;for(K=0;K<U&&!(K+_>=v.length||K>=T.length);++K)v[K+_]=T[K];return K}function rt(T,v){return T instanceof v||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===v.name}function Pe(T){return T!==T}const Qe=function(){const T="0123456789abcdef",v=new Array(256);for(let _=0;_<16;++_){const U=_*16;for(let K=0;K<16;++K)v[U+K]=T[_]+T[K]}return v}();function br(T){return typeof BigInt>"u"?We:T}function We(){throw new Error("BigInt not supported")}})(ue);const Ro=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Lh(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Ca(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function tn(r,...e){if(!Lh(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function aS(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ca(r.outputLen),Ca(r.blockLen)}function ds(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function fv(r,e){tn(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function cS(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Ni(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function y0(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function xn(r,e){return r<<32-e|r>>>e}const uS=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function lS(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function fS(r){for(let e=0;e<r.length;e++)r[e]=lS(r[e]);return r}const $1=uS?r=>r:fS,dv=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",dS=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function hs(r){if(tn(r),dv)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=dS[r[t]];return e}const Ln={_0:48,_9:57,A:65,F:70,a:97,f:102};function W1(r){if(r>=Ln._0&&r<=Ln._9)return r-Ln._0;if(r>=Ln.A&&r<=Ln.F)return r-(Ln.A-10);if(r>=Ln.a&&r<=Ln.f)return r-(Ln.a-10)}function Fh(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(dv)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let i=0,o=0;i<t;i++,o+=2){const s=W1(r.charCodeAt(o)),a=W1(r.charCodeAt(o+1));if(s===void 0||a===void 0){const c=r[o]+r[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[i]=s*16+a}return n}function hS(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Xu(r){return typeof r=="string"&&(r=hS(r)),tn(r),r}function Yn(...r){let e=0;for(let n=0;n<r.length;n++){const i=r[n];tn(i),e+=i.length}const t=new Uint8Array(e);for(let n=0,i=0;n<r.length;n++){const o=r[n];t.set(o,i),i+=o.length}return t}class Mh{}function Uh(r){const e=n=>r().update(Xu(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function hv(r=32){if(Ro&&typeof Ro.getRandomValues=="function")return Ro.getRandomValues(new Uint8Array(r));if(Ro&&typeof Ro.randomBytes=="function")return Uint8Array.from(Ro.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function pS(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(t>>i&o),a=Number(t&o),c=n?4:0,u=n?0:4;r.setUint32(e+c,s,n),r.setUint32(e+u,a,n)}function mS(r,e,t){return r&e^~r&t}function yS(r,e,t){return r&e^r&t^e&t}class pv extends Mh{constructor(e,t,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=y0(this.buffer)}update(e){ds(this),e=Xu(e),tn(e);const{view:t,buffer:n,blockLen:i}=this,o=e.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const c=y0(e);for(;i<=o-s;s+=i)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ds(this),fv(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;t[s++]=128,Ni(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let y=s;y<i;y++)t[y]=0;pS(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=y0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,f=this.get();if(u>f.length)throw new Error("_sha2: outputLen bigger than state");for(let y=0;y<u;y++)a.setUint32(4*y,f[y],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=o,e.length=i,e.pos=a,i%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const si=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ar=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),gc=BigInt(2**32-1),K1=BigInt(32);function gS(r,e=!1){return e?{h:Number(r&gc),l:Number(r>>K1&gc)}:{h:Number(r>>K1&gc)|0,l:Number(r&gc)|0}}function mv(r,e=!1){const t=r.length;let n=new Uint32Array(t),i=new Uint32Array(t);for(let o=0;o<t;o++){const{h:s,l:a}=gS(r[o],e);[n[o],i[o]]=[s,a]}return[n,i]}const V1=(r,e,t)=>r>>>t,q1=(r,e,t)=>r<<32-t|e>>>t,ko=(r,e,t)=>r>>>t|e<<32-t,Co=(r,e,t)=>r<<32-t|e>>>t,xc=(r,e,t)=>r<<64-t|e>>>t-32,vc=(r,e,t)=>r>>>t-32|e<<64-t,xS=(r,e,t)=>r<<t|e>>>32-t,vS=(r,e,t)=>e<<t|r>>>32-t,wS=(r,e,t)=>e<<t-32|r>>>64-t,_S=(r,e,t)=>r<<t-32|e>>>64-t;function Fn(r,e,t,n){const i=(e>>>0)+(n>>>0);return{h:r+t+(i/2**32|0)|0,l:i|0}}const ES=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),bS=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,AS=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),SS=(r,e,t,n,i)=>e+t+n+i+(r/2**32|0)|0,RS=(r,e,t,n,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(i>>>0),kS=(r,e,t,n,i,o)=>e+t+n+i+o+(r/2**32|0)|0,CS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ai=new Uint32Array(64);class IS extends pv{constructor(e=32){super(64,e,8,!1),this.A=si[0]|0,this.B=si[1]|0,this.C=si[2]|0,this.D=si[3]|0,this.E=si[4]|0,this.F=si[5]|0,this.G=si[6]|0,this.H=si[7]|0}get(){const{A:e,B:t,C:n,D:i,E:o,F:s,G:a,H:c}=this;return[e,t,n,i,o,s,a,c]}set(e,t,n,i,o,s,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,t){for(let y=0;y<16;y++,t+=4)ai[y]=e.getUint32(t,!1);for(let y=16;y<64;y++){const p=ai[y-15],d=ai[y-2],x=xn(p,7)^xn(p,18)^p>>>3,b=xn(d,17)^xn(d,19)^d>>>10;ai[y]=b+ai[y-7]+x+ai[y-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:c,G:u,H:f}=this;for(let y=0;y<64;y++){const p=xn(a,6)^xn(a,11)^xn(a,25),d=f+p+mS(a,c,u)+CS[y]+ai[y]|0,b=(xn(n,2)^xn(n,13)^xn(n,22))+yS(n,i,o)|0;f=u,u=c,c=a,a=s+d|0,s=o,o=i,i=n,n=d+b|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,f=f+this.H|0,this.set(n,i,o,s,a,c,u,f)}roundClean(){Ni(ai)}destroy(){this.set(0,0,0,0,0,0,0,0),Ni(this.buffer)}}const yv=mv(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),BS=yv[0],TS=yv[1],ci=new Uint32Array(80),ui=new Uint32Array(80);class OS extends pv{constructor(e=64){super(128,e,16,!1),this.Ah=ar[0]|0,this.Al=ar[1]|0,this.Bh=ar[2]|0,this.Bl=ar[3]|0,this.Ch=ar[4]|0,this.Cl=ar[5]|0,this.Dh=ar[6]|0,this.Dl=ar[7]|0,this.Eh=ar[8]|0,this.El=ar[9]|0,this.Fh=ar[10]|0,this.Fl=ar[11]|0,this.Gh=ar[12]|0,this.Gl=ar[13]|0,this.Hh=ar[14]|0,this.Hl=ar[15]|0}get(){const{Ah:e,Al:t,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:c,Eh:u,El:f,Fh:y,Fl:p,Gh:d,Gl:x,Hh:b,Hl:E}=this;return[e,t,n,i,o,s,a,c,u,f,y,p,d,x,b,E]}set(e,t,n,i,o,s,a,c,u,f,y,p,d,x,b,E){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=f|0,this.Fh=y|0,this.Fl=p|0,this.Gh=d|0,this.Gl=x|0,this.Hh=b|0,this.Hl=E|0}process(e,t){for(let w=0;w<16;w++,t+=4)ci[w]=e.getUint32(t),ui[w]=e.getUint32(t+=4);for(let w=16;w<80;w++){const k=ci[w-15]|0,I=ui[w-15]|0,F=ko(k,I,1)^ko(k,I,8)^V1(k,I,7),L=Co(k,I,1)^Co(k,I,8)^q1(k,I,7),z=ci[w-2]|0,H=ui[w-2]|0,D=ko(z,H,19)^xc(z,H,61)^V1(z,H,6),P=Co(z,H,19)^vc(z,H,61)^q1(z,H,6),j=AS(L,P,ui[w-7],ui[w-16]),S=SS(j,F,D,ci[w-7],ci[w-16]);ci[w]=S|0,ui[w]=j|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:c,Dh:u,Dl:f,Eh:y,El:p,Fh:d,Fl:x,Gh:b,Gl:E,Hh:A,Hl:g}=this;for(let w=0;w<80;w++){const k=ko(y,p,14)^ko(y,p,18)^xc(y,p,41),I=Co(y,p,14)^Co(y,p,18)^vc(y,p,41),F=y&d^~y&b,L=p&x^~p&E,z=RS(g,I,L,TS[w],ui[w]),H=kS(z,A,k,F,BS[w],ci[w]),D=z|0,P=ko(n,i,28)^xc(n,i,34)^xc(n,i,39),j=Co(n,i,28)^vc(n,i,34)^vc(n,i,39),S=n&o^n&a^o&a,l=i&s^i&c^s&c;A=b|0,g=E|0,b=d|0,E=x|0,d=y|0,x=p|0,{h:y,l:p}=Fn(u|0,f|0,H|0,D|0),u=a|0,f=c|0,a=o|0,c=s|0,o=n|0,s=i|0;const h=ES(D,j,l);n=bS(h,H,P,S),i=h|0}({h:n,l:i}=Fn(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=Fn(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l:c}=Fn(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:f}=Fn(this.Dh|0,this.Dl|0,u|0,f|0),{h:y,l:p}=Fn(this.Eh|0,this.El|0,y|0,p|0),{h:d,l:x}=Fn(this.Fh|0,this.Fl|0,d|0,x|0),{h:b,l:E}=Fn(this.Gh|0,this.Gl|0,b|0,E|0),{h:A,l:g}=Fn(this.Hh|0,this.Hl|0,A|0,g|0),this.set(n,i,o,s,a,c,u,f,y,p,d,x,b,E,A,g)}roundClean(){Ni(ci,ui)}destroy(){Ni(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gv=Uh(()=>new IS),NS=Uh(()=>new OS);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zh=BigInt(0),_d=BigInt(1);function co(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}function wc(r){const e=r.toString(16);return e.length&1?"0"+e:e}function xv(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?zh:BigInt("0x"+r)}function Qu(r){return xv(hs(r))}function Ia(r){return tn(r),xv(hs(Uint8Array.from(r).reverse()))}function Hh(r,e){return Fh(r.toString(16).padStart(e*2,"0"))}function Ju(r,e){return Hh(r,e).reverse()}function Tt(r,e,t){let n;if(typeof e=="string")try{n=Fh(e)}catch(o){throw new Error(r+" must be hex string or Uint8Array, cause: "+o)}else if(Lh(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const i=n.length;if(typeof t=="number"&&i!==t)throw new Error(r+" of length "+t+" expected, got "+i);return n}const g0=r=>typeof r=="bigint"&&zh<=r;function DS(r,e,t){return g0(r)&&g0(e)&&g0(t)&&e<=r&&r<t}function Vo(r,e,t,n){if(!DS(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function PS(r){let e;for(e=0;r>zh;r>>=_d,e+=1);return e}const el=r=>(_d<<BigInt(r))-_d;function LS(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const n=d=>new Uint8Array(d),i=d=>Uint8Array.of(d);let o=n(r),s=n(r),a=0;const c=()=>{o.fill(1),s.fill(0),a=0},u=(...d)=>t(s,o,...d),f=(d=n(0))=>{s=u(i(0),d),o=u(),d.length!==0&&(s=u(i(1),d),o=u())},y=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const x=[];for(;d<e;){o=u();const b=o.slice();x.push(b),d+=o.length}return Yn(...x)};return(d,x)=>{c(),f(d);let b;for(;!(b=x(y()));)f();return c(),b}}function ja(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function n(i,o,s){const a=r[i];if(s&&a===void 0)return;const c=typeof a;if(c!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${c}`)}Object.entries(e).forEach(([i,o])=>n(i,o,!1)),Object.entries(t).forEach(([i,o])=>n(i,o,!0))}function vu(r){const e=new WeakMap;return(t,...n)=>{const i=e.get(t);if(i!==void 0)return i;const o=r(t,...n);return e.set(t,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Br=BigInt(0),tr=BigInt(1),Zi=BigInt(2),FS=BigInt(3),vv=BigInt(4),wv=BigInt(5),_v=BigInt(8);function Ot(r,e){const t=r%e;return t>=Br?t:e+t}function kt(r,e,t){let n=r;for(;e-- >Br;)n*=n,n%=t;return n}function G1(r,e){if(r===Br)throw new Error("invert: expected non-zero number");if(e<=Br)throw new Error("invert: expected positive modulus, got "+e);let t=Ot(r,e),n=e,i=Br,o=tr;for(;t!==Br;){const a=n/t,c=n%t,u=i-o*a;n=t,t=c,i=o,o=u}if(n!==tr)throw new Error("invert: does not exist");return Ot(i,e)}function Ev(r,e){const t=(r.ORDER+tr)/vv,n=r.pow(e,t);if(!r.eql(r.sqr(n),e))throw new Error("Cannot find square root");return n}function MS(r,e){const t=(r.ORDER-wv)/_v,n=r.mul(e,Zi),i=r.pow(n,t),o=r.mul(e,i),s=r.mul(r.mul(o,Zi),i),a=r.mul(o,r.sub(s,r.ONE));if(!r.eql(r.sqr(a),e))throw new Error("Cannot find square root");return a}function US(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let e=r-tr,t=0;for(;e%Zi===Br;)e/=Zi,t++;let n=Zi;const i=Es(r);for(;Y1(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Ev;let o=i.pow(n,e);const s=(e+tr)/Zi;return function(c,u){if(c.is0(u))return u;if(Y1(c,u)!==1)throw new Error("Cannot find square root");let f=t,y=c.mul(c.ONE,o),p=c.pow(u,e),d=c.pow(u,s);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let x=1,b=c.sqr(p);for(;!c.eql(b,c.ONE);)if(x++,b=c.sqr(b),x===f)throw new Error("Cannot find square root");const E=tr<<BigInt(f-x-1),A=c.pow(y,E);f=x,y=c.sqr(A),p=c.mul(p,y),d=c.mul(d,A)}return d}}function zS(r){return r%vv===FS?Ev:r%_v===wv?MS:US(r)}const HS=(r,e)=>(Ot(r,e)&tr)===tr,jS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $S(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=jS.reduce((n,i)=>(n[i]="function",n),e);return ja(r,t),r}function WS(r,e,t){if(t<Br)throw new Error("invalid exponent, negatives unsupported");if(t===Br)return r.ONE;if(t===tr)return e;let n=r.ONE,i=e;for(;t>Br;)t&tr&&(n=r.mul(n,i)),i=r.sqr(i),t>>=tr;return n}function bv(r,e,t=!1){const n=new Array(e.length).fill(t?r.ZERO:void 0),i=e.reduce((s,a,c)=>r.is0(a)?s:(n[c]=s,r.mul(s,a)),r.ONE),o=r.inv(i);return e.reduceRight((s,a,c)=>r.is0(a)?s:(n[c]=r.mul(s,n[c]),r.mul(s,a)),o),n}function Y1(r,e){const t=(r.ORDER-tr)/Zi,n=r.pow(e,t),i=r.eql(n,r.ONE),o=r.eql(n,r.ZERO),s=r.eql(n,r.neg(r.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function KS(r,e){e!==void 0&&Ca(e);const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Es(r,e,t=!1,n={}){if(r<=Br)throw new Error("invalid field: expected ORDER > 0, got "+r);let i,o;if(typeof e=="object"&&e!=null){if(n.sqrt||t)throw new Error("cannot specify opts in two arguments");const f=e;f.BITS&&(i=f.BITS),f.sqrt&&(o=f.sqrt),typeof f.isLE=="boolean"&&(t=f.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(o=n.sqrt);const{nBitLength:s,nByteLength:a}=KS(r,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:r,isLE:t,BITS:s,BYTES:a,MASK:el(s),ZERO:Br,ONE:tr,create:f=>Ot(f,r),isValid:f=>{if(typeof f!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof f);return Br<=f&&f<r},is0:f=>f===Br,isValidNot0:f=>!u.is0(f)&&u.isValid(f),isOdd:f=>(f&tr)===tr,neg:f=>Ot(-f,r),eql:(f,y)=>f===y,sqr:f=>Ot(f*f,r),add:(f,y)=>Ot(f+y,r),sub:(f,y)=>Ot(f-y,r),mul:(f,y)=>Ot(f*y,r),pow:(f,y)=>WS(u,f,y),div:(f,y)=>Ot(f*G1(y,r),r),sqrN:f=>f*f,addN:(f,y)=>f+y,subN:(f,y)=>f-y,mulN:(f,y)=>f*y,inv:f=>G1(f,r),sqrt:o||(f=>(c||(c=zS(r)),c(u,f))),toBytes:f=>t?Ju(f,a):Hh(f,a),fromBytes:f=>{if(f.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+f.length);return t?Ia(f):Qu(f)},invertBatch:f=>bv(u,f),cmov:(f,y,p)=>p?y:f});return Object.freeze(u)}function Av(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Sv(r){const e=Av(r);return e+Math.ceil(e/2)}function VS(r,e,t=!1){const n=r.length,i=Av(e),o=Sv(e);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=t?Ia(r):Qu(r),a=Ot(s,e-tr)+tr;return t?Ju(a,i):Hh(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ps=BigInt(0),Xi=BigInt(1);function ia(r,e){const t=e.negate();return r?t:e}function Rv(r,e,t){const n=e==="pz"?s=>s.pz:s=>s.ez,i=bv(r.Fp,t.map(n));return t.map((s,a)=>s.toAffine(i[a])).map(r.fromAffine)}function kv(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function x0(r,e){kv(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1),i=2**r,o=el(r),s=BigInt(r);return{windows:t,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function Z1(r,e,t){const{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=t;let a=Number(r&i),c=r>>s;a>n&&(a-=o,c+=Xi);const u=e*n,f=u+Math.abs(a)-1,y=a===0,p=a<0,d=e%2!==0;return{nextN:c,offset:f,isZero:y,isNeg:p,isNegF:d,offsetF:u}}function qS(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function GS(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const v0=new WeakMap,Cv=new WeakMap;function w0(r){return Cv.get(r)||1}function X1(r){if(r!==ps)throw new Error("invalid wNAF")}function Iv(r,e){return{constTimeNegate:ia,hasPrecomputes(t){return w0(t)!==1},unsafeLadder(t,n,i=r.ZERO){let o=t;for(;n>ps;)n&Xi&&(i=i.add(o)),o=o.double(),n>>=Xi;return i},precomputeWindow(t,n){const{windows:i,windowSize:o}=x0(n,e),s=[];let a=t,c=a;for(let u=0;u<i;u++){c=a,s.push(c);for(let f=1;f<o;f++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(t,n,i){let o=r.ZERO,s=r.BASE;const a=x0(t,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:f,isZero:y,isNeg:p,isNegF:d,offsetF:x}=Z1(i,c,a);i=u,y?s=s.add(ia(d,n[x])):o=o.add(ia(p,n[f]))}return X1(i),{p:o,f:s}},wNAFUnsafe(t,n,i,o=r.ZERO){const s=x0(t,e);for(let a=0;a<s.windows&&i!==ps;a++){const{nextN:c,offset:u,isZero:f,isNeg:y}=Z1(i,a,s);if(i=c,!f){const p=n[u];o=o.add(y?p.negate():p)}}return X1(i),o},getPrecomputes(t,n,i){let o=v0.get(n);return o||(o=this.precomputeWindow(n,t),t!==1&&(typeof i=="function"&&(o=i(o)),v0.set(n,o))),o},wNAFCached(t,n,i){const o=w0(t);return this.wNAF(o,this.getPrecomputes(o,t,i),n)},wNAFCachedUnsafe(t,n,i,o){const s=w0(t);return s===1?this.unsafeLadder(t,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,t,i),n,o)},setWindowSize(t,n){kv(n,e),Cv.set(t,n),v0.delete(t)}}}function YS(r,e,t,n){let i=e,o=r.ZERO,s=r.ZERO;for(;t>ps||n>ps;)t&Xi&&(o=o.add(i)),n&Xi&&(s=s.add(i)),i=i.double(),t>>=Xi,n>>=Xi;return{p1:o,p2:s}}function Bv(r,e,t,n){qS(t,r),GS(n,e);const i=t.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=r.ZERO,a=PS(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=el(c),f=new Array(Number(u)+1).fill(s),y=Math.floor((e.BITS-1)/c)*c;let p=s;for(let d=y;d>=0;d-=c){f.fill(s);for(let b=0;b<o;b++){const E=n[b],A=Number(E>>BigInt(d)&u);f[A]=f[A].add(t[b])}let x=s;for(let b=f.length-1,E=s;b>0;b--)E=E.add(f[b]),x=x.add(E);if(p=p.add(x),d!==0)for(let b=0;b<c;b++)p=p.double()}return p}function Q1(r,e){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return $S(e),e}else return Es(r)}function Tv(r,e,t={}){if(!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const a of["p","n","h"]){const c=e[a];if(!(typeof c=="bigint"&&c>ps))throw new Error(`CURVE.${a} must be positive bigint`)}const n=Q1(e.p,t.Fp),i=Q1(e.n,t.Fn),s=["Gx","Gy","a",r==="weierstrass"?"b":"d"];for(const a of s)if(!n.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wn=BigInt(0),pr=BigInt(1),_0=BigInt(2),ZS=BigInt(8),XS={zip215:!0};function QS(r,e,t,n){const i=r.sqr(t),o=r.sqr(n),s=r.add(r.mul(e.a,i),o),a=r.add(r.ONE,r.mul(e.d,r.mul(i,o)));return r.eql(s,a)}function JS(r,e={}){const{Fp:t,Fn:n}=Tv("edwards",r,e),{h:i,n:o}=r;ja(e,{},{uvRatio:"function"});const s=_0<<BigInt(n.BYTES*8)-pr,a=b=>t.create(b),c=e.uvRatio||((b,E)=>{try{return{isValid:!0,value:t.sqrt(t.div(b,E))}}catch{return{isValid:!1,value:wn}}});if(!QS(t,r,r.Gx,r.Gy))throw new Error("bad curve params: generator point");function u(b,E,A=!1){const g=A?pr:wn;return Vo("coordinate "+b,E,g,s),E}function f(b){if(!(b instanceof d))throw new Error("ExtendedPoint expected")}const y=vu((b,E)=>{const{ex:A,ey:g,ez:w}=b,k=b.is0();E==null&&(E=k?ZS:t.inv(w));const I=a(A*E),F=a(g*E),L=a(w*E);if(k)return{x:wn,y:pr};if(L!==pr)throw new Error("invZ was invalid");return{x:I,y:F}}),p=vu(b=>{const{a:E,d:A}=r;if(b.is0())throw new Error("bad point: ZERO");const{ex:g,ey:w,ez:k,et:I}=b,F=a(g*g),L=a(w*w),z=a(k*k),H=a(z*z),D=a(F*E),P=a(z*a(D+L)),j=a(H+a(A*a(F*L)));if(P!==j)throw new Error("bad point: equation left != right (1)");const S=a(g*w),l=a(k*I);if(S!==l)throw new Error("bad point: equation left != right (2)");return!0});class d{constructor(E,A,g,w){this.ex=u("x",E),this.ey=u("y",A),this.ez=u("z",g,!0),this.et=u("t",w),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof d)throw new Error("extended point not allowed");const{x:A,y:g}=E||{};return u("x",A),u("y",g),new d(A,g,pr,a(A*g))}static normalizeZ(E){return Rv(d,"ez",E)}static msm(E,A){return Bv(d,n,E,A)}_setWindowSize(E){this.precompute(E)}precompute(E=8,A=!0){return x.setWindowSize(this,E),A||this.multiply(_0),this}assertValidity(){p(this)}equals(E){f(E);const{ex:A,ey:g,ez:w}=this,{ex:k,ey:I,ez:F}=E,L=a(A*F),z=a(k*w),H=a(g*F),D=a(I*w);return L===z&&H===D}is0(){return this.equals(d.ZERO)}negate(){return new d(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){const{a:E}=r,{ex:A,ey:g,ez:w}=this,k=a(A*A),I=a(g*g),F=a(_0*a(w*w)),L=a(E*k),z=A+g,H=a(a(z*z)-k-I),D=L+I,P=D-F,j=L-I,S=a(H*P),l=a(D*j),h=a(H*j),R=a(P*D);return new d(S,l,R,h)}add(E){f(E);const{a:A,d:g}=r,{ex:w,ey:k,ez:I,et:F}=this,{ex:L,ey:z,ez:H,et:D}=E,P=a(w*L),j=a(k*z),S=a(F*g*D),l=a(I*H),h=a((w+k)*(L+z)-P-j),R=l-S,N=l+S,B=a(j-A*P),M=a(h*R),$=a(N*B),C=a(h*B),m=a(R*N);return new d(M,$,m,C)}subtract(E){return this.add(E.negate())}multiply(E){const A=E;Vo("scalar",A,pr,o);const{p:g,f:w}=x.wNAFCached(this,A,d.normalizeZ);return d.normalizeZ([g,w])[0]}multiplyUnsafe(E,A=d.ZERO){const g=E;return Vo("scalar",g,wn,o),g===wn?d.ZERO:this.is0()||g===pr?this:x.wNAFCachedUnsafe(this,g,d.normalizeZ,A)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return x.wNAFCachedUnsafe(this,o).is0()}toAffine(E){return y(this,E)}clearCofactor(){return i===pr?this:this.multiplyUnsafe(i)}static fromBytes(E,A=!1){return tn(E),this.fromHex(E,A)}static fromHex(E,A=!1){const{d:g,a:w}=r,k=t.BYTES;E=Tt("pointHex",E,k),co("zip215",A);const I=E.slice(),F=E[k-1];I[k-1]=F&-129;const L=Ia(I),z=A?s:t.ORDER;Vo("pointHex.y",L,wn,z);const H=a(L*L),D=a(H-pr),P=a(g*H-w);let{isValid:j,value:S}=c(D,P);if(!j)throw new Error("Point.fromHex: invalid y coordinate");const l=(S&pr)===pr,h=(F&128)!==0;if(!A&&S===wn&&h)throw new Error("Point.fromHex: x=0 and x_0=1");return h!==l&&(S=a(-S)),d.fromAffine({x:S,y:L})}static fromPrivateScalar(E){return d.BASE.multiply(E)}toBytes(){const{x:E,y:A}=this.toAffine(),g=Ju(A,t.BYTES);return g[g.length-1]|=E&pr?128:0,g}toRawBytes(){return this.toBytes()}toHex(){return hs(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}d.BASE=new d(r.Gx,r.Gy,pr,a(r.Gx*r.Gy)),d.ZERO=new d(wn,pr,pr,wn),d.Fp=t,d.Fn=n;const x=Iv(d,n.BYTES*8);return d}function e8(r,e){ja(e,{hash:"function"},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:t,hash:n}=e,{BASE:i,Fp:o,Fn:s}=r,a=s.ORDER,c=e.randomBytes||hv,u=e.adjustScalarBytes||(I=>I),f=e.domain||((I,F,L)=>{if(co("phflag",L),F.length||L)throw new Error("Contexts/pre-hash are not supported");return I});function y(I){return s.create(I)}function p(I){return y(Ia(I))}function d(I){const F=o.BYTES;I=Tt("private key",I,F);const L=Tt("hashed private key",n(I),2*F),z=u(L.slice(0,F)),H=L.slice(F,2*F),D=p(z);return{head:z,prefix:H,scalar:D}}function x(I){const{head:F,prefix:L,scalar:z}=d(I),H=i.multiply(z),D=H.toBytes();return{head:F,prefix:L,scalar:z,point:H,pointBytes:D}}function b(I){return x(I).pointBytes}function E(I=Uint8Array.of(),...F){const L=Yn(...F);return p(n(f(L,Tt("context",I),!!t)))}function A(I,F,L={}){I=Tt("message",I),t&&(I=t(I));const{prefix:z,scalar:H,pointBytes:D}=x(F),P=E(L.context,z,I),j=i.multiply(P).toBytes(),S=E(L.context,j,D,I),l=y(P+S*H);Vo("signature.s",l,wn,a);const h=o.BYTES,R=Yn(j,Ju(l,h));return Tt("result",R,h*2)}const g=XS;function w(I,F,L,z=g){const{context:H,zip215:D}=z,P=o.BYTES;I=Tt("signature",I,2*P),F=Tt("message",F),L=Tt("publicKey",L,P),D!==void 0&&co("zip215",D),t&&(F=t(F));const j=Ia(I.slice(P,2*P));let S,l,h;try{S=r.fromHex(L,D),l=r.fromHex(I.slice(0,P),D),h=i.multiplyUnsafe(j)}catch{return!1}if(!D&&S.isSmallOrder())return!1;const R=E(H,l.toBytes(),S.toBytes(),F);return l.add(S.multiplyUnsafe(R)).subtract(h).clearCofactor().is0()}return i.precompute(8),{getPublicKey:b,sign:A,verify:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>c(o.BYTES),precompute(I=8,F=r.BASE){return F.precompute(I,!1)}},Point:r}}function t8(r){const e={a:r.a,d:r.d,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,n=Es(e.n,r.nBitLength,!0),i={Fp:t,Fn:n,uvRatio:r.uvRatio},o={hash:r.hash,randomBytes:r.randomBytes,adjustScalarBytes:r.adjustScalarBytes,domain:r.domain,prehash:r.prehash,mapToCurve:r.mapToCurve};return{CURVE:e,curveOpts:i,eddsaOpts:o}}function r8(r,e){return Object.assign({},e,{ExtendedPoint:e.Point,CURVE:r})}function n8(r){const{CURVE:e,curveOpts:t,eddsaOpts:n}=t8(r),i=JS(e,t),o=e8(i,n);return r8(r,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const i8=BigInt(1),J1=BigInt(2);BigInt(3);const o8=BigInt(5),s8=BigInt(8),tl={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:s8,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function a8(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),i=BigInt(80),o=tl.p,a=r*r%o*r%o,c=kt(a,J1,o)*a%o,u=kt(c,i8,o)*r%o,f=kt(u,o8,o)*u%o,y=kt(f,e,o)*f%o,p=kt(y,t,o)*y%o,d=kt(p,n,o)*p%o,x=kt(d,i,o)*d%o,b=kt(x,i,o)*d%o,E=kt(b,e,o)*f%o;return{pow_p_5_8:kt(E,J1,o)*r%o,b2:a}}function c8(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const em=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function u8(r,e){const t=tl.p,n=Ot(e*e*e,t),i=Ot(n*n*e,t),o=a8(r*i).pow_p_5_8;let s=Ot(r*n*o,t);const a=Ot(e*s*s,t),c=s,u=Ot(s*em,t),f=a===r,y=a===Ot(-r,t),p=a===Ot(-r*em,t);return f&&(s=c),(y||p)&&(s=u),HS(s,t)&&(s=Ot(-s,t)),{isValid:f||y,value:s}}const l8=Es(tl.p,void 0,!0),f8={...tl,Fp:l8,hash:NS,adjustScalarBytes:c8,uvRatio:u8},bs=n8(f8);var jh={exports:{}};const d8={},h8=Object.freeze(Object.defineProperty({__proto__:null,default:d8},Symbol.toStringTag,{value:"Module"})),Ov=Nu(h8);jh.exports;(function(r){(function(e,t){function n(S,l){if(!S)throw new Error(l||"Assertion failed")}function i(S,l){S.super_=l;var h=function(){};h.prototype=l.prototype,S.prototype=new h,S.prototype.constructor=S}function o(S,l,h){if(o.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((l==="le"||l==="be")&&(h=l,l=10),this._init(S||0,l||10,h||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ov.Buffer}catch{}o.isBN=function(l){return l instanceof o?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===o.wordSize&&Array.isArray(l.words)},o.max=function(l,h){return l.cmp(h)>0?l:h},o.min=function(l,h){return l.cmp(h)<0?l:h},o.prototype._init=function(l,h,R){if(typeof l=="number")return this._initNumber(l,h,R);if(typeof l=="object")return this._initArray(l,h,R);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),l=l.toString().replace(/\s+/g,"");var N=0;l[0]==="-"&&(N++,this.negative=1),N<l.length&&(h===16?this._parseHex(l,N,R):(this._parseBase(l,h,N),R==="le"&&this._initArray(this.toArray(),h,R)))},o.prototype._initNumber=function(l,h,R){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(n(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),h,R)},o.prototype._initArray=function(l,h,R){if(n(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var B,M,$=0;if(R==="be")for(N=l.length-1,B=0;N>=0;N-=3)M=l[N]|l[N-1]<<8|l[N-2]<<16,this.words[B]|=M<<$&67108863,this.words[B+1]=M>>>26-$&67108863,$+=24,$>=26&&($-=26,B++);else if(R==="le")for(N=0,B=0;N<l.length;N+=3)M=l[N]|l[N+1]<<8|l[N+2]<<16,this.words[B]|=M<<$&67108863,this.words[B+1]=M>>>26-$&67108863,$+=24,$>=26&&($-=26,B++);return this._strip()};function a(S,l){var h=S.charCodeAt(l);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+S)}function c(S,l,h){var R=a(S,h);return h-1>=l&&(R|=a(S,h-1)<<4),R}o.prototype._parseHex=function(l,h,R){this.length=Math.ceil((l.length-h)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var B=0,M=0,$;if(R==="be")for(N=l.length-1;N>=h;N-=2)$=c(l,h,N)<<B,this.words[M]|=$&67108863,B>=18?(B-=18,M+=1,this.words[M]|=$>>>26):B+=8;else{var C=l.length-h;for(N=C%2===0?h+1:h;N<l.length;N+=2)$=c(l,h,N)<<B,this.words[M]|=$&67108863,B>=18?(B-=18,M+=1,this.words[M]|=$>>>26):B+=8}this._strip()};function u(S,l,h,R){for(var N=0,B=0,M=Math.min(S.length,h),$=l;$<M;$++){var C=S.charCodeAt($)-48;N*=R,C>=49?B=C-49+10:C>=17?B=C-17+10:B=C,n(C>=0&&B<R,"Invalid character"),N+=B}return N}o.prototype._parseBase=function(l,h,R){this.words=[0],this.length=1;for(var N=0,B=1;B<=67108863;B*=h)N++;N--,B=B/h|0;for(var M=l.length-R,$=M%N,C=Math.min(M,M-$)+R,m=0,O=R;O<C;O+=N)m=u(l,O,O+N,h),this.imuln(B),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if($!==0){var V=1;for(m=u(l,O,l.length,h),O=0;O<$;O++)V*=h;this.imuln(V),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},o.prototype.copy=function(l){l.words=new Array(this.length);for(var h=0;h<this.length;h++)l.words[h]=this.words[h];l.length=this.length,l.negative=this.negative,l.red=this.red};function f(S,l){S.words=l.words,S.length=l.length,S.negative=l.negative,S.red=l.red}if(o.prototype._move=function(l){f(l,this)},o.prototype.clone=function(){var l=new o(null);return this.copy(l),l},o.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch{o.prototype.inspect=y}else o.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(l,h){l=l||10,h=h|0||1;var R;if(l===16||l==="hex"){R="";for(var N=0,B=0,M=0;M<this.length;M++){var $=this.words[M],C=(($<<N|B)&16777215).toString(16);B=$>>>24-N&16777215,N+=2,N>=26&&(N-=26,M--),B!==0||M!==this.length-1?R=p[6-C.length]+C+R:R=C+R}for(B!==0&&(R=B.toString(16)+R);R.length%h!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(l===(l|0)&&l>=2&&l<=36){var m=d[l],O=x[l];R="";var V=this.clone();for(V.negative=0;!V.isZero();){var J=V.modrn(O).toString(l);V=V.idivn(O),V.isZero()?R=J+R:R=p[m-J.length]+J+R}for(this.isZero()&&(R="0"+R);R.length%h!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(l,h){return this.toArrayLike(s,l,h)}),o.prototype.toArray=function(l,h){return this.toArrayLike(Array,l,h)};var b=function(l,h){return l.allocUnsafe?l.allocUnsafe(h):new l(h)};o.prototype.toArrayLike=function(l,h,R){this._strip();var N=this.byteLength(),B=R||Math.max(1,N);n(N<=B,"byte array longer than desired length"),n(B>0,"Requested array length <= 0");var M=b(l,B),$=h==="le"?"LE":"BE";return this["_toArrayLike"+$](M,N),M},o.prototype._toArrayLikeLE=function(l,h){for(var R=0,N=0,B=0,M=0;B<this.length;B++){var $=this.words[B]<<M|N;l[R++]=$&255,R<l.length&&(l[R++]=$>>8&255),R<l.length&&(l[R++]=$>>16&255),M===6?(R<l.length&&(l[R++]=$>>24&255),N=0,M=0):(N=$>>>24,M+=2)}if(R<l.length)for(l[R++]=N;R<l.length;)l[R++]=0},o.prototype._toArrayLikeBE=function(l,h){for(var R=l.length-1,N=0,B=0,M=0;B<this.length;B++){var $=this.words[B]<<M|N;l[R--]=$&255,R>=0&&(l[R--]=$>>8&255),R>=0&&(l[R--]=$>>16&255),M===6?(R>=0&&(l[R--]=$>>24&255),N=0,M=0):(N=$>>>24,M+=2)}if(R>=0)for(l[R--]=N;R>=0;)l[R--]=0},Math.clz32?o.prototype._countBits=function(l){return 32-Math.clz32(l)}:o.prototype._countBits=function(l){var h=l,R=0;return h>=4096&&(R+=13,h>>>=13),h>=64&&(R+=7,h>>>=7),h>=8&&(R+=4,h>>>=4),h>=2&&(R+=2,h>>>=2),R+h},o.prototype._zeroBits=function(l){if(l===0)return 26;var h=l,R=0;return h&8191||(R+=13,h>>>=13),h&127||(R+=7,h>>>=7),h&15||(R+=4,h>>>=4),h&3||(R+=2,h>>>=2),h&1||R++,R},o.prototype.bitLength=function(){var l=this.words[this.length-1],h=this._countBits(l);return(this.length-1)*26+h};function E(S){for(var l=new Array(S.bitLength()),h=0;h<l.length;h++){var R=h/26|0,N=h%26;l[h]=S.words[R]>>>N&1}return l}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,h=0;h<this.length;h++){var R=this._zeroBits(this.words[h]);if(l+=R,R!==26)break}return l},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},o.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var h=0;h<l.length;h++)this.words[h]=this.words[h]|l.words[h];return this._strip()},o.prototype.ior=function(l){return n((this.negative|l.negative)===0),this.iuor(l)},o.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},o.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},o.prototype.iuand=function(l){var h;this.length>l.length?h=l:h=this;for(var R=0;R<h.length;R++)this.words[R]=this.words[R]&l.words[R];return this.length=h.length,this._strip()},o.prototype.iand=function(l){return n((this.negative|l.negative)===0),this.iuand(l)},o.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},o.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},o.prototype.iuxor=function(l){var h,R;this.length>l.length?(h=this,R=l):(h=l,R=this);for(var N=0;N<R.length;N++)this.words[N]=h.words[N]^R.words[N];if(this!==h)for(;N<h.length;N++)this.words[N]=h.words[N];return this.length=h.length,this._strip()},o.prototype.ixor=function(l){return n((this.negative|l.negative)===0),this.iuxor(l)},o.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},o.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},o.prototype.inotn=function(l){n(typeof l=="number"&&l>=0);var h=Math.ceil(l/26)|0,R=l%26;this._expand(h),R>0&&h--;for(var N=0;N<h;N++)this.words[N]=~this.words[N]&67108863;return R>0&&(this.words[N]=~this.words[N]&67108863>>26-R),this._strip()},o.prototype.notn=function(l){return this.clone().inotn(l)},o.prototype.setn=function(l,h){n(typeof l=="number"&&l>=0);var R=l/26|0,N=l%26;return this._expand(R+1),h?this.words[R]=this.words[R]|1<<N:this.words[R]=this.words[R]&~(1<<N),this._strip()},o.prototype.iadd=function(l){var h;if(this.negative!==0&&l.negative===0)return this.negative=0,h=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,h=this.isub(l),l.negative=1,h._normSign();var R,N;this.length>l.length?(R=this,N=l):(R=l,N=this);for(var B=0,M=0;M<N.length;M++)h=(R.words[M]|0)+(N.words[M]|0)+B,this.words[M]=h&67108863,B=h>>>26;for(;B!==0&&M<R.length;M++)h=(R.words[M]|0)+B,this.words[M]=h&67108863,B=h>>>26;if(this.length=R.length,B!==0)this.words[this.length]=B,this.length++;else if(R!==this)for(;M<R.length;M++)this.words[M]=R.words[M];return this},o.prototype.add=function(l){var h;return l.negative!==0&&this.negative===0?(l.negative=0,h=this.sub(l),l.negative^=1,h):l.negative===0&&this.negative!==0?(this.negative=0,h=l.sub(this),this.negative=1,h):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},o.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var h=this.iadd(l);return l.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var R=this.cmp(l);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,B;R>0?(N=this,B=l):(N=l,B=this);for(var M=0,$=0;$<B.length;$++)h=(N.words[$]|0)-(B.words[$]|0)+M,M=h>>26,this.words[$]=h&67108863;for(;M!==0&&$<N.length;$++)h=(N.words[$]|0)+M,M=h>>26,this.words[$]=h&67108863;if(M===0&&$<N.length&&N!==this)for(;$<N.length;$++)this.words[$]=N.words[$];return this.length=Math.max(this.length,$),N!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(l){return this.clone().isub(l)};function A(S,l,h){h.negative=l.negative^S.negative;var R=S.length+l.length|0;h.length=R,R=R-1|0;var N=S.words[0]|0,B=l.words[0]|0,M=N*B,$=M&67108863,C=M/67108864|0;h.words[0]=$;for(var m=1;m<R;m++){for(var O=C>>>26,V=C&67108863,J=Math.min(m,l.length-1),te=Math.max(0,m-S.length+1);te<=J;te++){var we=m-te|0;N=S.words[we]|0,B=l.words[te]|0,M=N*B+V,O+=M/67108864|0,V=M&67108863}h.words[m]=V|0,C=O|0}return C!==0?h.words[m]=C|0:h.length--,h._strip()}var g=function(l,h,R){var N=l.words,B=h.words,M=R.words,$=0,C,m,O,V=N[0]|0,J=V&8191,te=V>>>13,we=N[1]|0,oe=we&8191,be=we>>>13,nr=N[2]|0,De=nr&8191,He=nr>>>13,It=N[3]|0,Ae=It&8191,Xe=It>>>13,yn=N[4]|0,je=yn&8191,Ze=yn>>>13,ii=N[5]|0,$e=ii&8191,ke=ii>>>13,rt=N[6]|0,Pe=rt&8191,Qe=rt>>>13,br=N[7]|0,We=br&8191,T=br>>>13,v=N[8]|0,_=v&8191,U=v>>>13,K=N[9]|0,q=K&8191,X=K>>>13,_e=B[0]|0,ve=_e&8191,xe=_e>>>13,Je=B[1]|0,ge=Je&8191,wt=Je>>>13,Ts=B[2]|0,_t=Ts&8191,dt=Ts>>>13,Qa=B[3]|0,Et=Qa&8191,bt=Qa>>>13,Os=B[4]|0,At=Os&8191,St=Os>>>13,Ns=B[5]|0,Rt=Ns&8191,ht=Ns>>>13,ir=B[6]|0,Ke=ir&8191,pt=ir>>>13,Ja=B[7]|0,Dt=Ja&8191,Pt=Ja>>>13,Op=B[8]|0,Lt=Op&8191,Ft=Op>>>13,Np=B[9]|0,Mt=Np&8191,Ut=Np>>>13;R.negative=l.negative^h.negative,R.length=19,C=Math.imul(J,ve),m=Math.imul(J,xe),m=m+Math.imul(te,ve)|0,O=Math.imul(te,xe);var Al=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Al>>>26)|0,Al&=67108863,C=Math.imul(oe,ve),m=Math.imul(oe,xe),m=m+Math.imul(be,ve)|0,O=Math.imul(be,xe),C=C+Math.imul(J,ge)|0,m=m+Math.imul(J,wt)|0,m=m+Math.imul(te,ge)|0,O=O+Math.imul(te,wt)|0;var Sl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Sl>>>26)|0,Sl&=67108863,C=Math.imul(De,ve),m=Math.imul(De,xe),m=m+Math.imul(He,ve)|0,O=Math.imul(He,xe),C=C+Math.imul(oe,ge)|0,m=m+Math.imul(oe,wt)|0,m=m+Math.imul(be,ge)|0,O=O+Math.imul(be,wt)|0,C=C+Math.imul(J,_t)|0,m=m+Math.imul(J,dt)|0,m=m+Math.imul(te,_t)|0,O=O+Math.imul(te,dt)|0;var Rl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Rl>>>26)|0,Rl&=67108863,C=Math.imul(Ae,ve),m=Math.imul(Ae,xe),m=m+Math.imul(Xe,ve)|0,O=Math.imul(Xe,xe),C=C+Math.imul(De,ge)|0,m=m+Math.imul(De,wt)|0,m=m+Math.imul(He,ge)|0,O=O+Math.imul(He,wt)|0,C=C+Math.imul(oe,_t)|0,m=m+Math.imul(oe,dt)|0,m=m+Math.imul(be,_t)|0,O=O+Math.imul(be,dt)|0,C=C+Math.imul(J,Et)|0,m=m+Math.imul(J,bt)|0,m=m+Math.imul(te,Et)|0,O=O+Math.imul(te,bt)|0;var kl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(kl>>>26)|0,kl&=67108863,C=Math.imul(je,ve),m=Math.imul(je,xe),m=m+Math.imul(Ze,ve)|0,O=Math.imul(Ze,xe),C=C+Math.imul(Ae,ge)|0,m=m+Math.imul(Ae,wt)|0,m=m+Math.imul(Xe,ge)|0,O=O+Math.imul(Xe,wt)|0,C=C+Math.imul(De,_t)|0,m=m+Math.imul(De,dt)|0,m=m+Math.imul(He,_t)|0,O=O+Math.imul(He,dt)|0,C=C+Math.imul(oe,Et)|0,m=m+Math.imul(oe,bt)|0,m=m+Math.imul(be,Et)|0,O=O+Math.imul(be,bt)|0,C=C+Math.imul(J,At)|0,m=m+Math.imul(J,St)|0,m=m+Math.imul(te,At)|0,O=O+Math.imul(te,St)|0;var Cl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Cl>>>26)|0,Cl&=67108863,C=Math.imul($e,ve),m=Math.imul($e,xe),m=m+Math.imul(ke,ve)|0,O=Math.imul(ke,xe),C=C+Math.imul(je,ge)|0,m=m+Math.imul(je,wt)|0,m=m+Math.imul(Ze,ge)|0,O=O+Math.imul(Ze,wt)|0,C=C+Math.imul(Ae,_t)|0,m=m+Math.imul(Ae,dt)|0,m=m+Math.imul(Xe,_t)|0,O=O+Math.imul(Xe,dt)|0,C=C+Math.imul(De,Et)|0,m=m+Math.imul(De,bt)|0,m=m+Math.imul(He,Et)|0,O=O+Math.imul(He,bt)|0,C=C+Math.imul(oe,At)|0,m=m+Math.imul(oe,St)|0,m=m+Math.imul(be,At)|0,O=O+Math.imul(be,St)|0,C=C+Math.imul(J,Rt)|0,m=m+Math.imul(J,ht)|0,m=m+Math.imul(te,Rt)|0,O=O+Math.imul(te,ht)|0;var Il=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Il>>>26)|0,Il&=67108863,C=Math.imul(Pe,ve),m=Math.imul(Pe,xe),m=m+Math.imul(Qe,ve)|0,O=Math.imul(Qe,xe),C=C+Math.imul($e,ge)|0,m=m+Math.imul($e,wt)|0,m=m+Math.imul(ke,ge)|0,O=O+Math.imul(ke,wt)|0,C=C+Math.imul(je,_t)|0,m=m+Math.imul(je,dt)|0,m=m+Math.imul(Ze,_t)|0,O=O+Math.imul(Ze,dt)|0,C=C+Math.imul(Ae,Et)|0,m=m+Math.imul(Ae,bt)|0,m=m+Math.imul(Xe,Et)|0,O=O+Math.imul(Xe,bt)|0,C=C+Math.imul(De,At)|0,m=m+Math.imul(De,St)|0,m=m+Math.imul(He,At)|0,O=O+Math.imul(He,St)|0,C=C+Math.imul(oe,Rt)|0,m=m+Math.imul(oe,ht)|0,m=m+Math.imul(be,Rt)|0,O=O+Math.imul(be,ht)|0,C=C+Math.imul(J,Ke)|0,m=m+Math.imul(J,pt)|0,m=m+Math.imul(te,Ke)|0,O=O+Math.imul(te,pt)|0;var Bl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,C=Math.imul(We,ve),m=Math.imul(We,xe),m=m+Math.imul(T,ve)|0,O=Math.imul(T,xe),C=C+Math.imul(Pe,ge)|0,m=m+Math.imul(Pe,wt)|0,m=m+Math.imul(Qe,ge)|0,O=O+Math.imul(Qe,wt)|0,C=C+Math.imul($e,_t)|0,m=m+Math.imul($e,dt)|0,m=m+Math.imul(ke,_t)|0,O=O+Math.imul(ke,dt)|0,C=C+Math.imul(je,Et)|0,m=m+Math.imul(je,bt)|0,m=m+Math.imul(Ze,Et)|0,O=O+Math.imul(Ze,bt)|0,C=C+Math.imul(Ae,At)|0,m=m+Math.imul(Ae,St)|0,m=m+Math.imul(Xe,At)|0,O=O+Math.imul(Xe,St)|0,C=C+Math.imul(De,Rt)|0,m=m+Math.imul(De,ht)|0,m=m+Math.imul(He,Rt)|0,O=O+Math.imul(He,ht)|0,C=C+Math.imul(oe,Ke)|0,m=m+Math.imul(oe,pt)|0,m=m+Math.imul(be,Ke)|0,O=O+Math.imul(be,pt)|0,C=C+Math.imul(J,Dt)|0,m=m+Math.imul(J,Pt)|0,m=m+Math.imul(te,Dt)|0,O=O+Math.imul(te,Pt)|0;var Tl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,C=Math.imul(_,ve),m=Math.imul(_,xe),m=m+Math.imul(U,ve)|0,O=Math.imul(U,xe),C=C+Math.imul(We,ge)|0,m=m+Math.imul(We,wt)|0,m=m+Math.imul(T,ge)|0,O=O+Math.imul(T,wt)|0,C=C+Math.imul(Pe,_t)|0,m=m+Math.imul(Pe,dt)|0,m=m+Math.imul(Qe,_t)|0,O=O+Math.imul(Qe,dt)|0,C=C+Math.imul($e,Et)|0,m=m+Math.imul($e,bt)|0,m=m+Math.imul(ke,Et)|0,O=O+Math.imul(ke,bt)|0,C=C+Math.imul(je,At)|0,m=m+Math.imul(je,St)|0,m=m+Math.imul(Ze,At)|0,O=O+Math.imul(Ze,St)|0,C=C+Math.imul(Ae,Rt)|0,m=m+Math.imul(Ae,ht)|0,m=m+Math.imul(Xe,Rt)|0,O=O+Math.imul(Xe,ht)|0,C=C+Math.imul(De,Ke)|0,m=m+Math.imul(De,pt)|0,m=m+Math.imul(He,Ke)|0,O=O+Math.imul(He,pt)|0,C=C+Math.imul(oe,Dt)|0,m=m+Math.imul(oe,Pt)|0,m=m+Math.imul(be,Dt)|0,O=O+Math.imul(be,Pt)|0,C=C+Math.imul(J,Lt)|0,m=m+Math.imul(J,Ft)|0,m=m+Math.imul(te,Lt)|0,O=O+Math.imul(te,Ft)|0;var Ol=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ol>>>26)|0,Ol&=67108863,C=Math.imul(q,ve),m=Math.imul(q,xe),m=m+Math.imul(X,ve)|0,O=Math.imul(X,xe),C=C+Math.imul(_,ge)|0,m=m+Math.imul(_,wt)|0,m=m+Math.imul(U,ge)|0,O=O+Math.imul(U,wt)|0,C=C+Math.imul(We,_t)|0,m=m+Math.imul(We,dt)|0,m=m+Math.imul(T,_t)|0,O=O+Math.imul(T,dt)|0,C=C+Math.imul(Pe,Et)|0,m=m+Math.imul(Pe,bt)|0,m=m+Math.imul(Qe,Et)|0,O=O+Math.imul(Qe,bt)|0,C=C+Math.imul($e,At)|0,m=m+Math.imul($e,St)|0,m=m+Math.imul(ke,At)|0,O=O+Math.imul(ke,St)|0,C=C+Math.imul(je,Rt)|0,m=m+Math.imul(je,ht)|0,m=m+Math.imul(Ze,Rt)|0,O=O+Math.imul(Ze,ht)|0,C=C+Math.imul(Ae,Ke)|0,m=m+Math.imul(Ae,pt)|0,m=m+Math.imul(Xe,Ke)|0,O=O+Math.imul(Xe,pt)|0,C=C+Math.imul(De,Dt)|0,m=m+Math.imul(De,Pt)|0,m=m+Math.imul(He,Dt)|0,O=O+Math.imul(He,Pt)|0,C=C+Math.imul(oe,Lt)|0,m=m+Math.imul(oe,Ft)|0,m=m+Math.imul(be,Lt)|0,O=O+Math.imul(be,Ft)|0,C=C+Math.imul(J,Mt)|0,m=m+Math.imul(J,Ut)|0,m=m+Math.imul(te,Mt)|0,O=O+Math.imul(te,Ut)|0;var Nl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Nl>>>26)|0,Nl&=67108863,C=Math.imul(q,ge),m=Math.imul(q,wt),m=m+Math.imul(X,ge)|0,O=Math.imul(X,wt),C=C+Math.imul(_,_t)|0,m=m+Math.imul(_,dt)|0,m=m+Math.imul(U,_t)|0,O=O+Math.imul(U,dt)|0,C=C+Math.imul(We,Et)|0,m=m+Math.imul(We,bt)|0,m=m+Math.imul(T,Et)|0,O=O+Math.imul(T,bt)|0,C=C+Math.imul(Pe,At)|0,m=m+Math.imul(Pe,St)|0,m=m+Math.imul(Qe,At)|0,O=O+Math.imul(Qe,St)|0,C=C+Math.imul($e,Rt)|0,m=m+Math.imul($e,ht)|0,m=m+Math.imul(ke,Rt)|0,O=O+Math.imul(ke,ht)|0,C=C+Math.imul(je,Ke)|0,m=m+Math.imul(je,pt)|0,m=m+Math.imul(Ze,Ke)|0,O=O+Math.imul(Ze,pt)|0,C=C+Math.imul(Ae,Dt)|0,m=m+Math.imul(Ae,Pt)|0,m=m+Math.imul(Xe,Dt)|0,O=O+Math.imul(Xe,Pt)|0,C=C+Math.imul(De,Lt)|0,m=m+Math.imul(De,Ft)|0,m=m+Math.imul(He,Lt)|0,O=O+Math.imul(He,Ft)|0,C=C+Math.imul(oe,Mt)|0,m=m+Math.imul(oe,Ut)|0,m=m+Math.imul(be,Mt)|0,O=O+Math.imul(be,Ut)|0;var Dl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Dl>>>26)|0,Dl&=67108863,C=Math.imul(q,_t),m=Math.imul(q,dt),m=m+Math.imul(X,_t)|0,O=Math.imul(X,dt),C=C+Math.imul(_,Et)|0,m=m+Math.imul(_,bt)|0,m=m+Math.imul(U,Et)|0,O=O+Math.imul(U,bt)|0,C=C+Math.imul(We,At)|0,m=m+Math.imul(We,St)|0,m=m+Math.imul(T,At)|0,O=O+Math.imul(T,St)|0,C=C+Math.imul(Pe,Rt)|0,m=m+Math.imul(Pe,ht)|0,m=m+Math.imul(Qe,Rt)|0,O=O+Math.imul(Qe,ht)|0,C=C+Math.imul($e,Ke)|0,m=m+Math.imul($e,pt)|0,m=m+Math.imul(ke,Ke)|0,O=O+Math.imul(ke,pt)|0,C=C+Math.imul(je,Dt)|0,m=m+Math.imul(je,Pt)|0,m=m+Math.imul(Ze,Dt)|0,O=O+Math.imul(Ze,Pt)|0,C=C+Math.imul(Ae,Lt)|0,m=m+Math.imul(Ae,Ft)|0,m=m+Math.imul(Xe,Lt)|0,O=O+Math.imul(Xe,Ft)|0,C=C+Math.imul(De,Mt)|0,m=m+Math.imul(De,Ut)|0,m=m+Math.imul(He,Mt)|0,O=O+Math.imul(He,Ut)|0;var Pl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Pl>>>26)|0,Pl&=67108863,C=Math.imul(q,Et),m=Math.imul(q,bt),m=m+Math.imul(X,Et)|0,O=Math.imul(X,bt),C=C+Math.imul(_,At)|0,m=m+Math.imul(_,St)|0,m=m+Math.imul(U,At)|0,O=O+Math.imul(U,St)|0,C=C+Math.imul(We,Rt)|0,m=m+Math.imul(We,ht)|0,m=m+Math.imul(T,Rt)|0,O=O+Math.imul(T,ht)|0,C=C+Math.imul(Pe,Ke)|0,m=m+Math.imul(Pe,pt)|0,m=m+Math.imul(Qe,Ke)|0,O=O+Math.imul(Qe,pt)|0,C=C+Math.imul($e,Dt)|0,m=m+Math.imul($e,Pt)|0,m=m+Math.imul(ke,Dt)|0,O=O+Math.imul(ke,Pt)|0,C=C+Math.imul(je,Lt)|0,m=m+Math.imul(je,Ft)|0,m=m+Math.imul(Ze,Lt)|0,O=O+Math.imul(Ze,Ft)|0,C=C+Math.imul(Ae,Mt)|0,m=m+Math.imul(Ae,Ut)|0,m=m+Math.imul(Xe,Mt)|0,O=O+Math.imul(Xe,Ut)|0;var Ll=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ll>>>26)|0,Ll&=67108863,C=Math.imul(q,At),m=Math.imul(q,St),m=m+Math.imul(X,At)|0,O=Math.imul(X,St),C=C+Math.imul(_,Rt)|0,m=m+Math.imul(_,ht)|0,m=m+Math.imul(U,Rt)|0,O=O+Math.imul(U,ht)|0,C=C+Math.imul(We,Ke)|0,m=m+Math.imul(We,pt)|0,m=m+Math.imul(T,Ke)|0,O=O+Math.imul(T,pt)|0,C=C+Math.imul(Pe,Dt)|0,m=m+Math.imul(Pe,Pt)|0,m=m+Math.imul(Qe,Dt)|0,O=O+Math.imul(Qe,Pt)|0,C=C+Math.imul($e,Lt)|0,m=m+Math.imul($e,Ft)|0,m=m+Math.imul(ke,Lt)|0,O=O+Math.imul(ke,Ft)|0,C=C+Math.imul(je,Mt)|0,m=m+Math.imul(je,Ut)|0,m=m+Math.imul(Ze,Mt)|0,O=O+Math.imul(Ze,Ut)|0;var Fl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Fl>>>26)|0,Fl&=67108863,C=Math.imul(q,Rt),m=Math.imul(q,ht),m=m+Math.imul(X,Rt)|0,O=Math.imul(X,ht),C=C+Math.imul(_,Ke)|0,m=m+Math.imul(_,pt)|0,m=m+Math.imul(U,Ke)|0,O=O+Math.imul(U,pt)|0,C=C+Math.imul(We,Dt)|0,m=m+Math.imul(We,Pt)|0,m=m+Math.imul(T,Dt)|0,O=O+Math.imul(T,Pt)|0,C=C+Math.imul(Pe,Lt)|0,m=m+Math.imul(Pe,Ft)|0,m=m+Math.imul(Qe,Lt)|0,O=O+Math.imul(Qe,Ft)|0,C=C+Math.imul($e,Mt)|0,m=m+Math.imul($e,Ut)|0,m=m+Math.imul(ke,Mt)|0,O=O+Math.imul(ke,Ut)|0;var Ml=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ml>>>26)|0,Ml&=67108863,C=Math.imul(q,Ke),m=Math.imul(q,pt),m=m+Math.imul(X,Ke)|0,O=Math.imul(X,pt),C=C+Math.imul(_,Dt)|0,m=m+Math.imul(_,Pt)|0,m=m+Math.imul(U,Dt)|0,O=O+Math.imul(U,Pt)|0,C=C+Math.imul(We,Lt)|0,m=m+Math.imul(We,Ft)|0,m=m+Math.imul(T,Lt)|0,O=O+Math.imul(T,Ft)|0,C=C+Math.imul(Pe,Mt)|0,m=m+Math.imul(Pe,Ut)|0,m=m+Math.imul(Qe,Mt)|0,O=O+Math.imul(Qe,Ut)|0;var Ul=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Ul>>>26)|0,Ul&=67108863,C=Math.imul(q,Dt),m=Math.imul(q,Pt),m=m+Math.imul(X,Dt)|0,O=Math.imul(X,Pt),C=C+Math.imul(_,Lt)|0,m=m+Math.imul(_,Ft)|0,m=m+Math.imul(U,Lt)|0,O=O+Math.imul(U,Ft)|0,C=C+Math.imul(We,Mt)|0,m=m+Math.imul(We,Ut)|0,m=m+Math.imul(T,Mt)|0,O=O+Math.imul(T,Ut)|0;var zl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(zl>>>26)|0,zl&=67108863,C=Math.imul(q,Lt),m=Math.imul(q,Ft),m=m+Math.imul(X,Lt)|0,O=Math.imul(X,Ft),C=C+Math.imul(_,Mt)|0,m=m+Math.imul(_,Ut)|0,m=m+Math.imul(U,Mt)|0,O=O+Math.imul(U,Ut)|0;var Hl=($+C|0)+((m&8191)<<13)|0;$=(O+(m>>>13)|0)+(Hl>>>26)|0,Hl&=67108863,C=Math.imul(q,Mt),m=Math.imul(q,Ut),m=m+Math.imul(X,Mt)|0,O=Math.imul(X,Ut);var jl=($+C|0)+((m&8191)<<13)|0;return $=(O+(m>>>13)|0)+(jl>>>26)|0,jl&=67108863,M[0]=Al,M[1]=Sl,M[2]=Rl,M[3]=kl,M[4]=Cl,M[5]=Il,M[6]=Bl,M[7]=Tl,M[8]=Ol,M[9]=Nl,M[10]=Dl,M[11]=Pl,M[12]=Ll,M[13]=Fl,M[14]=Ml,M[15]=Ul,M[16]=zl,M[17]=Hl,M[18]=jl,$!==0&&(M[19]=$,R.length++),R};Math.imul||(g=A);function w(S,l,h){h.negative=l.negative^S.negative,h.length=S.length+l.length;for(var R=0,N=0,B=0;B<h.length-1;B++){var M=N;N=0;for(var $=R&67108863,C=Math.min(B,l.length-1),m=Math.max(0,B-S.length+1);m<=C;m++){var O=B-m,V=S.words[O]|0,J=l.words[m]|0,te=V*J,we=te&67108863;M=M+(te/67108864|0)|0,we=we+$|0,$=we&67108863,M=M+(we>>>26)|0,N+=M>>>26,M&=67108863}h.words[B]=$,R=M,M=N}return R!==0?h.words[B]=R:h.length--,h._strip()}function k(S,l,h){return w(S,l,h)}o.prototype.mulTo=function(l,h){var R,N=this.length+l.length;return this.length===10&&l.length===10?R=g(this,l,h):N<63?R=A(this,l,h):N<1024?R=w(this,l,h):R=k(this,l,h),R},o.prototype.mul=function(l){var h=new o(null);return h.words=new Array(this.length+l.length),this.mulTo(l,h)},o.prototype.mulf=function(l){var h=new o(null);return h.words=new Array(this.length+l.length),k(this,l,h)},o.prototype.imul=function(l){return this.clone().mulTo(l,this)},o.prototype.imuln=function(l){var h=l<0;h&&(l=-l),n(typeof l=="number"),n(l<67108864);for(var R=0,N=0;N<this.length;N++){var B=(this.words[N]|0)*l,M=(B&67108863)+(R&67108863);R>>=26,R+=B/67108864|0,R+=M>>>26,this.words[N]=M&67108863}return R!==0&&(this.words[N]=R,this.length++),this.length=l===0?1:this.length,h?this.ineg():this},o.prototype.muln=function(l){return this.clone().imuln(l)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(l){var h=E(l);if(h.length===0)return new o(1);for(var R=this,N=0;N<h.length&&h[N]===0;N++,R=R.sqr());if(++N<h.length)for(var B=R.sqr();N<h.length;N++,B=B.sqr())h[N]!==0&&(R=R.mul(B));return R},o.prototype.iushln=function(l){n(typeof l=="number"&&l>=0);var h=l%26,R=(l-h)/26,N=67108863>>>26-h<<26-h,B;if(h!==0){var M=0;for(B=0;B<this.length;B++){var $=this.words[B]&N,C=(this.words[B]|0)-$<<h;this.words[B]=C|M,M=$>>>26-h}M&&(this.words[B]=M,this.length++)}if(R!==0){for(B=this.length-1;B>=0;B--)this.words[B+R]=this.words[B];for(B=0;B<R;B++)this.words[B]=0;this.length+=R}return this._strip()},o.prototype.ishln=function(l){return n(this.negative===0),this.iushln(l)},o.prototype.iushrn=function(l,h,R){n(typeof l=="number"&&l>=0);var N;h?N=(h-h%26)/26:N=0;var B=l%26,M=Math.min((l-B)/26,this.length),$=67108863^67108863>>>B<<B,C=R;if(N-=M,N=Math.max(0,N),C){for(var m=0;m<M;m++)C.words[m]=this.words[m];C.length=M}if(M!==0)if(this.length>M)for(this.length-=M,m=0;m<this.length;m++)this.words[m]=this.words[m+M];else this.words[0]=0,this.length=1;var O=0;for(m=this.length-1;m>=0&&(O!==0||m>=N);m--){var V=this.words[m]|0;this.words[m]=O<<26-B|V>>>B,O=V&$}return C&&O!==0&&(C.words[C.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(l,h,R){return n(this.negative===0),this.iushrn(l,h,R)},o.prototype.shln=function(l){return this.clone().ishln(l)},o.prototype.ushln=function(l){return this.clone().iushln(l)},o.prototype.shrn=function(l){return this.clone().ishrn(l)},o.prototype.ushrn=function(l){return this.clone().iushrn(l)},o.prototype.testn=function(l){n(typeof l=="number"&&l>=0);var h=l%26,R=(l-h)/26,N=1<<h;if(this.length<=R)return!1;var B=this.words[R];return!!(B&N)},o.prototype.imaskn=function(l){n(typeof l=="number"&&l>=0);var h=l%26,R=(l-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(h!==0&&R++,this.length=Math.min(R,this.length),h!==0){var N=67108863^67108863>>>h<<h;this.words[this.length-1]&=N}return this._strip()},o.prototype.maskn=function(l){return this.clone().imaskn(l)},o.prototype.iaddn=function(l){return n(typeof l=="number"),n(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<=l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},o.prototype._iaddn=function(l){this.words[0]+=l;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},o.prototype.isubn=function(l){if(n(typeof l=="number"),n(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},o.prototype.addn=function(l){return this.clone().iaddn(l)},o.prototype.subn=function(l){return this.clone().isubn(l)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(l,h,R){var N=l.length+R,B;this._expand(N);var M,$=0;for(B=0;B<l.length;B++){M=(this.words[B+R]|0)+$;var C=(l.words[B]|0)*h;M-=C&67108863,$=(M>>26)-(C/67108864|0),this.words[B+R]=M&67108863}for(;B<this.length-R;B++)M=(this.words[B+R]|0)+$,$=M>>26,this.words[B+R]=M&67108863;if($===0)return this._strip();for(n($===-1),$=0,B=0;B<this.length;B++)M=-(this.words[B]|0)+$,$=M>>26,this.words[B]=M&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(l,h){var R=this.length-l.length,N=this.clone(),B=l,M=B.words[B.length-1]|0,$=this._countBits(M);R=26-$,R!==0&&(B=B.ushln(R),N.iushln(R),M=B.words[B.length-1]|0);var C=N.length-B.length,m;if(h!=="mod"){m=new o(null),m.length=C+1,m.words=new Array(m.length);for(var O=0;O<m.length;O++)m.words[O]=0}var V=N.clone()._ishlnsubmul(B,1,C);V.negative===0&&(N=V,m&&(m.words[C]=1));for(var J=C-1;J>=0;J--){var te=(N.words[B.length+J]|0)*67108864+(N.words[B.length+J-1]|0);for(te=Math.min(te/M|0,67108863),N._ishlnsubmul(B,te,J);N.negative!==0;)te--,N.negative=0,N._ishlnsubmul(B,1,J),N.isZero()||(N.negative^=1);m&&(m.words[J]=te)}return m&&m._strip(),N._strip(),h!=="div"&&R!==0&&N.iushrn(R),{div:m||null,mod:N}},o.prototype.divmod=function(l,h,R){if(n(!l.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var N,B,M;return this.negative!==0&&l.negative===0?(M=this.neg().divmod(l,h),h!=="mod"&&(N=M.div.neg()),h!=="div"&&(B=M.mod.neg(),R&&B.negative!==0&&B.iadd(l)),{div:N,mod:B}):this.negative===0&&l.negative!==0?(M=this.divmod(l.neg(),h),h!=="mod"&&(N=M.div.neg()),{div:N,mod:M.mod}):this.negative&l.negative?(M=this.neg().divmod(l.neg(),h),h!=="div"&&(B=M.mod.neg(),R&&B.negative!==0&&B.isub(l)),{div:M.div,mod:B}):l.length>this.length||this.cmp(l)<0?{div:new o(0),mod:this}:l.length===1?h==="div"?{div:this.divn(l.words[0]),mod:null}:h==="mod"?{div:null,mod:new o(this.modrn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new o(this.modrn(l.words[0]))}:this._wordDiv(l,h)},o.prototype.div=function(l){return this.divmod(l,"div",!1).div},o.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},o.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},o.prototype.divRound=function(l){var h=this.divmod(l);if(h.mod.isZero())return h.div;var R=h.div.negative!==0?h.mod.isub(l):h.mod,N=l.ushrn(1),B=l.andln(1),M=R.cmp(N);return M<0||B===1&&M===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},o.prototype.modrn=function(l){var h=l<0;h&&(l=-l),n(l<=67108863);for(var R=(1<<26)%l,N=0,B=this.length-1;B>=0;B--)N=(R*N+(this.words[B]|0))%l;return h?-N:N},o.prototype.modn=function(l){return this.modrn(l)},o.prototype.idivn=function(l){var h=l<0;h&&(l=-l),n(l<=67108863);for(var R=0,N=this.length-1;N>=0;N--){var B=(this.words[N]|0)+R*67108864;this.words[N]=B/l|0,R=B%l}return this._strip(),h?this.ineg():this},o.prototype.divn=function(l){return this.clone().idivn(l)},o.prototype.egcd=function(l){n(l.negative===0),n(!l.isZero());var h=this,R=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var N=new o(1),B=new o(0),M=new o(0),$=new o(1),C=0;h.isEven()&&R.isEven();)h.iushrn(1),R.iushrn(1),++C;for(var m=R.clone(),O=h.clone();!h.isZero();){for(var V=0,J=1;!(h.words[0]&J)&&V<26;++V,J<<=1);if(V>0)for(h.iushrn(V);V-- >0;)(N.isOdd()||B.isOdd())&&(N.iadd(m),B.isub(O)),N.iushrn(1),B.iushrn(1);for(var te=0,we=1;!(R.words[0]&we)&&te<26;++te,we<<=1);if(te>0)for(R.iushrn(te);te-- >0;)(M.isOdd()||$.isOdd())&&(M.iadd(m),$.isub(O)),M.iushrn(1),$.iushrn(1);h.cmp(R)>=0?(h.isub(R),N.isub(M),B.isub($)):(R.isub(h),M.isub(N),$.isub(B))}return{a:M,b:$,gcd:R.iushln(C)}},o.prototype._invmp=function(l){n(l.negative===0),n(!l.isZero());var h=this,R=l.clone();h.negative!==0?h=h.umod(l):h=h.clone();for(var N=new o(1),B=new o(0),M=R.clone();h.cmpn(1)>0&&R.cmpn(1)>0;){for(var $=0,C=1;!(h.words[0]&C)&&$<26;++$,C<<=1);if($>0)for(h.iushrn($);$-- >0;)N.isOdd()&&N.iadd(M),N.iushrn(1);for(var m=0,O=1;!(R.words[0]&O)&&m<26;++m,O<<=1);if(m>0)for(R.iushrn(m);m-- >0;)B.isOdd()&&B.iadd(M),B.iushrn(1);h.cmp(R)>=0?(h.isub(R),N.isub(B)):(R.isub(h),B.isub(N))}var V;return h.cmpn(1)===0?V=N:V=B,V.cmpn(0)<0&&V.iadd(l),V},o.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var h=this.clone(),R=l.clone();h.negative=0,R.negative=0;for(var N=0;h.isEven()&&R.isEven();N++)h.iushrn(1),R.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;R.isEven();)R.iushrn(1);var B=h.cmp(R);if(B<0){var M=h;h=R,R=M}else if(B===0||R.cmpn(1)===0)break;h.isub(R)}while(!0);return R.iushln(N)},o.prototype.invm=function(l){return this.egcd(l).a.umod(l)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(l){return this.words[0]&l},o.prototype.bincn=function(l){n(typeof l=="number");var h=l%26,R=(l-h)/26,N=1<<h;if(this.length<=R)return this._expand(R+1),this.words[R]|=N,this;for(var B=N,M=R;B!==0&&M<this.length;M++){var $=this.words[M]|0;$+=B,B=$>>>26,$&=67108863,this.words[M]=$}return B!==0&&(this.words[M]=B,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(l){var h=l<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var R;if(this.length>1)R=1;else{h&&(l=-l),n(l<=67108863,"Number is too big");var N=this.words[0]|0;R=N===l?0:N<l?-1:1}return this.negative!==0?-R|0:R},o.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var h=this.ucmp(l);return this.negative!==0?-h|0:h},o.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var h=0,R=this.length-1;R>=0;R--){var N=this.words[R]|0,B=l.words[R]|0;if(N!==B){N<B?h=-1:N>B&&(h=1);break}}return h},o.prototype.gtn=function(l){return this.cmpn(l)===1},o.prototype.gt=function(l){return this.cmp(l)===1},o.prototype.gten=function(l){return this.cmpn(l)>=0},o.prototype.gte=function(l){return this.cmp(l)>=0},o.prototype.ltn=function(l){return this.cmpn(l)===-1},o.prototype.lt=function(l){return this.cmp(l)===-1},o.prototype.lten=function(l){return this.cmpn(l)<=0},o.prototype.lte=function(l){return this.cmp(l)<=0},o.prototype.eqn=function(l){return this.cmpn(l)===0},o.prototype.eq=function(l){return this.cmp(l)===0},o.red=function(l){return new P(l)},o.prototype.toRed=function(l){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(l){return this.red=l,this},o.prototype.forceRed=function(l){return n(!this.red,"Already a number in reduction context"),this._forceRed(l)},o.prototype.redAdd=function(l){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},o.prototype.redIAdd=function(l){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},o.prototype.redSub=function(l){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},o.prototype.redISub=function(l){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},o.prototype.redShl=function(l){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},o.prototype.redMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},o.prototype.redIMul=function(l){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(l){return n(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var I={k256:null,p224:null,p192:null,p25519:null};function F(S,l){this.name=S,this.p=new o(l,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var l=new o(null);return l.words=new Array(Math.ceil(this.n/13)),l},F.prototype.ireduce=function(l){var h=l,R;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),R=h.bitLength();while(R>this.n);var N=R<this.n?-1:h.ucmp(this.p);return N===0?(h.words[0]=0,h.length=1):N>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},F.prototype.split=function(l,h){l.iushrn(this.n,0,h)},F.prototype.imulK=function(l){return l.imul(this.k)};function L(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(L,F),L.prototype.split=function(l,h){for(var R=4194303,N=Math.min(l.length,9),B=0;B<N;B++)h.words[B]=l.words[B];if(h.length=N,l.length<=9){l.words[0]=0,l.length=1;return}var M=l.words[9];for(h.words[h.length++]=M&R,B=10;B<l.length;B++){var $=l.words[B]|0;l.words[B-10]=($&R)<<4|M>>>22,M=$}M>>>=22,l.words[B-10]=M,M===0&&l.length>10?l.length-=10:l.length-=9},L.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var h=0,R=0;R<l.length;R++){var N=l.words[R]|0;h+=N*977,l.words[R]=h&67108863,h=N*64+(h/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function z(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,F);function H(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(H,F);function D(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(D,F),D.prototype.imulK=function(l){for(var h=0,R=0;R<l.length;R++){var N=(l.words[R]|0)*19+h,B=N&67108863;N>>>=26,l.words[R]=B,h=N}return h!==0&&(l.words[l.length++]=h),l},o._prime=function(l){if(I[l])return I[l];var h;if(l==="k256")h=new L;else if(l==="p224")h=new z;else if(l==="p192")h=new H;else if(l==="p25519")h=new D;else throw new Error("Unknown prime "+l);return I[l]=h,h};function P(S){if(typeof S=="string"){var l=o._prime(S);this.m=l.p,this.prime=l}else n(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}P.prototype._verify1=function(l){n(l.negative===0,"red works only with positives"),n(l.red,"red works only with red numbers")},P.prototype._verify2=function(l,h){n((l.negative|h.negative)===0,"red works only with positives"),n(l.red&&l.red===h.red,"red works only with red numbers")},P.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):(f(l,l.umod(this.m)._forceRed(this)),l)},P.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},P.prototype.add=function(l,h){this._verify2(l,h);var R=l.add(h);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},P.prototype.iadd=function(l,h){this._verify2(l,h);var R=l.iadd(h);return R.cmp(this.m)>=0&&R.isub(this.m),R},P.prototype.sub=function(l,h){this._verify2(l,h);var R=l.sub(h);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},P.prototype.isub=function(l,h){this._verify2(l,h);var R=l.isub(h);return R.cmpn(0)<0&&R.iadd(this.m),R},P.prototype.shl=function(l,h){return this._verify1(l),this.imod(l.ushln(h))},P.prototype.imul=function(l,h){return this._verify2(l,h),this.imod(l.imul(h))},P.prototype.mul=function(l,h){return this._verify2(l,h),this.imod(l.mul(h))},P.prototype.isqr=function(l){return this.imul(l,l.clone())},P.prototype.sqr=function(l){return this.mul(l,l)},P.prototype.sqrt=function(l){if(l.isZero())return l.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var R=this.m.add(new o(1)).iushrn(2);return this.pow(l,R)}for(var N=this.m.subn(1),B=0;!N.isZero()&&N.andln(1)===0;)B++,N.iushrn(1);n(!N.isZero());var M=new o(1).toRed(this),$=M.redNeg(),C=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new o(2*m*m).toRed(this);this.pow(m,C).cmp($)!==0;)m.redIAdd($);for(var O=this.pow(m,N),V=this.pow(l,N.addn(1).iushrn(1)),J=this.pow(l,N),te=B;J.cmp(M)!==0;){for(var we=J,oe=0;we.cmp(M)!==0;oe++)we=we.redSqr();n(oe<te);var be=this.pow(O,new o(1).iushln(te-oe-1));V=V.redMul(be),O=be.redSqr(),J=J.redMul(O),te=oe}return V},P.prototype.invm=function(l){var h=l._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},P.prototype.pow=function(l,h){if(h.isZero())return new o(1).toRed(this);if(h.cmpn(1)===0)return l.clone();var R=4,N=new Array(1<<R);N[0]=new o(1).toRed(this),N[1]=l;for(var B=2;B<N.length;B++)N[B]=this.mul(N[B-1],l);var M=N[0],$=0,C=0,m=h.bitLength()%26;for(m===0&&(m=26),B=h.length-1;B>=0;B--){for(var O=h.words[B],V=m-1;V>=0;V--){var J=O>>V&1;if(M!==N[0]&&(M=this.sqr(M)),J===0&&$===0){C=0;continue}$<<=1,$|=J,C++,!(C!==R&&(B!==0||V!==0))&&(M=this.mul(M,N[$]),C=0,$=0)}m=26}return M},P.prototype.convertTo=function(l){var h=l.umod(this.m);return h===l?h.clone():h},P.prototype.convertFrom=function(l){var h=l.clone();return h.red=null,h},o.mont=function(l){return new j(l)};function j(S){P.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(j,P),j.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},j.prototype.convertFrom=function(l){var h=this.imod(l.mul(this.rinv));return h.red=null,h},j.prototype.imul=function(l,h){if(l.isZero()||h.isZero())return l.words[0]=0,l.length=1,l;var R=l.imul(h),N=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(N).iushrn(this.shift),M=B;return B.cmp(this.m)>=0?M=B.isub(this.m):B.cmpn(0)<0&&(M=B.iadd(this.m)),M._forceRed(this)},j.prototype.mul=function(l,h){if(l.isZero()||h.isZero())return new o(0)._forceRed(this);var R=l.mul(h),N=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),B=R.isub(N).iushrn(this.shift),M=B;return B.cmp(this.m)>=0?M=B.isub(this.m):B.cmpn(0)<0&&(M=B.iadd(this.m)),M._forceRed(this)},j.prototype.invm=function(l){var h=this.imod(l._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(r,ye)})(jh);var $h=jh.exports;const gr=ho($h);var Ed={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,e){var t=ue,n=t.Buffer;function i(s,a){for(var c in s)a[c]=s[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=o);function o(s,a,c){return n(s,a,c)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,c){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,c)},o.alloc=function(s,a,c){if(typeof s!="number")throw new TypeError("Argument must be a number");var u=n(s);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Ed,Ed.exports);var p8=Ed.exports,_c=p8.Buffer;function m8(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),o=i.charCodeAt(0);if(e[o]!==255)throw new TypeError(i+" is ambiguous");e[o]=n}var s=r.length,a=r.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function f(d){if((Array.isArray(d)||d instanceof Uint8Array)&&(d=_c.from(d)),!_c.isBuffer(d))throw new TypeError("Expected Buffer");if(d.length===0)return"";for(var x=0,b=0,E=0,A=d.length;E!==A&&d[E]===0;)E++,x++;for(var g=(A-E)*u+1>>>0,w=new Uint8Array(g);E!==A;){for(var k=d[E],I=0,F=g-1;(k!==0||I<b)&&F!==-1;F--,I++)k+=256*w[F]>>>0,w[F]=k%s>>>0,k=k/s>>>0;if(k!==0)throw new Error("Non-zero carry");b=I,E++}for(var L=g-b;L!==g&&w[L]===0;)L++;for(var z=a.repeat(x);L<g;++L)z+=r.charAt(w[L]);return z}function y(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return _c.alloc(0);for(var x=0,b=0,E=0;d[x]===a;)b++,x++;for(var A=(d.length-x)*c+1>>>0,g=new Uint8Array(A);x<d.length;){var w=d.charCodeAt(x);if(w>255)return;var k=e[w];if(k===255)return;for(var I=0,F=A-1;(k!==0||I<E)&&F!==-1;F--,I++)k+=s*g[F]>>>0,g[F]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");E=I,x++}for(var L=A-E;L!==A&&g[L]===0;)L++;var z=_c.allocUnsafe(b+(A-L));z.fill(0,0,b);for(var H=b;L!==A;)z[H++]=g[L++];return z}function p(d){var x=y(d);if(x)return x;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:y,decode:p}}var y8=m8,g8=y8,x8="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Nv=g8(x8);const zt=ho(Nv),tm=gv;var Qt={};function Wn(r,e,t){return e<=r&&r<=t}function rl(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function v8(r){for(var e=String(r),t=e.length,n=0,i=[];n<t;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===t-1)i.push(65533);else{var s=r.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=o&1023,c=s&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function w8(r){for(var e="",t=0;t<r.length;++t){var n=r[t];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var wu=-1;function Wh(r){this.tokens=[].slice.call(r)}Wh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():wu},prepend:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var e=r;e.length;)this.tokens.push(e.shift());else this.tokens.push(r)}};var ms=-1;function E0(r,e){if(r)throw TypeError("Decoder error");return e||65533}var _u="utf-8";function Eu(r,e){if(!(this instanceof Eu))return new Eu(r,e);if(r=r!==void 0?String(r).toLowerCase():_u,r!==_u)throw new Error("Encoding not supported. Only utf-8 is supported");e=rl(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Eu.prototype={decode:function(e,t){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),t=rl(t),this._streaming||(this._decoder=new _8({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new Wh(n),o=[],s;!i.endOfStream()&&(s=this._decoder.handler(i,i.read()),s!==ms);)s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s));if(!this._streaming){do{if(s=this._decoder.handler(i,i.read()),s===ms)break;s!==null&&(Array.isArray(s)?o.push.apply(o,s):o.push(s))}while(!i.endOfStream());this._decoder=null}return o.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(o[0]===65279?(this._BOMseen=!0,o.shift()):this._BOMseen=!0),w8(o)}};function bu(r,e){if(!(this instanceof bu))return new bu(r,e);if(r=r!==void 0?String(r).toLowerCase():_u,r!==_u)throw new Error("Encoding not supported. Only utf-8 is supported");e=rl(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}bu.prototype={encode:function(e,t){e=e?String(e):"",t=rl(t),this._streaming||(this._encoder=new E8(this._options)),this._streaming=!!t.stream;for(var n=[],i=new Wh(v8(e)),o;!i.endOfStream()&&(o=this._encoder.handler(i,i.read()),o!==ms);)Array.isArray(o)?n.push.apply(n,o):n.push(o);if(!this._streaming){for(;o=this._encoder.handler(i,i.read()),o!==ms;)Array.isArray(o)?n.push.apply(n,o):n.push(o);this._encoder=null}return new Uint8Array(n)}};function _8(r){var e=r.fatal,t=0,n=0,i=0,o=128,s=191;this.handler=function(a,c){if(c===wu&&i!==0)return i=0,E0(e);if(c===wu)return ms;if(i===0){if(Wn(c,0,127))return c;if(Wn(c,194,223))i=1,t=c-192;else if(Wn(c,224,239))c===224&&(o=160),c===237&&(s=159),i=2,t=c-224;else if(Wn(c,240,244))c===240&&(o=144),c===244&&(s=143),i=3,t=c-240;else return E0(e);return t=t<<6*i,null}if(!Wn(c,o,s))return t=i=n=0,o=128,s=191,a.prepend(c),E0(e);if(o=128,s=191,n+=1,t+=c-128<<6*(i-n),n!==i)return null;var u=t;return t=i=n=0,u}}function E8(r){r.fatal,this.handler=function(e,t){if(t===wu)return ms;if(Wn(t,0,127))return t;var n,i;Wn(t,128,2047)?(n=1,i=192):Wn(t,2048,65535)?(n=2,i=224):Wn(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var s=t>>6*(n-1);o.push(128|s&63),n-=1}return o}}const b8=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Eu,TextEncoder:bu},Symbol.toStringTag,{value:"Module"})),A8=Nu(b8);var S8=ye&&ye.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),R8=ye&&ye.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),On=ye&&ye.__decorate||function(r,e,t,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o},k8=ye&&ye.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.hasOwnProperty.call(r,t)&&S8(e,r,t);return R8(e,r),e},Dv=ye&&ye.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qt,"__esModule",{value:!0});var Pv=Qt.deserializeUnchecked=Hv=Qt.deserialize=zv=Qt.serialize=Qt.BinaryReader=Qt.BinaryWriter=Qt.BorshError=Qt.baseDecode=Qt.baseEncode=void 0;const xi=Dv($h),Lv=Dv(Nv),C8=k8(A8),I8=typeof TextDecoder!="function"?C8.TextDecoder:TextDecoder,B8=new I8("utf-8",{fatal:!0});function T8(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Lv.default.encode(Buffer.from(r))}Qt.baseEncode=T8;function O8(r){return Buffer.from(Lv.default.decode(r))}Qt.baseDecode=O8;const b0=1024;class xr extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Qt.BorshError=xr;class Fv{constructor(){this.buf=Buffer.alloc(b0),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(b0)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new xi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(b0)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}Qt.BinaryWriter=Fv;function Nn(r,e,t){const n=t.value;t.value=function(...i){try{return n.apply(this,i)}catch(o){if(o instanceof RangeError){const s=o.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new xr("Reached the end of buffer when deserializing")}throw o}}}class Wr{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new xi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new xi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new xi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new xi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new xr(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return B8.decode(t)}catch(n){throw new xr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let i=0;i<t;++i)n.push(e());return n}}On([Nn],Wr.prototype,"readU8",null);On([Nn],Wr.prototype,"readU16",null);On([Nn],Wr.prototype,"readU32",null);On([Nn],Wr.prototype,"readU64",null);On([Nn],Wr.prototype,"readU128",null);On([Nn],Wr.prototype,"readU256",null);On([Nn],Wr.prototype,"readU512",null);On([Nn],Wr.prototype,"readString",null);On([Nn],Wr.prototype,"readFixedArray",null);On([Nn],Wr.prototype,"readArray",null);Qt.BinaryReader=Wr;function Mv(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Wi(r,e,t,n,i){try{if(typeof n=="string")i[`write${Mv(n)}`](t);else if(n instanceof Array)if(typeof n[0]=="number"){if(t.length!==n[0])throw new xr(`Expecting byte array of length ${n[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(n.length===2&&typeof n[1]=="number"){if(t.length!==n[1])throw new xr(`Expecting byte array of length ${n[1]}, but got ${t.length} bytes`);for(let o=0;o<n[1];o++)Wi(r,null,t[o],n[0],i)}else i.writeArray(t,o=>{Wi(r,e,o,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),Wi(r,e,t,n.type,i));break}case"map":{i.writeU32(t.size),t.forEach((o,s)=>{Wi(r,e,s,n.key,i),Wi(r,e,o,n.value,i)});break}default:throw new xr(`FieldType ${n} unrecognized`)}else Uv(r,t,i)}catch(o){throw o instanceof xr&&o.addToFieldPath(e),o}}function Uv(r,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const n=r.get(e.constructor);if(!n)throw new xr(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,o])=>{Wi(r,i,e[i],o,t)});else if(n.kind==="enum"){const i=e[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){t.writeU8(o),Wi(r,s,e[s],a,t);break}}}else throw new xr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function N8(r,e,t=Fv){const n=new t;return Uv(r,e,n),n.toArray()}var zv=Qt.serialize=N8;function Ki(r,e,t,n){try{if(typeof t=="string")return n[`read${Mv(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return n.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let o=0;o<t[1];o++)i.push(Ki(r,null,t[0],n));return i}else return n.readArray(()=>Ki(r,e,t[0],n))}if(t.kind==="option")return n.readU8()?Ki(r,e,t.type,n):void 0;if(t.kind==="map"){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const a=Ki(r,e,t.key,n),c=Ki(r,e,t.value,n);i.set(a,c)}return i}return Kh(r,t,n)}catch(i){throw i instanceof xr&&i.addToFieldPath(e),i}}function Kh(r,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const n=r.get(e);if(!n)throw new xr(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[o,s]of r.get(e).fields)i[o]=Ki(r,o,s,t);return new e(i)}if(n.kind==="enum"){const i=t.readU8();if(i>=n.values.length)throw new xr(`Enum index: ${i} is out of range`);const[o,s]=n.values[i],a=Ki(r,o,s,t);return new e({[o]:a})}throw new xr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function D8(r,e,t,n=Wr){const i=new n(t),o=Kh(r,e,i);if(i.offset<t.length)throw new xr(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return o}var Hv=Qt.deserialize=D8;function P8(r,e,t,n=Wr){const i=new n(t);return Kh(r,e,i)}Pv=Qt.deserializeUnchecked=P8;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=Zt=Z.nu64=Z.u48=Z.u40=de=Z.u32=Z.u24=qr=Z.u16=Be=Z.u8=Ci=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=et=Z.blob=Z.unionLayoutDiscriminator=Z.union=Jt=Z.seq=Z.bits=he=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=Fr=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Vh=ue;function As(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=As;function Ue(r){return As(r),Vh.Buffer.from(r.buffer,r.byteOffset,r.length)}Z.uint8ArrayToBuffer=Ue;let Ge=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};Z.Layout=Ge;function qh(r,e){return e.property?r+"["+e.property+"]":r}Z.nameWithProperty=qh;function L8(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value(t,n){return e.decode(t,n)},writable:!0})}Z.bindConstructorLayout=L8;let kr=class extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}};Z.ExternalLayout=kr;let jv=class extends kr{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){As(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}};Z.GreedyCount=jv;let Gh=class extends kr{constructor(e,t=0,n){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Qr||this.layout instanceof dn}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}};Z.OffsetLayout=Gh;let Qr=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ue(e).readUIntLE(t,this.span)}encode(e,t,n=0){return Ue(t).writeUIntLE(e,n,this.span),this.span}};Z.UInt=Qr;let dn=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ue(e).readUIntBE(t,this.span)}encode(e,t,n=0){return Ue(t).writeUIntBE(e,n,this.span),this.span}};Z.UIntBE=dn;let yo=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ue(e).readIntLE(t,this.span)}encode(e,t,n=0){return Ue(t).writeIntLE(e,n,this.span),this.span}};Z.Int=yo;let Ss=class extends Ge{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Ue(e).readIntBE(t,this.span)}encode(e,t,n=0){return Ue(t).writeIntBE(e,n,this.span),this.span}};Z.IntBE=Ss;const bd=Math.pow(2,32);function nl(r){const e=Math.floor(r/bd),t=r-e*bd;return{hi32:e,lo32:t}}function il(r,e){return r*bd+e}let $v=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){const n=Ue(e),i=n.readUInt32LE(t),o=n.readUInt32LE(t+4);return il(o,i)}encode(e,t,n=0){const i=nl(e),o=Ue(t);return o.writeUInt32LE(i.lo32,n),o.writeUInt32LE(i.hi32,n+4),8}};Z.NearUInt64=$v;let Wv=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){const n=Ue(e),i=n.readUInt32BE(t),o=n.readUInt32BE(t+4);return il(i,o)}encode(e,t,n=0){const i=nl(e),o=Ue(t);return o.writeUInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Z.NearUInt64BE=Wv;let Kv=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){const n=Ue(e),i=n.readUInt32LE(t),o=n.readInt32LE(t+4);return il(o,i)}encode(e,t,n=0){const i=nl(e),o=Ue(t);return o.writeUInt32LE(i.lo32,n),o.writeInt32LE(i.hi32,n+4),8}};Z.NearInt64=Kv;let Vv=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){const n=Ue(e),i=n.readInt32BE(t),o=n.readUInt32BE(t+4);return il(i,o)}encode(e,t,n=0){const i=nl(e),o=Ue(t);return o.writeInt32BE(i.hi32,n),o.writeUInt32BE(i.lo32,n+4),8}};Z.NearInt64BE=Vv;let qv=class extends Ge{constructor(e){super(4,e)}decode(e,t=0){return Ue(e).readFloatLE(t)}encode(e,t,n=0){return Ue(t).writeFloatLE(e,n),4}};Z.Float=qv;let Gv=class extends Ge{constructor(e){super(4,e)}decode(e,t=0){return Ue(e).readFloatBE(t)}encode(e,t,n=0){return Ue(t).writeFloatBE(e,n),4}};Z.FloatBE=Gv;let Yv=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){return Ue(e).readDoubleLE(t)}encode(e,t,n=0){return Ue(t).writeDoubleLE(e,n),8}};Z.Double=Yv;let Zv=class extends Ge{constructor(e){super(8,e)}decode(e,t=0){return Ue(e).readDoubleBE(t)}encode(e,t,n=0){return Ue(t).writeDoubleBE(e,n),8}};Z.DoubleBE=Zv;let Xv=class extends Ge{constructor(e,t,n){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof kr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof kr)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof kr&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,t+n),++o}return n}decode(e,t=0){const n=[];let i=0,o=this.count;for(o instanceof kr&&(o=o.decode(e,t));i<o;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n=0){const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,t,n+s),0);return this.count instanceof kr&&this.count.encode(e.length,t,n),o}};Z.Sequence=Xv;let Qv=class extends Ge{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t=0){As(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const i=n;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,t,n),0>c&&(c=a.getSpan(t,n)))}o=n,n+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}};Z.Structure=Qv;let Yh=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}};Z.UnionDiscriminator=Yh;let Au=class extends Yh{constructor(e,t){if(!(e instanceof kr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}};Z.UnionLayoutDiscriminator=Au;let Zh=class extends Ge{constructor(e,t,n){let i;if(e instanceof Qr||e instanceof dn)i=new Au(new Gh(e));else if(e instanceof kr&&e.isCount())i=new Au(e);else if(e instanceof Yh)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof Qr||e instanceof dn)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Qr||e instanceof dn,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const i=this.discriminator,o=i.decode(e,t),s=this.registry[o];if(s===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[a.property]=a.decode(e,t+c)}else n=s.decode(e,t);return n}encode(e,t,n=0){const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,n),a+s.encode(e[s.property],t,n+a)}return i.encode(e,t,n)}addVariant(e,t,n){const i=new Jv(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,t):n=e,this.registry[n]}};Z.Union=Zh;let Jv=class extends Ge{constructor(e,t,n,i){if(!(e instanceof Zh))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+n)),n+i}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),o+=this.layout.getSpan(t,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};Z.VariantLayout=Jv;function Oo(r){return 0>r&&(r+=4294967296),r}let Xh=class extends Ge{constructor(e,t,n){if(!(e instanceof Qr||e instanceof dn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(o){return i=Oo(o),this},this._packedGetValue=function(){return i}}decode(e,t=0){const n=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(e));return n}encode(e,t,n=0){const i=this.word.decode(t,n);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new Qh(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new ew(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};Z.BitStructure=Xh;let Qh=class{constructor(e,t,n){if(!(e instanceof Xh))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(t+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-t),this.wordMask=Oo(this.valueMask<<this.start),this.property=n}decode(e,t){const n=this.container._packedGetValue();return Oo(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Oo(e&this.valueMask))throw new TypeError(qh("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=Oo(e<<this.start);this.container._packedSetValue(Oo(t&~this.wordMask)|n)}};Z.BitField=Qh;let ew=class extends Qh{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};Z.Boolean=ew;let tw=class extends Ge{constructor(e,t){if(!(e instanceof kr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof kr||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),Ue(e).slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof kr&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(qh("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>t.length)throw new RangeError("encoding overruns Uint8Array");const o=Ue(e);return Ue(t).write(o.toString("hex"),n,i,"hex"),this.length instanceof kr&&this.length.encode(i,t,n),i}};Z.Blob=tw;let rw=class extends Ge{constructor(e){super(-1,e)}getSpan(e,t=0){As(e);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return Ue(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const i=Vh.Buffer.from(e,"utf8"),o=i.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");const s=Ue(t);return i.copy(s,n),s[n+o]=0,o+1}};Z.CString=rw;let nw=class extends Ge{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return As(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return Ue(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){typeof e!="string"&&(e=String(e));const i=Vh.Buffer.from(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Ue(t),n),o}};Z.UTF8=nw;let iw=class extends Ge{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}};Z.Constant=iw;Z.greedy=(r,e)=>new jv(r,e);var Ci=Z.offset=(r,e,t)=>new Gh(r,e,t),Be=Z.u8=r=>new Qr(1,r),qr=Z.u16=r=>new Qr(2,r);Z.u24=r=>new Qr(3,r);var de=Z.u32=r=>new Qr(4,r);Z.u40=r=>new Qr(5,r);Z.u48=r=>new Qr(6,r);var Zt=Z.nu64=r=>new $v(r);Z.u16be=r=>new dn(2,r);Z.u24be=r=>new dn(3,r);Z.u32be=r=>new dn(4,r);Z.u40be=r=>new dn(5,r);Z.u48be=r=>new dn(6,r);Z.nu64be=r=>new Wv(r);Z.s8=r=>new yo(1,r);Z.s16=r=>new yo(2,r);Z.s24=r=>new yo(3,r);Z.s32=r=>new yo(4,r);Z.s40=r=>new yo(5,r);Z.s48=r=>new yo(6,r);var Fr=Z.ns64=r=>new Kv(r);Z.s16be=r=>new Ss(2,r);Z.s24be=r=>new Ss(3,r);Z.s32be=r=>new Ss(4,r);Z.s40be=r=>new Ss(5,r);Z.s48be=r=>new Ss(6,r);Z.ns64be=r=>new Vv(r);Z.f32=r=>new qv(r);Z.f32be=r=>new Gv(r);Z.f64=r=>new Yv(r);Z.f64be=r=>new Zv(r);var he=Z.struct=(r,e,t)=>new Qv(r,e,t);Z.bits=(r,e,t)=>new Xh(r,e,t);var Jt=Z.seq=(r,e,t)=>new Xv(r,e,t);Z.union=(r,e,t)=>new Zh(r,e,t);Z.unionLayoutDiscriminator=(r,e)=>new Au(r,e);var et=Z.blob=(r,e)=>new tw(r,e);Z.cstr=r=>new rw(r);Z.utf8=(r,e)=>new nw(r,e);Z.constant=(r,e)=>new iw(r,e);var F8=8078e3,M8=8078001,U8=8078004,z8=8078005,H8=8078006,j8=8078011;function ow(r){return Array.isArray(r)?"%5B"+r.map(ow).join("%2C%20")+"%5D":typeof r=="bigint"?`${r}n`:encodeURIComponent(String(r!=null&&Object.getPrototypeOf(r)===null?{...r}:r))}function $8([r,e]){return`${r}=${ow(e)}`}function W8(r){const e=Object.entries(r).map($8).join("&");return btoa(e)}function K8(r,e={}){{let t=`Solana error #${r}; Decode this error by running \`npx @solana/errors decode -- ${r}`;return Object.keys(e).length&&(t+=` '${W8(e)}'`),`${t}\``}}var ts=class extends Error{constructor(...[e,t]){let n,i;if(t){const{cause:s,...a}=t;s&&(i={cause:s}),Object.keys(a).length>0&&(n=a)}const o=K8(e,n);super(o,i);nt(this,"cause",this.cause);nt(this,"context");this.context={__code:e,...n},this.name="SolanaError"}};function V8(r,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(r)}function q8(r){return Object.freeze({...r,encode:e=>{const t=new Uint8Array(V8(e,r));return r.write(e,t,0),t}})}function G8(r){return Object.freeze({...r,decode:(e,t=0)=>r.read(e,t)[0]})}function Io(r){return"fixedSize"in r&&typeof r.fixedSize=="number"}function Y8(r,e){if(Io(r)!==Io(e))throw new ts(U8);if(Io(r)&&Io(e)&&r.fixedSize!==e.fixedSize)throw new ts(z8,{decoderFixedSize:e.fixedSize,encoderFixedSize:r.fixedSize});if(!Io(r)&&!Io(e)&&r.maxSize!==e.maxSize)throw new ts(H8,{decoderMaxSize:e.maxSize,encoderMaxSize:r.maxSize});return{...e,...r,decode:e.decode,encode:r.encode,read:e.read,write:r.write}}function Z8(r,e,t=0){if(e.length-t<=0)throw new ts(F8,{codecDescription:r})}function X8(r,e,t,n=0){const i=t.length-n;if(i<e)throw new ts(M8,{bytesLength:i,codecDescription:r,expected:e})}function Q8(r,e,t,n){if(n<e||n>t)throw new ts(j8,{codecDescription:r,max:t,min:e,value:n})}function sw(r){return(r==null?void 0:r.endian)!==1}function J8(r){return q8({fixedSize:r.size,write(e,t,n){r.range&&Q8(r.name,r.range[0],r.range[1],e);const i=new ArrayBuffer(r.size);return r.set(new DataView(i),e,sw(r.config)),t.set(new Uint8Array(i),n),n+r.size}})}function e4(r){return G8({fixedSize:r.size,read(e,t=0){Z8(r.name,e,t),X8(r.name,r.size,e,t);const n=new DataView(t4(e,t,r.size));return[r.get(n,sw(r.config)),t+r.size]}})}function t4(r,e,t){const n=r.byteOffset+(e??0),i=t??r.byteLength;return r.buffer.slice(n,n+i)}var aw=(r={})=>J8({config:r,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),r4=(r={})=>e4({config:r,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),n4=(r={})=>Y8(aw(r),r4(r));let i4=class extends TypeError{constructor(e,t){let n;const{message:i,explanation:o,...s}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(o??c),o!=null&&(this.cause=c),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function o4(r){return $a(r)&&typeof r[Symbol.iterator]=="function"}function $a(r){return typeof r=="object"&&r!=null}function Su(r){return $a(r)&&!Array.isArray(r)}function pn(r){return typeof r=="symbol"?r.toString():typeof r=="string"?JSON.stringify(r):`${r}`}function s4(r){const{done:e,value:t}=r.next();return e?void 0:t}function a4(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:i,branch:o}=e,{type:s}=t,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${pn(n)}\``}=r;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...r,message:c}}function*rm(r,e,t,n){o4(r)||(r=[r]);for(const i of r){const o=a4(i,e,t,n);o&&(yield o)}}function*Jh(r,e,t={}){const{path:n=[],branch:i=[r],coerce:o=!1,mask:s=!1}=t,a={path:n,branch:i,mask:s};o&&(r=e.coercer(r,a));let c="valid";for(const u of e.validator(r,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,f,y]of e.entries(r,a)){const p=Jh(f,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,f],coerce:o,mask:s,message:t.message});for(const d of p)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):o&&(f=d[1],u===void 0?r=f:r instanceof Map?r.set(u,f):r instanceof Set?r.add(f):$a(r)&&(f!==void 0||u in r)&&(r[u]=f))}if(c!=="not_valid")for(const u of e.refiner(r,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,r])}let Dn=class{constructor(e){const{type:t,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{const f=i(c,u);return rm(f,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{const f=o(c,u);return rm(f,u,this,c)}:this.refiner=()=>[]}assert(e,t){return cw(e,this,t)}create(e,t){return ie(e,this,t)}is(e){return uw(e,this)}mask(e,t){return c4(e,this,t)}validate(e,t={}){return Wa(e,this,t)}};function cw(r,e,t){const n=Wa(r,e,{message:t});if(n[0])throw n[0]}function ie(r,e,t){const n=Wa(r,e,{coerce:!0,message:t});if(n[0])throw n[0];return n[1]}function c4(r,e,t){const n=Wa(r,e,{coerce:!0,mask:!0,message:t});if(n[0])throw n[0];return n[1]}function uw(r,e){return!Wa(r,e)[0]}function Wa(r,e,t={}){const n=Jh(r,e,t),i=s4(n);return i[0]?[new i4(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function go(r,e){return new Dn({type:r,schema:null,validator:e})}function u4(){return go("any",()=>!0)}function ae(r){return new Dn({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pn(e)}`}})}function Tn(){return go("boolean",r=>typeof r=="boolean")}function ep(r){return go("instance",e=>e instanceof r||`Expected a \`${r.name}\` instance, but received: ${pn(e)}`)}function yt(r){const e=pn(r),t=typeof r;return new Dn({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?r:null,validator(n){return n===r||`Expected the literal \`${e}\`, but received: ${pn(n)}`}})}function l4(){return go("never",()=>!1)}function ce(r){return new Dn({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function G(){return go("number",r=>typeof r=="number"&&!isNaN(r)||`Expected a number, but received: ${pn(r)}`)}function me(r){return new Dn({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function lw(r,e){return new Dn({type:"record",schema:null,*entries(t){if($a(t))for(const n in t){const i=t[n];yield[n,n,r],yield[n,i,e]}},validator(t){return Su(t)||`Expected an object, but received: ${pn(t)}`},coercer(t){return Su(t)?{...t}:t}})}function ne(){return go("string",r=>typeof r=="string"||`Expected a string, but received: ${pn(r)}`)}function tp(r){const e=l4();return new Dn({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const n=Math.max(r.length,t.length);for(let i=0;i<n;i++)yield[i,t[i],r[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${pn(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ee(r){const e=Object.keys(r);return new Dn({type:"type",schema:r,*entries(t){if($a(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return Su(t)||`Expected an object, but received: ${pn(t)}`},coercer(t){return Su(t)?{...t}:t}})}function wr(r){const e=r.map(t=>t.type).join(" | ");return new Dn({type:"union",schema:null,coercer(t,n){for(const i of r){const[o,s]=i.validate(t,{coerce:!0,mask:n.mask});if(!o)return s}return t},validator(t,n){const i=[];for(const o of r){const[...s]=Jh(t,o,n),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pn(t)}`,...i]}})}function Rs(){return go("unknown",()=>!0)}function Ka(r,e,t){return new Dn({...r,coercer:(n,i)=>uw(n,e)?r.coercer(t(n,i),i):r.coercer(n,i)})}var Ec,f4=new Uint8Array(16);function fw(){if(!Ec&&(Ec=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ec))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ec(f4)}const d4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ol(r){return typeof r=="string"&&d4.test(r)}var Yt=[];for(var A0=0;A0<256;++A0)Yt.push((A0+256).toString(16).substr(1));function sl(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Yt[r[e+0]]+Yt[r[e+1]]+Yt[r[e+2]]+Yt[r[e+3]]+"-"+Yt[r[e+4]]+Yt[r[e+5]]+"-"+Yt[r[e+6]]+Yt[r[e+7]]+"-"+Yt[r[e+8]]+Yt[r[e+9]]+"-"+Yt[r[e+10]]+Yt[r[e+11]]+Yt[r[e+12]]+Yt[r[e+13]]+Yt[r[e+14]]+Yt[r[e+15]]).toLowerCase();if(!ol(t))throw TypeError("Stringified UUID is invalid");return t}var nm,S0,R0=0,k0=0;function h4(r,e,t){var n=e&&t||0,i=e||new Array(16);r=r||{};var o=r.node||nm,s=r.clockseq!==void 0?r.clockseq:S0;if(o==null||s==null){var a=r.random||(r.rng||fw)();o==null&&(o=nm=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=S0=(a[6]<<8|a[7])&16383)}var c=r.msecs!==void 0?r.msecs:Date.now(),u=r.nsecs!==void 0?r.nsecs:k0+1,f=c-R0+(u-k0)/1e4;if(f<0&&r.clockseq===void 0&&(s=s+1&16383),(f<0||c>R0)&&r.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");R0=c,k0=u,S0=s,c+=122192928e5;var y=((c&268435455)*1e4+u)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=y&255;var p=c/4294967296*1e4&268435455;i[n++]=p>>>8&255,i[n++]=p&255,i[n++]=p>>>24&15|16,i[n++]=p>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(var d=0;d<6;++d)i[n+d]=o[d];return e||sl(i)}function dw(r){if(!ol(r))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(r.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(r.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(r.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(r.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(r.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function p4(r){r=unescape(encodeURIComponent(r));for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e}var m4="6ba7b810-9dad-11d1-80b4-00c04fd430c8",y4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function hw(r,e,t){function n(i,o,s,a){if(typeof i=="string"&&(i=p4(i)),typeof o=="string"&&(o=dw(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(var u=0;u<16;++u)s[a+u]=c[u];return s}return sl(c)}try{n.name=r}catch{}return n.DNS=m4,n.URL=y4,n}function g4(r){if(typeof r=="string"){var e=unescape(encodeURIComponent(r));r=new Uint8Array(e.length);for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)}return x4(v4(w4(r),r.length*8))}function x4(r){for(var e=[],t=r.length*32,n="0123456789abcdef",i=0;i<t;i+=8){var o=r[i>>5]>>>i%32&255,s=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);e.push(s)}return e}function pw(r){return(r+64>>>9<<4)+14+1}function v4(r,e){r[e>>5]|=128<<e%32,r[pw(e)-1]=e;for(var t=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<r.length;s+=16){var a=t,c=n,u=i,f=o;t=cr(t,n,i,o,r[s],7,-680876936),o=cr(o,t,n,i,r[s+1],12,-389564586),i=cr(i,o,t,n,r[s+2],17,606105819),n=cr(n,i,o,t,r[s+3],22,-1044525330),t=cr(t,n,i,o,r[s+4],7,-176418897),o=cr(o,t,n,i,r[s+5],12,1200080426),i=cr(i,o,t,n,r[s+6],17,-1473231341),n=cr(n,i,o,t,r[s+7],22,-45705983),t=cr(t,n,i,o,r[s+8],7,1770035416),o=cr(o,t,n,i,r[s+9],12,-1958414417),i=cr(i,o,t,n,r[s+10],17,-42063),n=cr(n,i,o,t,r[s+11],22,-1990404162),t=cr(t,n,i,o,r[s+12],7,1804603682),o=cr(o,t,n,i,r[s+13],12,-40341101),i=cr(i,o,t,n,r[s+14],17,-1502002290),n=cr(n,i,o,t,r[s+15],22,1236535329),t=ur(t,n,i,o,r[s+1],5,-165796510),o=ur(o,t,n,i,r[s+6],9,-1069501632),i=ur(i,o,t,n,r[s+11],14,643717713),n=ur(n,i,o,t,r[s],20,-373897302),t=ur(t,n,i,o,r[s+5],5,-701558691),o=ur(o,t,n,i,r[s+10],9,38016083),i=ur(i,o,t,n,r[s+15],14,-660478335),n=ur(n,i,o,t,r[s+4],20,-405537848),t=ur(t,n,i,o,r[s+9],5,568446438),o=ur(o,t,n,i,r[s+14],9,-1019803690),i=ur(i,o,t,n,r[s+3],14,-187363961),n=ur(n,i,o,t,r[s+8],20,1163531501),t=ur(t,n,i,o,r[s+13],5,-1444681467),o=ur(o,t,n,i,r[s+2],9,-51403784),i=ur(i,o,t,n,r[s+7],14,1735328473),n=ur(n,i,o,t,r[s+12],20,-1926607734),t=lr(t,n,i,o,r[s+5],4,-378558),o=lr(o,t,n,i,r[s+8],11,-2022574463),i=lr(i,o,t,n,r[s+11],16,1839030562),n=lr(n,i,o,t,r[s+14],23,-35309556),t=lr(t,n,i,o,r[s+1],4,-1530992060),o=lr(o,t,n,i,r[s+4],11,1272893353),i=lr(i,o,t,n,r[s+7],16,-155497632),n=lr(n,i,o,t,r[s+10],23,-1094730640),t=lr(t,n,i,o,r[s+13],4,681279174),o=lr(o,t,n,i,r[s],11,-358537222),i=lr(i,o,t,n,r[s+3],16,-722521979),n=lr(n,i,o,t,r[s+6],23,76029189),t=lr(t,n,i,o,r[s+9],4,-640364487),o=lr(o,t,n,i,r[s+12],11,-421815835),i=lr(i,o,t,n,r[s+15],16,530742520),n=lr(n,i,o,t,r[s+2],23,-995338651),t=fr(t,n,i,o,r[s],6,-198630844),o=fr(o,t,n,i,r[s+7],10,1126891415),i=fr(i,o,t,n,r[s+14],15,-1416354905),n=fr(n,i,o,t,r[s+5],21,-57434055),t=fr(t,n,i,o,r[s+12],6,1700485571),o=fr(o,t,n,i,r[s+3],10,-1894986606),i=fr(i,o,t,n,r[s+10],15,-1051523),n=fr(n,i,o,t,r[s+1],21,-2054922799),t=fr(t,n,i,o,r[s+8],6,1873313359),o=fr(o,t,n,i,r[s+15],10,-30611744),i=fr(i,o,t,n,r[s+6],15,-1560198380),n=fr(n,i,o,t,r[s+13],21,1309151649),t=fr(t,n,i,o,r[s+4],6,-145523070),o=fr(o,t,n,i,r[s+11],10,-1120210379),i=fr(i,o,t,n,r[s+2],15,718787259),n=fr(n,i,o,t,r[s+9],21,-343485551),t=vi(t,a),n=vi(n,c),i=vi(i,u),o=vi(o,f)}return[t,n,i,o]}function w4(r){if(r.length===0)return[];for(var e=r.length*8,t=new Uint32Array(pw(e)),n=0;n<e;n+=8)t[n>>5]|=(r[n/8]&255)<<n%32;return t}function vi(r,e){var t=(r&65535)+(e&65535),n=(r>>16)+(e>>16)+(t>>16);return n<<16|t&65535}function _4(r,e){return r<<e|r>>>32-e}function al(r,e,t,n,i,o){return vi(_4(vi(vi(e,r),vi(n,o)),i),t)}function cr(r,e,t,n,i,o,s){return al(e&t|~e&n,r,e,i,o,s)}function ur(r,e,t,n,i,o,s){return al(e&n|t&~n,r,e,i,o,s)}function lr(r,e,t,n,i,o,s){return al(e^t^n,r,e,i,o,s)}function fr(r,e,t,n,i,o,s){return al(t^(e|~n),r,e,i,o,s)}var E4=hw("v3",48,g4);function b4(r,e,t){r=r||{};var n=r.random||(r.rng||fw)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=n[i];return e}return sl(n)}function A4(r,e,t,n){switch(r){case 0:return e&t^~e&n;case 1:return e^t^n;case 2:return e&t^e&n^t&n;case 3:return e^t^n}}function C0(r,e){return r<<e|r>>>32-e}function S4(r){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var u=new Uint32Array(16),f=0;f<16;++f)u[f]=r[c*64+f*4]<<24|r[c*64+f*4+1]<<16|r[c*64+f*4+2]<<8|r[c*64+f*4+3];a[c]=u}a[s-1][14]=(r.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(r.length-1)*8&4294967295;for(var y=0;y<s;++y){for(var p=new Uint32Array(80),d=0;d<16;++d)p[d]=a[y][d];for(var x=16;x<80;++x)p[x]=C0(p[x-3]^p[x-8]^p[x-14]^p[x-16],1);for(var b=t[0],E=t[1],A=t[2],g=t[3],w=t[4],k=0;k<80;++k){var I=Math.floor(k/20),F=C0(b,5)+A4(I,E,A,g)+w+e[I]+p[k]>>>0;w=g,g=A,A=C0(E,30)>>>0,E=b,b=F}t[0]=t[0]+b>>>0,t[1]=t[1]+E>>>0,t[2]=t[2]+A>>>0,t[3]=t[3]+g>>>0,t[4]=t[4]+w>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var R4=hw("v5",80,S4);const k4="00000000-0000-0000-0000-000000000000";function C4(r){if(!ol(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const I4=Object.freeze(Object.defineProperty({__proto__:null,NIL:k4,parse:dw,stringify:sl,v1:h4,v3:E4,v4:b4,v5:R4,validate:ol,version:C4},Symbol.toStringTag,{value:"Module"})),mw=Nu(I4),B4=mw.v4,T4=function(r,e,t,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const o={method:r};if(i===2&&(o.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");o.params=e}if(typeof t>"u"){const s=typeof n.generator=="function"?n.generator:function(){return B4()};o.id=s(o,n)}else i===2&&t===null?n.notificationIdNull&&(o.id=null):o.id=t;return o};var O4=T4;const N4=mw.v4,D4=O4,Ba=function(r,e){if(!(this instanceof Ba))return new Ba(r,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return N4()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=r};var P4=Ba;Ba.prototype.request=function(r,e,t,n){const i=this;let o=null;const s=Array.isArray(r)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&r&&typeof r=="object"&&typeof e=="function")n=e,o=r;else{typeof t=="function"&&(n=t,t=void 0);const u=typeof n=="function";try{o=D4(r,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(f){if(u)return n(f);throw f}if(!u)return o}let c;try{c=JSON.stringify(o,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,f){i._parseResponse(u,f,n)}),o};Ba.prototype._parseResponse=function(r,e,t){if(r){t(r);return}if(!e)return t();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(n)){const i=function(s){return typeof s.error<"u"},o=function(s){return!i(s)};return t(null,n.filter(i),n.filter(o))}else return t(null,n.error,n.result);t(null,n)};const L4=ho(P4);var yw={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,y,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,y||c,p),x=t?t+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],d]:c._events[x].push(d):(c._events[x]=d,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,y;if(this._eventsCount===0)return u;for(y in f=this._events)e.call(f,y)&&u.push(t?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=t?t+u:u,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var p=0,d=y.length,x=new Array(d);p<d;p++)x[p]=y[p].fn;return x},a.prototype.listenerCount=function(u){var f=t?t+u:u,y=this._events[f];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,f,y,p,d,x){var b=t?t+u:u;if(!this._events[b])return!1;var E=this._events[b],A=arguments.length,g,w;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,y),!0;case 4:return E.fn.call(E.context,f,y,p),!0;case 5:return E.fn.call(E.context,f,y,p,d),!0;case 6:return E.fn.call(E.context,f,y,p,d,x),!0}for(w=1,g=new Array(A-1);w<A;w++)g[w-1]=arguments[w];E.fn.apply(E.context,g)}else{var k=E.length,I;for(w=0;w<k;w++)switch(E[w].once&&this.removeListener(u,E[w].fn,void 0,!0),A){case 1:E[w].fn.call(E[w].context);break;case 2:E[w].fn.call(E[w].context,f);break;case 3:E[w].fn.call(E[w].context,f,y);break;case 4:E[w].fn.call(E[w].context,f,y,p);break;default:if(!g)for(I=1,g=new Array(A-1);I<A;I++)g[I-1]=arguments[I];E[w].fn.apply(E[w].context,g)}}return!0},a.prototype.on=function(u,f,y){return o(this,u,f,y,!1)},a.prototype.once=function(u,f,y){return o(this,u,f,y,!0)},a.prototype.removeListener=function(u,f,y,p){var d=t?t+u:u;if(!this._events[d])return this;if(!f)return s(this,d),this;var x=this._events[d];if(x.fn)x.fn===f&&(!p||x.once)&&(!y||x.context===y)&&s(this,d);else{for(var b=0,E=[],A=x.length;b<A;b++)(x[b].fn!==f||p&&!x[b].once||y&&x[b].context!==y)&&E.push(x[b]);E.length?this._events[d]=E.length===1?E[0]:E:s(this,d)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=t?t+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(yw);var F4=yw.exports;const gw=ho(F4);var M4=class extends gw{constructor(e,t,n){super();nt(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,t,n){const i=n||t;try{this.socket.send(e),i()}catch(o){i(o)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function U4(r,e){return new M4(r,e)}var z4=class{encode(r){return JSON.stringify(r)}decode(r){return JSON.parse(r)}},H4=class extends gw{constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:o=1e3,max_reconnects:s=5,...a}={},c,u){super();nt(this,"address");nt(this,"rpc_id");nt(this,"queue");nt(this,"options");nt(this,"autoconnect");nt(this,"ready");nt(this,"reconnect");nt(this,"reconnect_timer_id");nt(this,"reconnect_interval");nt(this,"max_reconnects");nt(this,"rest_options");nt(this,"current_reconnects");nt(this,"generate_request_id");nt(this,"socket");nt(this,"webSocketFactory");nt(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=s,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new z4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((o,s)=>{if(!this.ready)return s(new Error("socket not ready"));const a=this.generate_request_id(e,t),c={jsonrpc:"2.0",method:e,params:t||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,u=>{if(u)return s(u);this.queue[a]={promise:[o,s]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],s(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const o={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(o),s=>{if(s)return i(s);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=ue.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let o=0;o<n.params.length;o++)i.push(n.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval)))})}};const j4=BigInt(0),js=BigInt(1),$4=BigInt(2),W4=BigInt(7),K4=BigInt(256),V4=BigInt(113),xw=[],vw=[],ww=[];for(let r=0,e=js,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],xw.push(2*(5*n+t)),vw.push((r+1)*(r+2)/2%64);let i=j4;for(let o=0;o<7;o++)e=(e<<js^(e>>W4)*V4)%K4,e&$4&&(i^=js<<(js<<BigInt(o))-js);ww.push(i)}const _w=mv(ww,!0),q4=_w[0],G4=_w[1],im=(r,e,t)=>t>32?wS(r,e,t):xS(r,e,t),om=(r,e,t)=>t>32?_S(r,e,t):vS(r,e,t);function Y4(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)t[s]=r[s]^r[s+10]^r[s+20]^r[s+30]^r[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,u=t[c],f=t[c+1],y=im(u,f,1)^t[a],p=om(u,f,1)^t[a+1];for(let d=0;d<50;d+=10)r[s+d]^=y,r[s+d+1]^=p}let i=r[2],o=r[3];for(let s=0;s<24;s++){const a=vw[s],c=im(i,o,a),u=om(i,o,a),f=xw[s];i=r[f],o=r[f+1],r[f]=c,r[f+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)t[a]=r[s+a];for(let a=0;a<10;a++)r[s+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=q4[n],r[1]^=G4[n]}Ni(t)}class rp extends Mh{constructor(e,t,n,i=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=o,Ca(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cS(this.state)}clone(){return this._cloneInto()}keccak(){$1(this.state32),Y4(this.state32,this.rounds),$1(this.state32),this.posOut=0,this.pos=0}update(e){ds(this),e=Xu(e),tn(e);const{blockLen:t,state:n}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(t-this.pos,i-o);for(let a=0;a<s;a++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:i}=this;e[n]^=t,t&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ds(this,!1),tn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let i=0,o=e.length;i<o;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,o-i);e.set(t.subarray(this.posOut,this.posOut+s),i),this.posOut+=s,i+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ca(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fv(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Ni(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:i,rounds:o,enableXOF:s}=this;return e||(e=new rp(t,n,i,s,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=i,e.enableXOF=s,e.destroyed=this.destroyed,e}}const Z4=(r,e,t)=>Uh(()=>new rp(e,r,t)),sm=Z4(1,136,256/8);class Ew extends Mh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,aS(e);const n=Xu(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?e.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),Ni(o)}update(e){return ds(this),this.iHash.update(e),this}digestInto(e){ds(this),tn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=o,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bw=(r,e,t)=>new Ew(r,e).update(t).digest();bw.create=(r,e)=>new Ew(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function am(r){r.lowS!==void 0&&co("lowS",r.lowS),r.prehash!==void 0&&co("prehash",r.prehash)}class X4 extends Error{constructor(e=""){super(e)}}const jn={Err:X4,_tlv:{encode:(r,e)=>{const{Err:t}=jn;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const n=e.length/2,i=wc(n);if(i.length/2&128)throw new t("tlv.encode: long form length too big");const o=n>127?wc(i.length/2|128):"";return wc(r)+o+i+e},decode(r,e){const{Err:t}=jn;let n=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[n++]!==r)throw new t("tlv.decode: wrong tlv");const i=e[n++],o=!!(i&128);let s=0;if(!o)s=i;else{const c=i&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+c);if(u.length!==c)throw new t("tlv.decode: length bytes not complete");if(u[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const f of u)s=s<<8|f;if(n+=c,s<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+s);if(a.length!==s)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+s)}}},_int:{encode(r){const{Err:e}=jn;if(r<oa)throw new e("integer: negative integers are not allowed");let t=wc(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=jn;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Qu(r)}},toSig(r){const{Err:e,_int:t,_tlv:n}=jn,i=Tt("signature",r),{v:o,l:s}=n.decode(48,i);if(s.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,o),{v:u,l:f}=n.decode(2,c);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(u)}},hexFromSig(r){const{_tlv:e,_int:t}=jn,n=e.encode(2,t.encode(r.r)),i=e.encode(2,t.encode(r.s)),o=n+i;return e.encode(48,o)}},oa=BigInt(0),sa=BigInt(1),Q4=BigInt(2),bc=BigInt(3),J4=BigInt(4);function eR(r,e,t){function n(i){const o=r.sqr(i),s=r.mul(o,i);return r.add(r.add(s,r.mul(i,e)),t)}return n}function Aw(r,e,t){const{BYTES:n}=r;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=Tt("private key",o);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{s=r.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof o}`)}}if(t&&(s=r.create(s)),!r.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function tR(r,e={}){const{Fp:t,Fn:n}=Tv("weierstrass",r,e),{h:i,n:o}=r;ja(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=e;if(s&&(!t.is0(r.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!t.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(z,H,D){const{x:P,y:j}=H.toAffine(),S=t.toBytes(P);if(co("isCompressed",D),D){a();const l=!t.isOdd(j);return Yn(Sw(l),S)}else return Yn(Uint8Array.of(4),S,t.toBytes(j))}function u(z){tn(z);const H=t.BYTES,D=H+1,P=2*H+1,j=z.length,S=z[0],l=z.subarray(1);if(j===D&&(S===2||S===3)){const h=t.fromBytes(l);if(!t.isValid(h))throw new Error("bad point: is not on curve, wrong x");const R=p(h);let N;try{N=t.sqrt(R)}catch($){const C=$ instanceof Error?": "+$.message:"";throw new Error("bad point: is not on curve, sqrt error"+C)}a();const B=t.isOdd(N);return(S&1)===1!==B&&(N=t.neg(N)),{x:h,y:N}}else if(j===P&&S===4){const h=t.fromBytes(l.subarray(H*0,H*1)),R=t.fromBytes(l.subarray(H*1,H*2));if(!d(h,R))throw new Error("bad point: is not on curve");return{x:h,y:R}}else throw new Error(`bad point: got length ${j}, expected compressed=${D} or uncompressed=${P}`)}const f=e.toBytes||c,y=e.fromBytes||u,p=eR(t,r.a,r.b);function d(z,H){const D=t.sqr(H),P=p(z);return t.eql(D,P)}if(!d(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const x=t.mul(t.pow(r.a,bc),J4),b=t.mul(t.sqr(r.b),BigInt(27));if(t.is0(t.add(x,b)))throw new Error("bad curve params: a or b");function E(z,H,D=!1){if(!t.isValid(H)||D&&t.is0(H))throw new Error(`bad point coordinate ${z}`);return H}function A(z){if(!(z instanceof I))throw new Error("ProjectivePoint expected")}const g=vu((z,H)=>{const{px:D,py:P,pz:j}=z;if(t.eql(j,t.ONE))return{x:D,y:P};const S=z.is0();H==null&&(H=S?t.ONE:t.inv(j));const l=t.mul(D,H),h=t.mul(P,H),R=t.mul(j,H);if(S)return{x:t.ZERO,y:t.ZERO};if(!t.eql(R,t.ONE))throw new Error("invZ was invalid");return{x:l,y:h}}),w=vu(z=>{if(z.is0()){if(e.allowInfinityPoint&&!t.is0(z.py))return;throw new Error("bad point: ZERO")}const{x:H,y:D}=z.toAffine();if(!t.isValid(H)||!t.isValid(D))throw new Error("bad point: x or y not field elements");if(!d(H,D))throw new Error("bad point: equation left != right");if(!z.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(z,H,D,P,j){return D=new I(t.mul(D.px,z),D.py,D.pz),H=ia(P,H),D=ia(j,D),H.add(D)}class I{constructor(H,D,P){this.px=E("x",H),this.py=E("y",D,!0),this.pz=E("z",P),Object.freeze(this)}static fromAffine(H){const{x:D,y:P}=H||{};if(!H||!t.isValid(D)||!t.isValid(P))throw new Error("invalid affine point");if(H instanceof I)throw new Error("projective point not allowed");return t.is0(D)&&t.is0(P)?I.ZERO:new I(D,P,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(H){return Rv(I,"pz",H)}static fromBytes(H){return tn(H),I.fromHex(H)}static fromHex(H){const D=I.fromAffine(y(Tt("pointHex",H)));return D.assertValidity(),D}static fromPrivateKey(H){const D=Aw(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return I.BASE.multiply(D(H))}static msm(H,D){return Bv(I,n,H,D)}precompute(H=8,D=!0){return L.setWindowSize(this,H),D||this.multiply(bc),this}_setWindowSize(H){this.precompute(H)}assertValidity(){w(this)}hasEvenY(){const{y:H}=this.toAffine();if(!t.isOdd)throw new Error("Field doesn't support isOdd");return!t.isOdd(H)}equals(H){A(H);const{px:D,py:P,pz:j}=this,{px:S,py:l,pz:h}=H,R=t.eql(t.mul(D,h),t.mul(S,j)),N=t.eql(t.mul(P,h),t.mul(l,j));return R&&N}negate(){return new I(this.px,t.neg(this.py),this.pz)}double(){const{a:H,b:D}=r,P=t.mul(D,bc),{px:j,py:S,pz:l}=this;let h=t.ZERO,R=t.ZERO,N=t.ZERO,B=t.mul(j,j),M=t.mul(S,S),$=t.mul(l,l),C=t.mul(j,S);return C=t.add(C,C),N=t.mul(j,l),N=t.add(N,N),h=t.mul(H,N),R=t.mul(P,$),R=t.add(h,R),h=t.sub(M,R),R=t.add(M,R),R=t.mul(h,R),h=t.mul(C,h),N=t.mul(P,N),$=t.mul(H,$),C=t.sub(B,$),C=t.mul(H,C),C=t.add(C,N),N=t.add(B,B),B=t.add(N,B),B=t.add(B,$),B=t.mul(B,C),R=t.add(R,B),$=t.mul(S,l),$=t.add($,$),B=t.mul($,C),h=t.sub(h,B),N=t.mul($,M),N=t.add(N,N),N=t.add(N,N),new I(h,R,N)}add(H){A(H);const{px:D,py:P,pz:j}=this,{px:S,py:l,pz:h}=H;let R=t.ZERO,N=t.ZERO,B=t.ZERO;const M=r.a,$=t.mul(r.b,bc);let C=t.mul(D,S),m=t.mul(P,l),O=t.mul(j,h),V=t.add(D,P),J=t.add(S,l);V=t.mul(V,J),J=t.add(C,m),V=t.sub(V,J),J=t.add(D,j);let te=t.add(S,h);return J=t.mul(J,te),te=t.add(C,O),J=t.sub(J,te),te=t.add(P,j),R=t.add(l,h),te=t.mul(te,R),R=t.add(m,O),te=t.sub(te,R),B=t.mul(M,J),R=t.mul($,O),B=t.add(R,B),R=t.sub(m,B),B=t.add(m,B),N=t.mul(R,B),m=t.add(C,C),m=t.add(m,C),O=t.mul(M,O),J=t.mul($,J),m=t.add(m,O),O=t.sub(C,O),O=t.mul(M,O),J=t.add(J,O),C=t.mul(m,J),N=t.add(N,C),C=t.mul(te,J),R=t.mul(V,R),R=t.sub(R,C),C=t.mul(V,m),B=t.mul(te,B),B=t.add(B,C),new I(R,N,B)}subtract(H){return this.add(H.negate())}is0(){return this.equals(I.ZERO)}multiply(H){const{endo:D}=e;if(!n.isValidNot0(H))throw new Error("invalid scalar: out of range");let P,j;const S=l=>L.wNAFCached(this,l,I.normalizeZ);if(D){const{k1neg:l,k1:h,k2neg:R,k2:N}=D.splitScalar(H),{p:B,f:M}=S(h),{p:$,f:C}=S(N);j=M.add(C),P=k(D.beta,B,$,l,R)}else{const{p:l,f:h}=S(H);P=l,j=h}return I.normalizeZ([P,j])[0]}multiplyUnsafe(H){const{endo:D}=e,P=this;if(!n.isValid(H))throw new Error("invalid scalar: out of range");if(H===oa||P.is0())return I.ZERO;if(H===sa)return P;if(L.hasPrecomputes(this))return this.multiply(H);if(D){const{k1neg:j,k1:S,k2neg:l,k2:h}=D.splitScalar(H),{p1:R,p2:N}=YS(I,P,S,h);return k(D.beta,R,N,j,l)}else return L.wNAFCachedUnsafe(P,H)}multiplyAndAddUnsafe(H,D,P){const j=this.multiplyUnsafe(D).add(H.multiplyUnsafe(P));return j.is0()?void 0:j}toAffine(H){return g(this,H)}isTorsionFree(){const{isTorsionFree:H}=e;return i===sa?!0:H?H(I,this):L.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:H}=e;return i===sa?this:H?H(I,this):this.multiplyUnsafe(i)}toBytes(H=!0){return co("isCompressed",H),this.assertValidity(),f(I,this,H)}toRawBytes(H=!0){return this.toBytes(H)}toHex(H=!0){return hs(this.toBytes(H))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}I.BASE=new I(r.Gx,r.Gy,t.ONE),I.ZERO=new I(t.ZERO,t.ONE,t.ZERO),I.Fp=t,I.Fn=n;const F=n.BITS,L=Iv(I,e.endo?Math.ceil(F/2):F);return I}function Sw(r){return Uint8Array.of(r?2:3)}function rR(r,e,t={}){ja(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||hv,i=e.hmac||((P,...j)=>bw(e.hash,P,Yn(...j))),{Fp:o,Fn:s}=r,{ORDER:a,BITS:c}=s;function u(P){const j=a>>sa;return P>j}function f(P){return u(P)?s.neg(P):P}function y(P,j){if(!s.isValidNot0(j))throw new Error(`invalid signature ${P}: out of range 1..CURVE.n`)}class p{constructor(j,S,l){y("r",j),y("s",S),this.r=j,this.s=S,l!=null&&(this.recovery=l),Object.freeze(this)}static fromCompact(j){const S=s.BYTES,l=Tt("compactSignature",j,S*2);return new p(s.fromBytes(l.subarray(0,S)),s.fromBytes(l.subarray(S,S*2)))}static fromDER(j){const{r:S,s:l}=jn.toSig(Tt("DER",j));return new p(S,l)}assertValidity(){}addRecoveryBit(j){return new p(this.r,this.s,j)}recoverPublicKey(j){const S=o.ORDER,{r:l,s:h,recovery:R}=this;if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");if(a*Q4<S&&R>1)throw new Error("recovery id is ambiguous for h>1 curve");const B=R===2||R===3?l+a:l;if(!o.isValid(B))throw new Error("recovery id 2 or 3 invalid");const M=o.toBytes(B),$=r.fromHex(Yn(Sw((R&1)===0),M)),C=s.inv(B),m=w(Tt("msgHash",j)),O=s.create(-m*C),V=s.create(h*C),J=r.BASE.multiplyUnsafe(O).add($.multiplyUnsafe(V));if(J.is0())throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new p(this.r,s.neg(this.s),this.recovery):this}toBytes(j){if(j==="compact")return Yn(s.toBytes(this.r),s.toBytes(this.s));if(j==="der")return Fh(jn.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return hs(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return hs(this.toBytes("compact"))}}const d=Aw(s,t.allowedPrivateKeyLengths,t.wrapPrivateKey),x={isValidPrivateKey(P){try{return d(P),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const P=a;return VS(n(Sv(P)),P)},precompute(P=8,j=r.BASE){return j.precompute(P,!1)}};function b(P,j=!0){return r.fromPrivateKey(P).toBytes(j)}function E(P){if(typeof P=="bigint")return!1;if(P instanceof r)return!0;const S=Tt("key",P).length,l=o.BYTES,h=l+1,R=2*l+1;if(!(t.allowedPrivateKeyLengths||s.BYTES===h))return S===h||S===R}function A(P,j,S=!0){if(E(P)===!0)throw new Error("first arg must be private key");if(E(j)===!1)throw new Error("second arg must be public key");return r.fromHex(j).multiply(d(P)).toBytes(S)}const g=e.bits2int||function(P){if(P.length>8192)throw new Error("input is too large");const j=Qu(P),S=P.length*8-c;return S>0?j>>BigInt(S):j},w=e.bits2int_modN||function(P){return s.create(g(P))},k=el(c);function I(P){return Vo("num < 2^"+c,P,oa,k),s.toBytes(P)}function F(P,j,S=L){if(["recovered","canonical"].some(V=>V in S))throw new Error("sign() legacy options not supported");const{hash:l}=e;let{lowS:h,prehash:R,extraEntropy:N}=S;h==null&&(h=!0),P=Tt("msgHash",P),am(S),R&&(P=Tt("prehashed msgHash",l(P)));const B=w(P),M=d(j),$=[I(M),I(B)];if(N!=null&&N!==!1){const V=N===!0?n(o.BYTES):N;$.push(Tt("extraEntropy",V))}const C=Yn(...$),m=B;function O(V){const J=g(V);if(!s.isValidNot0(J))return;const te=s.inv(J),we=r.BASE.multiply(J).toAffine(),oe=s.create(we.x);if(oe===oa)return;const be=s.create(te*s.create(m+oe*M));if(be===oa)return;let nr=(we.x===oe?0:2)|Number(we.y&sa),De=be;return h&&u(be)&&(De=f(be),nr^=1),new p(oe,De,nr)}return{seed:C,k2sig:O}}const L={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function H(P,j,S=L){const{seed:l,k2sig:h}=F(P,j,S);return LS(e.hash.outputLen,s.BYTES,i)(l,h)}r.BASE.precompute(8);function D(P,j,S,l=z){const h=P;j=Tt("msgHash",j),S=Tt("publicKey",S),am(l);const{lowS:R,prehash:N,format:B}=l;if("strict"in l)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&!["compact","der","js"].includes(B))throw new Error('format must be "compact", "der" or "js"');const M=typeof h=="string"||Lh(h),$=!M&&!B&&typeof h=="object"&&h!==null&&typeof h.r=="bigint"&&typeof h.s=="bigint";if(!M&&!$)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let C,m;try{if($)if(B===void 0||B==="js")C=new p(h.r,h.s);else throw new Error("invalid format");if(M){try{B!=="compact"&&(C=p.fromDER(h))}catch(De){if(!(De instanceof jn.Err))throw De}!C&&B!=="der"&&(C=p.fromCompact(h))}m=r.fromHex(S)}catch{return!1}if(!C||R&&C.hasHighS())return!1;N&&(j=e.hash(j));const{r:O,s:V}=C,J=w(j),te=s.inv(V),we=s.create(J*te),oe=s.create(O*te),be=r.BASE.multiplyUnsafe(we).add(m.multiplyUnsafe(oe));return be.is0()?!1:s.create(be.x)===O}return Object.freeze({getPublicKey:b,getSharedSecret:A,sign:H,verify:D,utils:x,Point:r,Signature:p})}function nR(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,n=Es(e.n,r.nBitLength),i={Fp:t,Fn:n,allowedPrivateKeyLengths:r.allowedPrivateKeyLengths,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,wrapPrivateKey:r.wrapPrivateKey,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:i}}function iR(r){const{CURVE:e,curveOpts:t}=nR(r),n={hash:r.hash,hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,ecdsaOpts:n}}function oR(r,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:r})}function sR(r){const{CURVE:e,curveOpts:t,ecdsaOpts:n}=iR(r),i=tR(e,t),o=rR(i,n,t);return oR(r,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aR(r,e){const t=n=>sR({...r,hash:n});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ru={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const cR=BigInt(1),Ad=BigInt(2),cm=(r,e)=>(r+e/Ad)/e;function uR(r){const e=Ru.p,t=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),u=r*r*r%e,f=u*u*r%e,y=kt(f,t,e)*f%e,p=kt(y,t,e)*f%e,d=kt(p,Ad,e)*u%e,x=kt(d,i,e)*d%e,b=kt(x,o,e)*x%e,E=kt(b,a,e)*b%e,A=kt(E,c,e)*E%e,g=kt(A,a,e)*b%e,w=kt(g,t,e)*f%e,k=kt(w,s,e)*x%e,I=kt(k,n,e)*u%e,F=kt(I,Ad,e);if(!Sd.eql(Sd.sqr(F),r))throw new Error("Cannot find square root");return F}const Sd=Es(Ru.p,void 0,void 0,{sqrt:uR}),np=aR({...Ru,Fp:Sd,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Ru.n,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-cR*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=t,s=BigInt("0x100000000000000000000000000000000"),a=cm(o*r,e),c=cm(-n*r,e);let u=Ot(r-a*t-c*i,e),f=Ot(-a*n-c*o,e);const y=u>s,p=f>s;if(y&&(u=e-u),p&&(f=e-f),u>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:y,k1:u,k2neg:p,k2:f}}}},gv),lR=bs.utils.randomPrivateKey,um=()=>{const r=bs.utils.randomPrivateKey(),e=ku(r),t=new Uint8Array(64);return t.set(r),t.set(e,32),{publicKey:e,secretKey:t}},ku=bs.getPublicKey;function lm(r){try{return bs.ExtendedPoint.fromHex(r),!0}catch{return!1}}const ip=(r,e)=>bs.sign(r,e.slice(0,32)),fR=bs.verify,Re=r=>ue.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ue.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ue.Buffer.from(r);let op=class{constructor(e){Object.assign(this,e)}encode(){return ue.Buffer.from(zv(aa,this))}static decode(e){return Hv(aa,this,e)}static decodeUnchecked(e){return Pv(aa,this,e)}};class dR extends op{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const aa=new Map;var Rw;const kw=32,Bn=32;function hR(r){return r._bn!==void 0}let fm=1;class Q extends op{constructor(e){if(super({}),this._bn=void 0,hR(e))this._bn=e._bn;else{if(typeof e=="string"){const t=zt.decode(e);if(t.length!=Bn)throw new Error("Invalid public key input");this._bn=new gr(t)}else this._bn=new gr(e);if(this._bn.byteLength()>Bn)throw new Error("Invalid public key input")}}static unique(){const e=new Q(fm);return fm+=1,new Q(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return zt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(ue.Buffer);if(e.length===Bn)return e;const t=ue.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const i=ue.Buffer.concat([e.toBuffer(),ue.Buffer.from(t),n.toBuffer()]),o=tm(i);return new Q(o)}static createProgramAddressSync(e,t){let n=ue.Buffer.alloc(0);e.forEach(function(o){if(o.length>kw)throw new TypeError("Max seed length exceeded");n=ue.Buffer.concat([n,Re(o)])}),n=ue.Buffer.concat([n,t.toBuffer(),ue.Buffer.from("ProgramDerivedAddress")]);const i=tm(n);if(lm(i))throw new Error("Invalid seeds, address must fall off the curve");return new Q(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n=255,i;for(;n!=0;){try{const o=e.concat(ue.Buffer.from([n]));i=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Q(e);return lm(t.toBytes())}}Rw=Q;Q.default=new Rw("11111111111111111111111111111111");aa.set(Q,{kind:"struct",fields:[["_bn","u256"]]});class pR{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Re(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Re(lR()),this._publicKey=Re(ku(this._secretKey))}get publicKey(){return new Q(this._publicKey)}get secretKey(){return ue.Buffer.concat([this._secretKey,this._publicKey],64)}}const mR=new Q("BPFLoader1111111111111111111111111111111111"),Ii=1232,cl=127,Ta=64;class sp extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(sp.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ap extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ap.prototype,"name",{value:"TransactionExpiredTimeoutError"});class qo extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(qo.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Oa{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((o,s)=>{n.set(o.toBase58(),s)});const i=o=>{const s=n.get(o.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(o=>({programIdIndex:i(o.programId),accountKeyIndexes:o.keys.map(s=>i(s.pubkey)),data:o.data}))}}const Ce=(r="publicKey")=>et(32,r),yR=(r="signature")=>et(64,r),Qi=(r="string")=>{const e=he([de("length"),de("lengthPadding"),et(Ci(de(),-8),"chars")],r),t=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(o,s)=>t(o,s).chars.toString(),i.encode=(o,s,a)=>{const c={chars:ue.Buffer.from(o,"utf8")};return n(c,s,a)},i.alloc=o=>de().span+de().span+ue.Buffer.from(o,"utf8").length,i},gR=(r="authorized")=>he([Ce("staker"),Ce("withdrawer")],r),xR=(r="lockup")=>he([Fr("unixTimestamp"),Fr("epoch"),Ce("custodian")],r),vR=(r="voteInit")=>he([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),Be("commission")],r),wR=(r="voteAuthorizeWithSeedArgs")=>he([de("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Qi("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],r);function Cw(r,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const o=e[i.property];if(Array.isArray(o))return o.length*t(i.elementLayout)}else if("fields"in i)return Cw({layout:i},e[i.property]);return 0};let n=0;return r.layout.fields.forEach(i=>{n+=t(i)}),n}function Ar(r){let e=0,t=0;for(;;){let n=r.shift();if(e|=(n&127)<<t*7,t+=1,!(n&128))break}return e}function Mr(r,e){let t=e;for(;;){let n=t&127;if(t>>=7,t==0){r.push(n);break}else n|=128,r.push(n)}}function Me(r,e){if(!r)throw new Error(e||"Assertion failed")}class ul{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,i=s=>{const a=s.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},o=i(t);o.isSigner=!0,o.isWritable=!0;for(const s of e){i(s.programId).isInvoked=!0;for(const a of s.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new ul(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Me(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),o=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:o.length};{Me(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Me(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Q(c)),...n.map(([c])=>new Q(c)),...i.map(([c])=>new Q(c)),...o.map(([c])=>new Q(c))];return[s,a]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[i,o]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:n,readonly:o}]}drainKeysFoundInLookupTable(e,t){const n=new Array,i=new Array;for(const[o,s]of this.keyMetaMap.entries())if(t(s)){const a=new Q(o),c=e.findIndex(u=>u.equals(a));c>=0&&(Me(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(o))}return[n,i]}}const Iw="Reached end of buffer unexpectedly";function Sn(r){if(r.length===0)throw new Error(Iw);return r.shift()}function Sr(r,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>r.length:t>=r.length)throw new Error(Iw);return r.splice(...e)}class mn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Q(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:zt.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Oa(this.staticAccountKeys)}static compile(e){const t=ul.compile(e.instructions,e.payerKey),[n,i]=t.getMessageComponents(),s=new Oa(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:zt.encode(a.data)}));return new mn({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-t,o=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return n<o}else{const n=t-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Mr(t,e);const n=this.instructions.map(y=>{const{accounts:p,programIdIndex:d}=y,x=Array.from(zt.decode(y.data));let b=[];Mr(b,p.length);let E=[];return Mr(E,x.length),{programIdIndex:d,keyIndicesCount:ue.Buffer.from(b),keyIndices:p,dataLength:ue.Buffer.from(E),data:x}});let i=[];Mr(i,n.length);let o=ue.Buffer.alloc(Ii);ue.Buffer.from(i).copy(o);let s=i.length;n.forEach(y=>{const d=he([Be("programIdIndex"),et(y.keyIndicesCount.length,"keyIndicesCount"),Jt(Be("keyIndex"),y.keyIndices.length,"keyIndices"),et(y.dataLength.length,"dataLength"),Jt(Be("userdatum"),y.data.length,"data")]).encode(y,o,s);s+=d}),o=o.slice(0,s);const a=he([et(1,"numRequiredSignatures"),et(1,"numReadonlySignedAccounts"),et(1,"numReadonlyUnsignedAccounts"),et(t.length,"keyCount"),Jt(Ce("key"),e,"keys"),Ce("recentBlockhash")]),c={numRequiredSignatures:ue.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ue.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ue.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ue.Buffer.from(t),keys:this.accountKeys.map(y=>Re(y.toBytes())),recentBlockhash:zt.decode(this.recentBlockhash)};let u=ue.Buffer.alloc(2048);const f=a.encode(c,u);return o.copy(u,f),u.slice(0,f+o.length)}static from(e){let t=[...e];const n=Sn(t);if(n!==(n&cl))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Sn(t),o=Sn(t),s=Ar(t);let a=[];for(let p=0;p<s;p++){const d=Sr(t,0,Bn);a.push(new Q(ue.Buffer.from(d)))}const c=Sr(t,0,Bn),u=Ar(t);let f=[];for(let p=0;p<u;p++){const d=Sn(t),x=Ar(t),b=Sr(t,0,x),E=Ar(t),A=Sr(t,0,E),g=zt.encode(ue.Buffer.from(A));f.push({programIdIndex:d,accounts:b,data:g})}const y={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:o},recentBlockhash:zt.encode(ue.Buffer.from(c)),accountKeys:a,instructions:f};return new mn(y)}}class uo{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Oa(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,o=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return i<o}else if(e>=this.header.numRequiredSignatures){const i=e-t,s=n-t-this.header.numReadonlyUnsignedAccounts;return i<s}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(o=>o.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const o of n.writableIndexes)if(o<i.state.addresses.length)t.writable.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`);for(const o of n.readonlyIndexes)if(o<i.state.addresses.length)t.readonly.push(i.state.addresses[o]);else throw new Error(`Failed to find address for index ${o} in address lookup table ${n.accountKey.toBase58()}`)}return t}static compile(e){const t=ul.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},o=e.addressLookupTableAccounts||[];for(const f of o){const y=t.extractTableLookup(f);if(y!==void 0){const[p,{writable:d,readonly:x}]=y;n.push(p),i.writable.push(...d),i.readonly.push(...x)}}const[s,a]=t.getMessageComponents(),u=new Oa(a,i).compileInstructions(e.instructions);return new uo({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){const e=Array();Mr(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Mr(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),o=Array();Mr(o,this.addressTableLookups.length);const s=he([Be("prefix"),he([Be("numRequiredSignatures"),Be("numReadonlySignedAccounts"),Be("numReadonlyUnsignedAccounts")],"header"),et(e.length,"staticAccountKeysLength"),Jt(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),et(n.length,"instructionsLength"),et(t.length,"serializedInstructions"),et(o.length,"addressTableLookupsLength"),et(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ii),u=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(f=>f.toBytes()),recentBlockhash:zt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(o),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ii);for(const n of this.compiledInstructions){const i=Array();Mr(i,n.accountKeyIndexes.length);const o=Array();Mr(o,n.data.length);const s=he([Be("programIdIndex"),et(i.length,"encodedAccountKeyIndexesLength"),Jt(Be(),n.accountKeyIndexes.length,"accountKeyIndexes"),et(o.length,"encodedDataLength"),et(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(o),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ii);for(const n of this.addressTableLookups){const i=Array();Mr(i,n.writableIndexes.length);const o=Array();Mr(o,n.readonlyIndexes.length);const s=he([Ce("accountKey"),et(i.length,"encodedWritableIndexesLength"),Jt(Be(),n.writableIndexes.length,"writableIndexes"),et(o.length,"encodedReadonlyIndexesLength"),Jt(Be(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(o),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Sn(t),i=n&cl;Me(n!==i,"Expected versioned message but received legacy message");const o=i;Me(o===0,`Expected versioned message with version 0 but found version ${o}`);const s={numRequiredSignatures:Sn(t),numReadonlySignedAccounts:Sn(t),numReadonlyUnsignedAccounts:Sn(t)},a=[],c=Ar(t);for(let x=0;x<c;x++)a.push(new Q(Sr(t,0,Bn)));const u=zt.encode(Sr(t,0,Bn)),f=Ar(t),y=[];for(let x=0;x<f;x++){const b=Sn(t),E=Ar(t),A=Sr(t,0,E),g=Ar(t),w=new Uint8Array(Sr(t,0,g));y.push({programIdIndex:b,accountKeyIndexes:A,data:w})}const p=Ar(t),d=[];for(let x=0;x<p;x++){const b=new Q(Sr(t,0,Bn)),E=Ar(t),A=Sr(t,0,E),g=Ar(t),w=Sr(t,0,g);d.push({accountKey:b,writableIndexes:A,readonlyIndexes:w})}return new uo({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:y,addressTableLookups:d})}}const cp={deserializeMessageVersion(r){const e=r[0],t=e&cl;return t===e?"legacy":t},deserialize:r=>{const e=cp.deserializeMessageVersion(r);if(e==="legacy")return mn.from(r);if(e===0)return uo.deserialize(r);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Un=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const _R=ue.Buffer.alloc(Ta).fill(0);class Ve{constructor(e){this.keys=void 0,this.programId=void 0,this.data=ue.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Fe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ve(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<t.length;b++)if(t[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);const i=[],o=[];t.forEach(b=>{b.keys.forEach(A=>{o.push({...A})});const E=b.programId.toString();i.includes(E)||i.push(E)}),i.forEach(b=>{o.push({pubkey:new Q(b),isSigner:!1,isWritable:!1})});const s=[];o.forEach(b=>{const E=b.pubkey.toString(),A=s.findIndex(g=>g.pubkey.toString()===E);A>-1?(s[A].isWritable=s[A].isWritable||b.isWritable,s[A].isSigner=s[A].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,E){if(b.isSigner!==E.isSigner)return b.isSigner?-1:1;if(b.isWritable!==E.isWritable)return b.isWritable?-1:1;const A={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return b.pubkey.toBase58().localeCompare(E.pubkey.toBase58(),"en",A)});const a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){const[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const b of this.signatures){const E=s.findIndex(A=>A.pubkey.equals(b.publicKey));if(E>-1)s[E].isSigner||(s[E].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let c=0,u=0,f=0;const y=[],p=[];s.forEach(({pubkey:b,isSigner:E,isWritable:A})=>{E?(y.push(b.toString()),c+=1,A||(u+=1)):(p.push(b.toString()),A||(f+=1))});const d=y.concat(p),x=t.map(b=>{const{data:E,programId:A}=b;return{programIdIndex:d.indexOf(A.toString()),accounts:b.keys.map(g=>d.indexOf(g.pubkey.toString())),data:zt.encode(E)}});return x.forEach(b=>{Me(b.programIdIndex>=0),b.accounts.forEach(E=>Me(E>=0))}),new mn({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:f},accountKeys:d,recentBlockhash:e,instructions:x})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,o)=>t[o].equals(i.publicKey))||(this.signatures=t.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(n=>{const i=n.toString();return t.has(i)?!1:(t.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const o of e){const s=o.publicKey.toString();t.has(s)||(t.add(s),n.push(o))}this.signatures=n.map(o=>({signature:null,publicKey:o.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,n=[];for(const o of e){const s=o.publicKey.toString();t.has(s)||(t.add(s),n.push(o))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(i=>{const o=ip(n,i.secretKey);this._addSignature(i.publicKey,Re(o))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Me(t.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=ue.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:i,publicKey:o}of this.signatures)i===null?t&&(n.missing||(n.missing=[])).push(o):fR(i,e,o.toBytes())||(n.invalid||(n.invalid=[])).push(o);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const o=this._getMessageSignednessErrors(i,t);if(o){let s="Signature verification failed.";throw o.invalid&&(s+=`
Invalid signature for public key${o.invalid.length===1?"":"(s)"} [\`${o.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),o.missing&&(s+=`
Missing signature for public key${o.missing.length===1?"":"(s)"} [\`${o.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(s)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,n=[];Mr(n,t.length);const i=n.length+t.length*64+e.length,o=ue.Buffer.alloc(i);return Me(t.length<256),ue.Buffer.from(n).copy(o,0),t.forEach(({signature:s},a)=>{s!==null&&(Me(s.length===64,"signature has invalid length"),ue.Buffer.from(s).copy(o,n.length+a*64))}),e.copy(o,n.length+t.length*64),Me(o.length<=Ii,`Transaction too large: ${o.length} > ${Ii}`),o}get keys(){return Me(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Me(this.instructions.length===1),this.instructions[0].programId}get data(){return Me(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const n=Ar(t);let i=[];for(let o=0;o<n;o++){const s=Sr(t,0,Ta);i.push(zt.encode(ue.Buffer.from(s)))}return Fe.populate(mn.from(t),i)}static populate(e,t=[]){const n=new Fe;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((i,o)=>{const s={signature:i==zt.encode(_R)?null:zt.decode(i),publicKey:e.accountKeys[o]};n.signatures.push(s)}),e.instructions.forEach(i=>{const o=i.accounts.map(s=>{const a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new Ve({keys:o,programId:e.accountKeys[i.programIdIndex],data:zt.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class up{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:i,recentBlockhash:o}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,u=s-a;Me(u>0,"Message header is invalid");const f=e.staticAccountKeys.length-s-c;Me(f>=0,"Message header is invalid");const y=e.getAccountKeys(t),p=y.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");const d=[];for(const x of i){const b=[];for(const A of x.accountKeyIndexes){const g=y.get(A);if(g===void 0)throw new Error(`Failed to find key for account key index ${A}`);const w=A<s;let k;w?k=A<u:A<y.staticAccountKeys.length?k=A-s<f:k=A-y.staticAccountKeys.length<y.accountKeysFromLookups.writable.length,b.push({pubkey:g,isSigner:A<n.numRequiredSignatures,isWritable:k})}const E=y.get(x.programIdIndex);if(E===void 0)throw new Error(`Failed to find program id for program id index ${x.programIdIndex}`);d.push(new Ve({programId:E,data:Re(x.data),keys:b}))}return new up({payerKey:p,instructions:d,recentBlockhash:o})}compileToLegacyMessage(){return mn.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return uo.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class lp{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Me(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Ta));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Mr(t,this.signatures.length);const n=he([et(t.length,"encodedSignaturesLength"),Jt(yR(),this.signatures.length,"signatures"),et(e.length,"serializedMessage")]),i=new Uint8Array(2048),o=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,o)}static deserialize(e){let t=[...e];const n=[],i=Ar(t);for(let s=0;s<i;s++)n.push(new Uint8Array(Sr(t,0,Ta)));const o=cp.deserialize(new Uint8Array(t));return new lp(o,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const o=n.findIndex(s=>s.equals(i.publicKey));Me(o>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[o]=ip(t,i.secretKey)}}addSignature(e,t){Me(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(o=>o.equals(e));Me(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const ER=160,bR=64,AR=ER/bR,Bw=1e3/AR,En=new Q("SysvarC1ock11111111111111111111111111111111"),SR=new Q("SysvarEpochSchedu1e111111111111111111111111"),RR=new Q("Sysvar1nstructions1111111111111111111111111"),Wc=new Q("SysvarRecentB1ockHashes11111111111111111111"),ys=new Q("SysvarRent111111111111111111111111111111111"),kR=new Q("SysvarRewards111111111111111111111111111111"),CR=new Q("SysvarS1otHashes111111111111111111111111111"),IR=new Q("SysvarS1otHistory11111111111111111111111111"),Kc=new Q("SysvarStakeHistory1111111111111111111111111");class Di extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:i}){const o=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${n}. `+o+s;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+o+s;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const o=i.meta.logMessages;this.transactionLogs=o,t(o)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const BR={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class pe extends Error{constructor({code:e,message:t,data:n},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function Rd(r,e,t,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await r.sendTransaction(e,t,i);let s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:o,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await r.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await r.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw o!=null?new Di({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`}):new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function Vi(r){return new Promise(e=>setTimeout(e,r))}function Ne(r,e){const t=r.layout.span>=0?r.layout.span:Cw(r,e),n=ue.Buffer.alloc(t),i=Object.assign({instruction:r.index},e);return r.layout.encode(i,n),n}function ze(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.instruction!==r.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${r.index}`);return t}const Tw=Zt("lamportsPerSignature"),Ow=he([de("version"),de("state"),Ce("authorizedPubkey"),Ce("nonce"),he([Tw],"feeCalculator")]),kd=Ow.span;class ll{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Ow.decode(Re(e),0);return new ll({authorizedPubkey:new Q(t.authorizedPubkey),nonce:new Q(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function gs(r){const e=et(8,r),t=e.decode.bind(e),n=e.encode.bind(e),i=e,o=n4();return i.decode=(s,a)=>{const c=t(s,a);return o.decode(c)},i.encode=(s,a,c)=>{const u=o.encode(s);return n(u,a,c)},i}class TR{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(ot))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:i}=ze(ot.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Q(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ze(ot.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:i}=ze(ot.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Q(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ze(ot.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:i,programId:o}=ze(ot.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(t),seed:n,space:i,programId:new Q(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ze(ot.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Q(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:i}=ze(ot.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Q(t),seed:n,programId:new Q(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:i,space:o,programId:s}=ze(ot.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Q(t),seed:n,lamports:i,space:o,programId:new Q(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ze(ot.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Q(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ze(ot.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ze(ot.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ze(ot.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Q(t)}}static checkProgramId(e){if(!e.equals(tt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ot=Object.freeze({Create:{index:0,layout:he([de("instruction"),Fr("lamports"),Fr("space"),Ce("programId")])},Assign:{index:1,layout:he([de("instruction"),Ce("programId")])},Transfer:{index:2,layout:he([de("instruction"),gs("lamports")])},CreateWithSeed:{index:3,layout:he([de("instruction"),Ce("base"),Qi("seed"),Fr("lamports"),Fr("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:he([de("instruction")])},WithdrawNonceAccount:{index:5,layout:he([de("instruction"),Fr("lamports")])},InitializeNonceAccount:{index:6,layout:he([de("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:he([de("instruction"),Ce("authorized")])},Allocate:{index:8,layout:he([de("instruction"),Fr("space")])},AllocateWithSeed:{index:9,layout:he([de("instruction"),Ce("base"),Qi("seed"),Fr("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:he([de("instruction"),Ce("base"),Qi("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:he([de("instruction"),gs("lamports"),Qi("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:he([de("instruction")])}});class tt{constructor(){}static createAccount(e){const t=ot.Create,n=Ne(t,{lamports:e.lamports,space:e.space,programId:Re(e.programId.toBuffer())});return new Ve({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let t,n;if("basePubkey"in e){const i=ot.TransferWithSeed;t=Ne(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Re(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=ot.Transfer;t=Ne(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ve({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){const i=ot.AssignWithSeed;t=Ne(i,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,programId:Re(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ot.Assign;t=Ne(i,{programId:Re(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ve({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=ot.CreateWithSeed,n=Ne(t,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Re(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ve({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const t=new Fe;"basePubkey"in e&&"seed"in e?t.add(tt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:kd,programId:this.programId})):t.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:kd,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=ot.InitializeNonceAccount,n=Ne(t,{authorized:Re(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wc,isSigner:!1,isWritable:!1},{pubkey:ys,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Ve(i)}static nonceAdvance(e){const t=ot.AdvanceNonceAccount,n=Ne(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Wc,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Ve(i)}static nonceWithdraw(e){const t=ot.WithdrawNonceAccount,n=Ne(t,{lamports:e.lamports});return new Ve({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Wc,isSigner:!1,isWritable:!1},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const t=ot.AuthorizeNonceAccount,n=Ne(t,{authorized:Re(e.newAuthorizedPubkey.toBuffer())});return new Ve({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let t,n;if("basePubkey"in e){const i=ot.AllocateWithSeed;t=Ne(i,{base:Re(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Re(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=ot.Allocate;t=Ne(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ve({keys:n,programId:this.programId,data:t})}}tt.programId=new Q("11111111111111111111111111111111");const OR=Ii-300;class lo{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/lo.chunkSize)+1+1)}static async load(e,t,n,i,o){{const y=await e.getMinimumBalanceForRentExemption(o.length),p=await e.getAccountInfo(n.publicKey,"confirmed");let d=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==o.length&&(d=d||new Fe,d.add(tt.allocate({accountPubkey:n.publicKey,space:o.length}))),p.owner.equals(i)||(d=d||new Fe,d.add(tt.assign({accountPubkey:n.publicKey,programId:i}))),p.lamports<y&&(d=d||new Fe,d.add(tt.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:y-p.lamports})))}else d=new Fe().add(tt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:y>0?y:1,space:o.length,programId:i}));d!==null&&await Rd(e,d,[t,n],{commitment:"confirmed"})}const s=he([de("instruction"),de("offset"),de("bytesLength"),de("bytesLengthPadding"),Jt(Be("byte"),Ci(de(),-8),"bytes")]),a=lo.chunkSize;let c=0,u=o,f=[];for(;u.length>0;){const y=u.slice(0,a),p=ue.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:y,bytesLength:0,bytesLengthPadding:0},p);const d=new Fe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:p});f.push(Rd(e,d,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Vi(1e3/4),c+=a,u=u.slice(a)}await Promise.all(f);{const y=he([de("instruction")]),p=ue.Buffer.alloc(y.span);y.encode({instruction:1},p);const d=new Fe().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1}],programId:i,data:p}),x="processed",b=await e.sendTransaction(d,[t,n],{preflightCommitment:x}),{context:E,value:A}=await e.confirmTransaction({signature:b,lastValidBlockHeight:d.lastValidBlockHeight,blockhash:d.recentBlockhash},x);if(A.err)throw new Error(`Transaction ${b} failed (${JSON.stringify(A)})`);for(;;){try{if(await e.getSlot({commitment:x})>E.slot)break}catch{}await new Promise(g=>setTimeout(g,Math.round(Bw/2)))}}return!0}}lo.chunkSize=OR;const NR=new Q("BPFLoader2111111111111111111111111111111111");class DR{static getMinNumSignatures(e){return lo.getMinNumSignatures(e)}static load(e,t,n,i,o){return lo.load(e,t,n,o,i)}}function PR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var I0,dm;function LR(){if(dm)return I0;dm=1;var r=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var o in n)i.push(o);return i};function t(n,i){var o,s,a,c,u,f,y;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return t(n.toJSON(),i);if(y=r.call(n),y==="[object Array]"){for(a="[",s=n.length-1,o=0;o<s;o++)a+=t(n[o],!0)+",";return s>-1&&(a+=t(n[o],!0)),a+"]"}else if(y==="[object Object]"){for(c=e(n).sort(),s=c.length,a="",o=0;o<s;)u=c[o],f=t(n[u],!1),f!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+f),o++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return I0=function(n){var i=t(n,!1);if(i!==void 0)return""+i},I0}var FR=LR(),hm=PR(FR);const $s=32;function B0(r){let e=0;for(;r>1;)r/=2,e++;return e}function MR(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class Nw{constructor(e,t,n,i,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=B0(MR(e+$s+1))-B0($s)-1,n=this.getSlotsInEpoch(t),i=e-(n-$s);return[t,i]}else{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+n,o=t%this.slotsPerEpoch;return[i,o]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*$s:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+B0($s)):this.slotsPerEpoch}}var UR=globalThis.fetch;class zR extends H4{constructor(e,t,n){const i=o=>{const s=U4(o,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(i,e,t,n),this.underlyingSocket=void 0}call(...e){var n;const t=(n=this.underlyingSocket)==null?void 0:n.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var n;const t=(n=this.underlyingSocket)==null?void 0:n.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function HR(r,e){let t;try{t=r.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(t.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${r.index}`);return t}const pm=56;class Cd{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=HR(jR,e),n=e.length-pm;Me(n>=0,"lookup table is invalid"),Me(n%32===0,"lookup table is invalid");const i=n/32,{addresses:o}=he([Jt(Ce(),i,"addresses")]).decode(e.slice(pm));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Q(t.authority[0]):void 0,addresses:o.map(s=>new Q(s))}}}const jR={index:1,layout:he([de("typeIndex"),gs("deactivationSlot"),Zt("lastExtendedSlot"),Be("lastExtendedStartIndex"),Be(),Jt(Ce(),Ci(Be(),-1),"authority")])},$R=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function WR(r){const e=r.match($R);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[t,n,i,o]=e,s=r.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${o}`}const vt=Ka(ep(Q),ne(),r=>new Q(r)),Dw=tp([ne(),yt("base64")]),fp=Ka(ep(ue.Buffer),Dw,r=>ue.Buffer.from(r[0],"base64")),Pw=30*1e3;function KR(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function it(r){let e,t;if(typeof r=="string")e=r;else if(r){const{commitment:n,...i}=r;e=n,t=i}return{commitment:e,config:t}}function mm(r){return r.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Lw(r){return wr([ee({jsonrpc:yt("2.0"),id:ne(),result:r}),ee({jsonrpc:yt("2.0"),id:ne(),error:ee({code:Rs(),message:ne(),data:me(u4())})})])}const VR=Lw(Rs());function Se(r){return Ka(Lw(r),VR,e=>"error"in e?e:{...e,result:ie(e.result,r)})}function Bt(r){return Se(ee({context:ee({slot:G()}),value:r}))}function fl(r){return ee({context:ee({slot:G()}),value:r})}function T0(r,e){return r===0?new uo({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Q(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:zt.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new mn(e)}const qR=ee({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),GR=Se(ae(ce(ee({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:me(ce(G()))})))),YR=ae(ee({slot:G(),prioritizationFee:G()})),ZR=ee({total:G(),validator:G(),foundation:G(),epoch:G()}),XR=ee({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:me(G()),transactionCount:me(G())}),QR=ee({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:Tn(),firstNormalEpoch:G(),firstNormalSlot:G()}),JR=lw(ne(),ae(G())),xo=ce(wr([ee({}),ne()])),ek=ee({err:xo}),tk=yt("receivedSignature"),rk=ee({"solana-core":ne(),"feature-set":me(G())}),nk=ee({program:ne(),programId:vt,parsed:Rs()}),ik=ee({programId:vt,accounts:ae(vt),data:ne()}),ym=Bt(ee({err:ce(wr([ee({}),ne()])),logs:ce(ae(ne())),accounts:me(ce(ae(ce(ee({executable:Tn(),owner:ne(),lamports:G(),data:ae(ne()),rentEpoch:me(G())}))))),unitsConsumed:me(G()),returnData:me(ce(ee({programId:ne(),data:tp([ne(),yt("base64")])}))),innerInstructions:me(ce(ae(ee({index:G(),instructions:ae(wr([nk,ik]))}))))})),ok=Bt(ee({byIdentity:lw(ne(),ae(G())),range:ee({firstSlot:G(),lastSlot:G()})}));function sk(r,e,t,n,i,o){const s=t||UR;let a;o!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(f,y)=>{const p=await new Promise((d,x)=>{try{n(f,y,(b,E)=>d([b,E]))}catch(b){x(b)}});return await s(...p)}),new L4(async(f,y)=>{const p={method:"POST",body:f,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},s6)};try{let d=5,x,b=500;for(;c?x=await c(r,p):x=await s(r,p),!(x.status!==429||i===!0||(d-=1,d===0));)console.error(`Server responded with ${x.status} ${x.statusText}.  Retrying after ${b}ms delay...`),await Vi(b),b*=2;const E=await x.text();x.ok?y(null,E):y(new Error(`${x.status} ${x.statusText}: ${E}`))}catch(d){d instanceof Error&&y(d)}},{})}function ak(r){return(e,t)=>new Promise((n,i)=>{r.request(e,t,(o,s)=>{if(o){i(o);return}n(s)})})}function ck(r){return e=>new Promise((t,n)=>{e.length===0&&t([]);const i=e.map(o=>r.request(o.methodName,o.args));r.request(i,(o,s)=>{if(o){n(o);return}t(s)})})}const uk=Se(qR),lk=Se(ZR),fk=Se(YR),dk=Se(XR),hk=Se(QR),pk=Se(JR),mk=Se(G()),yk=Bt(ee({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:ae(vt)})),Id=ee({amount:ne(),uiAmount:ce(G()),decimals:G(),uiAmountString:me(ne())}),gk=Bt(ae(ee({address:vt,amount:ne(),uiAmount:ce(G()),decimals:G(),uiAmountString:me(ne())}))),xk=Bt(ae(ee({pubkey:vt,account:ee({executable:Tn(),owner:vt,lamports:G(),data:fp,rentEpoch:G()})}))),Bd=ee({program:ne(),parsed:Rs(),space:G()}),vk=Bt(ae(ee({pubkey:vt,account:ee({executable:Tn(),owner:vt,lamports:G(),data:Bd,rentEpoch:G()})}))),wk=Bt(ae(ee({lamports:G(),address:vt}))),Na=ee({executable:Tn(),owner:vt,lamports:G(),data:fp,rentEpoch:G()}),_k=ee({pubkey:vt,account:Na}),Ek=Ka(wr([ep(ue.Buffer),Bd]),wr([Dw,Bd]),r=>Array.isArray(r)?ie(r,fp):r),Td=ee({executable:Tn(),owner:vt,lamports:G(),data:Ek,rentEpoch:G()}),bk=ee({pubkey:vt,account:Td}),Ak=ee({state:wr([yt("active"),yt("inactive"),yt("activating"),yt("deactivating")]),active:G(),inactive:G()}),Sk=Se(ae(ee({signature:ne(),slot:G(),err:xo,memo:ce(ne()),blockTime:me(ce(G()))}))),Rk=Se(ae(ee({signature:ne(),slot:G(),err:xo,memo:ce(ne()),blockTime:me(ce(G()))}))),kk=ee({subscription:G(),result:fl(Na)}),Ck=ee({pubkey:vt,account:Na}),Ik=ee({subscription:G(),result:fl(Ck)}),Bk=ee({parent:G(),slot:G(),root:G()}),Tk=ee({subscription:G(),result:Bk}),Ok=wr([ee({type:wr([yt("firstShredReceived"),yt("completed"),yt("optimisticConfirmation"),yt("root")]),slot:G(),timestamp:G()}),ee({type:yt("createdBank"),parent:G(),slot:G(),timestamp:G()}),ee({type:yt("frozen"),slot:G(),timestamp:G(),stats:ee({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),ee({type:yt("dead"),slot:G(),timestamp:G(),err:ne()})]),Nk=ee({subscription:G(),result:Ok}),Dk=ee({subscription:G(),result:fl(wr([ek,tk]))}),Pk=ee({subscription:G(),result:G()}),Lk=ee({pubkey:ne(),gossip:ce(ne()),tpu:ce(ne()),rpc:ce(ne()),version:ce(ne())}),gm=ee({votePubkey:ne(),nodePubkey:ne(),activatedStake:G(),epochVoteAccount:Tn(),epochCredits:ae(tp([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:ce(G())}),Fk=Se(ee({current:ae(gm),delinquent:ae(gm)})),Mk=wr([yt("processed"),yt("confirmed"),yt("finalized")]),Uk=ee({slot:G(),confirmations:ce(G()),err:xo,confirmationStatus:me(Mk)}),zk=Bt(ae(ce(Uk))),Hk=Se(G()),Fw=ee({accountKey:vt,writableIndexes:ae(G()),readonlyIndexes:ae(G())}),dp=ee({signatures:ae(ne()),message:ee({accountKeys:ae(ne()),header:ee({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:ae(ee({accounts:ae(G()),data:ne(),programIdIndex:G()})),recentBlockhash:ne(),addressTableLookups:me(ae(Fw))})}),Mw=ee({pubkey:vt,signer:Tn(),writable:Tn(),source:me(wr([yt("transaction"),yt("lookupTable")]))}),Uw=ee({accountKeys:ae(Mw),signatures:ae(ne())}),zw=ee({parsed:Rs(),program:ne(),programId:vt}),Hw=ee({accounts:ae(vt),data:ne(),programId:vt}),jk=wr([Hw,zw]),$k=wr([ee({parsed:Rs(),program:ne(),programId:ne()}),ee({accounts:ae(ne()),data:ne(),programId:ne()})]),jw=Ka(jk,$k,r=>"accounts"in r?ie(r,Hw):ie(r,zw)),$w=ee({signatures:ae(ne()),message:ee({accountKeys:ae(Mw),instructions:ae(jw),recentBlockhash:ne(),addressTableLookups:me(ce(ae(Fw)))})}),Cu=ee({accountIndex:G(),mint:ne(),owner:me(ne()),programId:me(ne()),uiTokenAmount:Id}),Ww=ee({writable:ae(vt),readonly:ae(vt)}),dl=ee({err:xo,fee:G(),innerInstructions:me(ce(ae(ee({index:G(),instructions:ae(ee({accounts:ae(G()),data:ne(),programIdIndex:G()}))})))),preBalances:ae(G()),postBalances:ae(G()),logMessages:me(ce(ae(ne()))),preTokenBalances:me(ce(ae(Cu))),postTokenBalances:me(ce(ae(Cu))),loadedAddresses:me(Ww),computeUnitsConsumed:me(G())}),hp=ee({err:xo,fee:G(),innerInstructions:me(ce(ae(ee({index:G(),instructions:ae(jw)})))),preBalances:ae(G()),postBalances:ae(G()),logMessages:me(ce(ae(ne()))),preTokenBalances:me(ce(ae(Cu))),postTokenBalances:me(ce(ae(Cu))),loadedAddresses:me(Ww),computeUnitsConsumed:me(G())}),ks=wr([yt(0),yt("legacy")]),vo=ee({pubkey:ne(),lamports:G(),postBalance:ce(G()),rewardType:ce(ne()),commission:me(ce(G()))}),Wk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ae(ee({transaction:dp,meta:ce(dl),version:me(ks)})),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),Kk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),Vk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ae(ee({transaction:Uw,meta:ce(dl),version:me(ks)})),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),qk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ae(ee({transaction:$w,meta:ce(hp),version:me(ks)})),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),Gk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ae(ee({transaction:Uw,meta:ce(hp),version:me(ks)})),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),Yk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),rewards:me(ae(vo)),blockTime:ce(G()),blockHeight:ce(G())}))),Zk=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),transactions:ae(ee({transaction:dp,meta:ce(dl)})),rewards:me(ae(vo)),blockTime:ce(G())}))),xm=Se(ce(ee({blockhash:ne(),previousBlockhash:ne(),parentSlot:G(),signatures:ae(ne()),blockTime:ce(G())}))),O0=Se(ce(ee({slot:G(),meta:ce(dl),blockTime:me(ce(G())),transaction:dp,version:me(ks)}))),Ac=Se(ce(ee({slot:G(),transaction:$w,meta:ce(hp),blockTime:me(ce(G())),version:me(ks)}))),Xk=Bt(ee({blockhash:ne(),lastValidBlockHeight:G()})),Qk=Bt(Tn()),Jk=ee({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}),e6=Se(ae(Jk)),t6=Bt(ce(ee({feeCalculator:ee({lamportsPerSignature:G()})}))),r6=Se(ne()),n6=Se(ne()),i6=ee({err:xo,logs:ae(ne()),signature:ne()}),o6=ee({result:fl(i6),subscription:G()}),s6={"solana-client":"js/1.0.0-maintenance"};class Od{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async f=>{const{commitment:y,config:p}=it(f),d=this._buildArgs([],y,void 0,p),x=hm(d);return u[x]=u[x]??(async()=>{try{const b=await this._rpcRequest("getBlockHeight",d),E=ie(b,Se(G()));if("error"in E)throw new pe(E.error,"failed to get block height information");return E.result}finally{delete u[x]}})(),await u[x]}})();let n,i,o,s,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,o=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=KR(e),this._rpcWsEndpoint=n||WR(e),this._rpcClient=sk(e,i,o,s,a,c),this._rpcRequest=ak(this._rpcClient),this._rpcBatchRequest=ck(this._rpcClient),this._rpcWebSocket=new zR(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgs([e.toBase58()],n,void 0,i),s=await this._rpcRequest("getBalance",o),a=ie(s,Bt(G()));if("error"in a)throw new pe(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=ie(t,Se(ce(G())));if("error"in n)throw new pe(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ie(e,Se(G()));if("error"in t)throw new pe(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ie(e,mk);if("error"in t)throw new pe(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),i=ie(n,yk);if("error"in i)throw new pe(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",n),o=ie(i,Bt(Id));if("error"in o)throw new pe(o.error,"failed to get token supply");return o.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",n),o=ie(i,Bt(Id));if("error"in o)throw new pe(o.error,"failed to get token account balance");return o.result}async getTokenAccountsByOwner(e,t,n){const{commitment:i,config:o}=it(n);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const a=this._buildArgs(s,i,"base64",o),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ie(c,xk);if("error"in u)throw new pe(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,n){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const o=this._buildArgs(i,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",o),a=ie(s,vk);if("error"in a)throw new pe(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",n),o=ie(i,wk);if("error"in o)throw new pe(o.error,"failed to get largest accounts");return o.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",n),o=ie(i,gk);if("error"in o)throw new pe(o.error,"failed to get token largest accounts");return o.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgs([e.toBase58()],n,"base64",i),s=await this._rpcRequest("getAccountInfo",o),a=ie(s,Bt(ce(Na)));if("error"in a)throw new pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getAccountInfo",o),a=ie(s,Bt(ce(Td)));if("error"in a)throw new pe(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:i}=it(t),o=e.map(u=>u.toBase58()),s=this._buildArgs([o],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",s),c=ie(a,Bt(ae(ce(Td))));if("error"in c)throw new pe(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:i}=it(t),o=e.map(u=>u.toBase58()),s=this._buildArgs([o],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",s),c=ie(a,Bt(ae(ce(Na))));if("error"in c)throw new pe(c.error,`failed to get info for accounts ${o}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:i,config:o}=it(t),s=this._buildArgs([e.toBase58()],i,void 0,{...o,epoch:n??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getStakeActivation",s),c=ie(a,Se(Ak));if("error"in c)throw new pe(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:n,config:i}=it(t),{encoding:o,...s}=i||{},a=this._buildArgs([e.toBase58()],n,o||"base64",{...s,...s.filters?{filters:mm(s.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=ae(_k),f=s.withContext===!0?ie(c,Bt(u)):ie(c,Se(u));if("error"in f)throw new pe(f.error,`failed to get accounts owned by program ${e.toBase58()}`);return f.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgs([e.toBase58()],n,"jsonParsed",i),s=await this._rpcRequest("getProgramAccounts",o),a=ie(s,Se(ae(bk)));if("error"in a)throw new pe(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var o;let n;if(typeof e=="string")n=e;else{const s=e;if((o=s.abortSignal)!=null&&o.aborted)return Promise.reject(s.abortSignal.reason);n=s.signature}let i;try{i=zt.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Me(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,i,o=!1;const s=new Promise((c,u)=>{try{n=this.onSignature(t,(y,p)=>{n=void 0;const d={context:p,value:y};c({__type:Un.PROCESSED,response:d})},e);const f=new Promise(y=>{n==null?y():i=this._onSubscriptionStateChange(n,p=>{p==="subscribed"&&y()})});(async()=>{if(await f,o)return;const y=await this.getSignatureStatus(t);if(o||y==null)return;const{context:p,value:d}=y;if(d!=null)if(d!=null&&d.err)u(d.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(d.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(d.confirmationStatus==="processed"||d.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}o=!0,c({__type:Un.PROCESSED,response:{context:p,value:d}})}})()}catch(f){u(f)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:i}}){let o=!1;const s=new Promise(y=>{const p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let d=await p();if(!o){for(;d<=n;)if(await Vi(1e3),o||(d=await p(),o))return;y({__type:Un.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let f;try{const y=await Promise.race([u,c,s]);if(y.__type===Un.PROCESSED)f=y.response;else throw new sp(i)}finally{o=!0,a()}return f}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:i,nonceValue:o,signature:s}}){let a=!1;const c=new Promise(d=>{let x=o,b=null;const E=async()=>{try{const{context:A,value:g}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return b=A.slot,g==null?void 0:g.nonce}catch{return x}};(async()=>{if(x=await E(),!a)for(;;){if(o!==x){d({__type:Un.NONCE_INVALID,slotInWhichNonceDidAdvance:b});return}if(await Vi(2e3),a||(x=await E(),a))return}})()}),{abortConfirmation:u,confirmationPromise:f}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),y=this.getCancellationPromise(t);let p;try{const d=await Promise.race([y,f,c]);if(d.__type===Un.PROCESSED)p=d.response;else{let x;for(;;){const b=await this.getSignatureStatus(s);if(b==null)break;if(b.context.slot<(d.slotInWhichNonceDidAdvance??n)){await Vi(400);continue}x=b;break}if(x!=null&&x.value){const b=e||"finalized",{confirmationStatus:E}=x.value;switch(b){case"processed":case"recent":if(E!=="processed"&&E!=="confirmed"&&E!=="finalized")throw new qo(s);break;case"confirmed":case"single":case"singleGossip":if(E!=="confirmed"&&E!=="finalized")throw new qo(s);break;case"finalized":case"max":case"root":if(E!=="finalized")throw new qo(s);break;default:}p={context:x.context,value:{err:x.value.err}}}else throw new qo(s)}}finally{a=!0,u()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Un.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([s,i]);if(c.__type===Un.PROCESSED)a=c.response;else throw new ap(t,c.timeoutMs/1e3)}finally{clearTimeout(n),o()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ie(e,Se(ae(Lk)));if("error"in t)throw new pe(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),i=ie(n,Fk);if("error"in i)throw new pe(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,void 0,n),o=await this._rpcRequest("getSlot",i),s=ie(o,Se(G()));if("error"in s)throw new pe(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,void 0,n),o=await this._rpcRequest("getSlotLeader",i),s=ie(o,Se(ne()));if("error"in s)throw new pe(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){const n=[e,t],i=await this._rpcRequest("getSlotLeaders",n),o=ie(i,Se(ae(vt)));if("error"in o)throw new pe(o.error,"failed to get slot leaders");return o.result}async getSignatureStatus(e,t){const{context:n,value:i}=await this.getSignatureStatuses([e],t);Me(i.length===1);const o=i[0];return{context:n,value:o}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const i=await this._rpcRequest("getSignatureStatuses",n),o=ie(i,zk);if("error"in o)throw new pe(o.error,"failed to get signature status");return o.result}async getTransactionCount(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,void 0,n),o=await this._rpcRequest("getTransactionCount",i),s=ie(o,Se(G()));if("error"in s)throw new pe(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),i=ie(n,uk);if("error"in i)throw new pe(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,n){const{commitment:i,config:o}=it(n),s=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...o,epoch:t??(o==null?void 0:o.epoch)}),a=await this._rpcRequest("getInflationReward",s),c=ie(a,GR);if("error"in c)throw new pe(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ie(e,lk);if("error"in t)throw new pe(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,void 0,n),o=await this._rpcRequest("getEpochInfo",i),s=ie(o,dk);if("error"in s)throw new pe(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ie(e,hk);if("error"in t)throw new pe(t.error,"failed to get epoch schedule");const n=t.result;return new Nw(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ie(e,pk);if("error"in t)throw new pe(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=ie(i,Hk);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=ie(t,e6);if("error"in n)throw new pe(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=ie(i,t6);if("error"in o)throw new pe(o.error,"failed to get fee calculator");const{context:s,value:a}=o.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const n=Re(e.serialize()).toString("base64"),i=this._buildArgs([n],t),o=await this._rpcRequest("getFeeForMessage",i),s=ie(o,Bt(ce(G())));if("error"in s)throw new pe(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){var s;const t=(s=e==null?void 0:e.lockedWritableAccounts)==null?void 0:s.map(a=>a.toBase58()),n=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),o=ie(i,fk);if("error"in o)throw new pe(o.error,"failed to get recent prioritization fees");return o.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,void 0,n),o=await this._rpcRequest("getLatestBlockhash",i),s=ie(o,Xk);if("error"in s)throw new pe(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgs([e],n,void 0,i),s=await this._rpcRequest("isBlockhashValid",o),a=ie(s,Qk);if("error"in a)throw new pe(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ie(e,Se(rk));if("error"in t)throw new pe(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ie(e,Se(ne()));if("error"in t)throw new pe(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ie(s,Vk);if("error"in a)throw a.error;return a.result}case"none":{const a=ie(s,Kk);if("error"in a)throw a.error;return a.result}default:{const a=ie(s,Wk);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:f,version:y})=>({meta:f,transaction:{...u,message:T0(y,u.message)},version:y}))}:null}}}catch(a){throw new pe(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getBlock",o);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=ie(s,Gk);if("error"in a)throw a.error;return a.result}case"none":{const a=ie(s,Yk);if("error"in a)throw a.error;return a.result}default:{const a=ie(s,qk);if("error"in a)throw a.error;return a.result}}}catch(a){throw new pe(a,"failed to get block")}}async getBlockProduction(e){let t,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...c}=e;n=a,t=c}const i=this._buildArgs([],n,"base64",t),o=await this._rpcRequest("getBlockProduction",i),s=ie(o,ok);if("error"in s)throw new pe(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgsAtLeastConfirmed([e],n,void 0,i),s=await this._rpcRequest("getTransaction",o),a=ie(s,O0);if("error"in a)throw new pe(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:T0(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:n,config:i}=it(t),o=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),s=await this._rpcRequest("getTransaction",o),a=ie(s,Ac);if("error"in a)throw new pe(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:n,config:i}=it(t),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(o)).map(c=>{const u=ie(c,Ac);if("error"in u)throw new pe(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:n,config:i}=it(t),o=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(o)).map(c=>{const u=ie(c,O0);if("error"in u)throw new pe(u.error,"failed to get transactions");const f=u.result;return f&&{...f,transaction:{...f.transaction,message:T0(f.version,f.transaction.message)}}})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getBlock",n),o=ie(i,Zk);if("error"in o)throw new pe(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");const a={...s,transactions:s.transactions.map(({transaction:c,meta:u})=>{const f=new mn(c.message);return{meta:u,transaction:{...c,message:f}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Fe.populate(c.message,c.signatures)}))}}async getBlocks(e,t,n){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],n),o=await this._rpcRequest("getBlocks",i),s=ie(o,Se(ae(G())));if("error"in s)throw new pe(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=ie(i,xm);if("error"in o)throw new pe(o.error,"failed to get block");const s=o.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),o=ie(i,xm);if("error"in o)throw new pe(o.error,"failed to get confirmed block");const s=o.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getTransaction",n),o=ie(i,O0);if("error"in o)throw new pe(o.error,"failed to get transaction");const s=o.result;if(!s)return s;const a=new mn(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:Fe.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getTransaction",n),o=ie(i,Ac);if("error"in o)throw new pe(o.error,"failed to get confirmed transaction");return o.result}async getParsedConfirmedTransactions(e,t){const n=e.map(s=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([s],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{const a=ie(s,Ac);if("error"in a)throw new pe(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,n){let i={},o=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<o));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>s));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),s=ie(o,Sk);if("error"in s)throw new pe(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",i),s=ie(o,Rk);if("error"in s)throw new pe(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){const{context:n,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=new Cd({key:e,state:Cd.deserialize(i.data)})),{context:n,value:o}}async getNonceAndContext(e,t){const{context:n,value:i}=await this.getAccountInfoAndContext(e,t);let o=null;return i!==null&&(o=ll.fromAccountData(i.data)),{context:n,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=ie(n,r6);if("error"in i)throw new pe(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Vi(100);const n=Date.now()-this._blockhashInfo.lastFetch>=Pw;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let i=0;i<50;i++){const o=await this.getLatestBlockhash("finalized");if(n!==o.blockhash)return this._blockhashInfo={latestBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;await Vi(Bw/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=it(e),i=this._buildArgs([],t,"base64",n),o=await this._rpcRequest("getStakeMinimumDelegation",i),s=ie(o,Bt(G()));if("error"in s)throw new pe(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,n){if("message"in e){const b=e.serialize(),E=ue.Buffer.from(b).toString("base64");if(Array.isArray(t)||n!==void 0)throw new Error("Invalid arguments");const A=t||{};A.encoding="base64","commitment"in A||(A.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(A.innerInstructions=t.innerInstructions);const g=[E,A],w=await this._rpcRequest("simulateTransaction",g),k=ie(w,ym);if("error"in k)throw new Error("failed to simulate transaction: "+k.error.message);return k.result}let i;if(e instanceof Fe){let x=e;i=new Fe,i.feePayer=x.feePayer,i.instructions=e.instructions,i.nonceInfo=x.nonceInfo,i.signatures=x.signatures}else i=Fe.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(i.nonceInfo&&o)i.sign(...o);else{let x=this._disableBlockhashCaching;for(;;){const b=await this._blockhashWithExpiryBlockHeight(x);if(i.lastValidBlockHeight=b.lastValidBlockHeight,i.recentBlockhash=b.blockhash,!o)break;if(i.sign(...o),!i.signature)throw new Error("!signature");const E=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(E)&&!this._blockhashInfo.transactionSignatures.includes(E)){this._blockhashInfo.simulatedSignatures.push(E);break}else x=!0}}const s=i._compile(),a=s.serialize(),u=i._serialize(a).toString("base64"),f={encoding:"base64",commitment:this.commitment};if(n){const x=(Array.isArray(n)?n:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:x}}o&&(f.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(f.innerInstructions=t.innerInstructions);const y=[u,f],p=await this._rpcRequest("simulateTransaction",y),d=ie(p,ym);if("error"in d){let x;if("data"in d.error&&(x=d.error.data.logs,x&&Array.isArray(x))){const b=`
    `,E=b+x.join(b);console.error(d.error.message,E)}throw new Di({action:"simulate",signature:"",transactionMessage:d.error.message,logs:x})}return d.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const s=e.serialize();return await this.sendRawTransaction(s,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let s=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const o=e.serialize();return await this.sendRawTransaction(o,n)}async sendRawTransaction(e,t){const n=Re(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},i=t&&t.skipPreflight,o=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(n.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(n.minContextSlot=t.minContextSlot),i&&(n.skipPreflight=i),o&&(n.preflightCommitment=o);const s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=ie(a,n6);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Di({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,n])=>{this._setSubscription(t,{...n,state:"pending"})})}_setSubscription(e,t){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(s=>{try{s(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var o;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(o=this._subscriptionStateChangeCallbacksByHash)[n]||(o[n]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:o,method:s}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(s,o);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:o,error:a}),!t())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:o,unsubscribeMethod:s}=i;if(this._subscriptionsAutoDisposedByRpc.has(o))this._subscriptionsAutoDisposedByRpc.delete(o);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[o])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!t())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...t)}catch(o){console.error(o)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=ie(e,kk);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,i=hm([e.method,t]),o=this._subscriptionsByHash[i];return o===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const s=this._subscriptionsByHash[i];Me(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:i,config:o}=it(n),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=ie(e,Ik);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,i){const{commitment:o,config:s}=it(n),a=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",s||(i?{filters:mm(i)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=ie(e,o6);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=ie(e,Tk);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=ie(e,Nk);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,i){const o=t||this._commitment;if(o||n||i){let s={};n&&(s.encoding=n),o&&(s.commitment=o),i&&(s=Object.assign(s,i)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,t,n,i){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,i)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=ie(e,Dk);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){t(s.result,a);try{this.removeSignatureListener(o)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return o}onSignatureWithOptions(e,t,n){const{commitment:i,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],i,void 0,o),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=ie(e,Pk);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class rs{constructor(e){this._keypair=void 0,this._keypair=e??um()}static generate(){return new rs(um())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),o=ku(i);for(let s=0;s<32;s++)if(n[s]!==o[s])throw new Error("provided secretKey is invalid")}return new rs({publicKey:n,secretKey:e})}static fromSeed(e){const t=ku(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new rs({publicKey:t,secretKey:n})}get publicKey(){return new Q(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Kn=Object.freeze({CreateLookupTable:{index:0,layout:he([de("instruction"),gs("recentSlot"),Be("bumpSeed")])},FreezeLookupTable:{index:1,layout:he([de("instruction")])},ExtendLookupTable:{index:2,layout:he([de("instruction"),gs(),Jt(Ce(),Ci(de(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:he([de("instruction")])},CloseLookupTable:{index:4,layout:he([de("instruction")])}});class a6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Kn))if(s.index==n){i=o;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ze(Kn.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ze(Kn.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(n=>new Q(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pp.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class pp{constructor(){}static createLookupTable(e){const[t,n]=Q.findProgramAddressSync([e.authority.toBuffer(),aw().encode(e.recentSlot)],this.programId),i=Kn.CreateLookupTable,o=Ne(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}];return[new Ve({programId:this.programId,keys:s,data:o}),t]}static freezeLookupTable(e){const t=Kn.FreezeLookupTable,n=Ne(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ve({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const t=Kn.ExtendLookupTable,n=Ne(t,{addresses:e.addresses.map(o=>o.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:tt.programId,isSigner:!1,isWritable:!1}),new Ve({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const t=Kn.DeactivateLookupTable,n=Ne(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ve({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const t=Kn.CloseLookupTable,n=Ne(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ve({programId:this.programId,keys:i,data:n})}}pp.programId=new Q("AddressLookupTab1e1111111111111111111111111");class c6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Be("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Rn))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=ze(Rn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ze(Rn.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ze(Rn.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ze(Rn.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(mp.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Rn=Object.freeze({RequestUnits:{index:0,layout:he([Be("instruction"),de("units"),de("additionalFee")])},RequestHeapFrame:{index:1,layout:he([Be("instruction"),de("bytes")])},SetComputeUnitLimit:{index:2,layout:he([Be("instruction"),de("units")])},SetComputeUnitPrice:{index:3,layout:he([Be("instruction"),gs("microLamports")])}});class mp{constructor(){}static requestUnits(e){const t=Rn.RequestUnits,n=Ne(t,e);return new Ve({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const t=Rn.RequestHeapFrame,n=Ne(t,e);return new Ve({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const t=Rn.SetComputeUnitLimit,n=Ne(t,e);return new Ve({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const t=Rn.SetComputeUnitPrice,n=Ne(t,{microLamports:BigInt(e.microLamports)});return new Ve({keys:[],programId:this.programId,data:n})}}mp.programId=new Q("ComputeBudget111111111111111111111111111111");const vm=64,wm=32,_m=64,Em=he([Be("numSignatures"),Be("padding"),qr("signatureOffset"),qr("signatureInstructionIndex"),qr("publicKeyOffset"),qr("publicKeyInstructionIndex"),qr("messageDataOffset"),qr("messageDataSize"),qr("messageInstructionIndex")]);class hl{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,instructionIndex:o}=e;Me(t.length===wm,`Public Key must be ${wm} bytes but received ${t.length} bytes`),Me(i.length===_m,`Signature must be ${_m} bytes but received ${i.length} bytes`);const s=Em.span,a=s+t.length,c=a+i.length,u=1,f=ue.Buffer.alloc(c+n.length),y=o??65535;return Em.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:y,publicKeyOffset:s,publicKeyInstructionIndex:y,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:y},f),f.fill(t,s),f.fill(i,a),f.fill(n,c),new Ve({keys:[],programId:hl.programId,data:f})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Me(t.length===vm,`Private key must be ${vm} bytes but received ${t.length} bytes`);try{const o=rs.fromSecretKey(t),s=o.publicKey.toBytes(),a=ip(n,o.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}hl.programId=new Q("Ed25519SigVerify111111111111111111111111111");const u6=(r,e)=>{const t=np.sign(r,e);return[t.toCompactRawBytes(),t.recovery]};np.utils.isValidPrivateKey;const l6=np.getPublicKey,bm=32,N0=20,Am=64,f6=11,D0=he([Be("numSignatures"),qr("signatureOffset"),Be("signatureInstructionIndex"),qr("ethAddressOffset"),Be("ethAddressInstructionIndex"),qr("messageDataOffset"),qr("messageDataSize"),Be("messageInstructionIndex"),et(20,"ethAddress"),et(64,"signature"),Be("recoveryId")]);class ns{constructor(){}static publicKeyToEthAddress(e){Me(e.length===Am,`Public key must be ${Am} bytes but received ${e.length} bytes`);try{return ue.Buffer.from(sm(Re(e))).slice(-N0)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:i,recoveryId:o,instructionIndex:s}=e;return ns.createInstructionWithEthAddress({ethAddress:ns.publicKeyToEthAddress(t),message:n,signature:i,recoveryId:o,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:i,recoveryId:o,instructionIndex:s=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=ue.Buffer.from(t.substr(2),"hex"):a=ue.Buffer.from(t,"hex"):a=t,Me(a.length===N0,`Address must be ${N0} bytes but received ${a.length} bytes`);const c=1+f6,u=c,f=c+a.length,y=f+i.length+1,p=1,d=ue.Buffer.alloc(D0.span+n.length);return D0.encode({numSignatures:p,signatureOffset:f,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:y,messageDataSize:n.length,messageInstructionIndex:s,signature:Re(i),ethAddress:Re(a),recoveryId:o},d),d.fill(Re(n),D0.span),new Ve({keys:[],programId:ns.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:i}=e;Me(t.length===bm,`Private key must be ${bm} bytes but received ${t.length} bytes`);try{const o=Re(t),s=l6(o,!1).slice(1),a=ue.Buffer.from(sm(Re(n))),[c,u]=u6(a,o);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:u,instructionIndex:i})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}ns.programId=new Q("KeccakSecp256k11111111111111111111111111111");var Kw;const Vw=new Q("StakeConfig11111111111111111111111111111111");class qw{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Va{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Kw=Va;Va.default=new Kw(0,0,Q.default);class d6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(Kt))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=ze(Kt.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new qw(new Q(t.staker),new Q(t.withdrawer)),lockup:new Va(n.unixTimestamp,n.epoch,new Q(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ze(Kt.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=ze(Kt.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:o}=ze(Kt.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Q(o),newAuthorizedPubkey:new Q(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ze(Kt.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ze(Kt.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ze(Kt.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ze(Kt.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(pl.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Kt=Object.freeze({Initialize:{index:0,layout:he([de("instruction"),gR(),xR()])},Authorize:{index:1,layout:he([de("instruction"),Ce("newAuthorized"),de("stakeAuthorizationType")])},Delegate:{index:2,layout:he([de("instruction")])},Split:{index:3,layout:he([de("instruction"),Fr("lamports")])},Withdraw:{index:4,layout:he([de("instruction"),Fr("lamports")])},Deactivate:{index:5,layout:he([de("instruction")])},Merge:{index:7,layout:he([de("instruction")])},AuthorizeWithSeed:{index:8,layout:he([de("instruction"),Ce("newAuthorized"),de("stakeAuthorizationType"),Qi("authoritySeed"),Ce("authorityOwner")])}}),h6=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class pl{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:i}=e,o=i||Va.default,s=Kt.Initialize,a=Ne(s,{authorized:{staker:Re(n.staker.toBuffer()),withdrawer:Re(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:Re(o.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ve(c)}static createAccountWithSeed(e){const t=new Fe;t.add(tt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static createAccount(e){const t=new Fe;t.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:o}=e;return t.add(this.initialize({stakePubkey:n,authorized:i,lockup:o}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:i}=e,o=Kt.Delegate,s=Ne(o);return new Fe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:Kc,isSigner:!1,isWritable:!1},{pubkey:Vw,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:o,custodianPubkey:s}=e,a=Kt.Authorize,c=Ne(a,{newAuthorized:Re(i.toBuffer()),stakeAuthorizationType:o.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new Fe().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:i,authorityOwner:o,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Kt.AuthorizeWithSeed,f=Ne(u,{newAuthorized:Re(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Re(o.toBuffer())}),y=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:En,isSigner:!1,isWritable:!1}];return c&&y.push({pubkey:c,isSigner:!0,isWritable:!1}),new Fe().add({keys:y,programId:this.programId,data:f})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:i,lamports:o}=e,s=Kt.Split,a=Ne(s,{lamports:o});return new Ve({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const n=new Fe;return n.add(tt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,basePubkey:s,seed:a,lamports:c}=e,u=new Fe;return u.add(tt.allocate({accountPubkey:o,basePubkey:s,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(tt.transfer({fromPubkey:e.authorizedPubkey,toPubkey:o,lamports:t})),u.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:o,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:i}=e,o=Kt.Merge,s=Ne(o);return new Fe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:Kc,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:i,lamports:o,custodianPubkey:s}=e,a=Kt.Withdraw,c=Ne(a,{lamports:o}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:Kc,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!0,isWritable:!1}),new Fe().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,i=Kt.Deactivate,o=Ne(i);return new Fe().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}}pl.programId=new Q("Stake11111111111111111111111111111111111111");pl.space=200;class Gw{constructor(e,t,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=i}}class p6{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=de("instruction").decode(e.data);let i;for(const[o,s]of Object.entries(kn))if(s.index==n){i=o;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ze(kn.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Gw(new Q(t.nodePubkey),new Q(t.authorizedVoter),new Q(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=ze(kn.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Q(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:o}}=ze(kn.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Q(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Q(i),voteAuthorizationType:{index:o},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ze(kn.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Cs.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const kn=Object.freeze({InitializeAccount:{index:0,layout:he([de("instruction"),vR()])},Authorize:{index:1,layout:he([de("instruction"),Ce("newAuthorized"),de("voteAuthorizationType")])},Withdraw:{index:3,layout:he([de("instruction"),Fr("lamports")])},UpdateValidatorIdentity:{index:4,layout:he([de("instruction")])},AuthorizeWithSeed:{index:10,layout:he([de("instruction"),wR()])}}),m6=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Cs{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:i}=e,o=kn.InitializeAccount,s=Ne(o,{voteInit:{nodePubkey:Re(i.nodePubkey.toBuffer()),authorizedVoter:Re(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Re(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ys,isSigner:!1,isWritable:!1},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new Ve(a)}static createAccount(e){const t=new Fe;return t.add(tt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:o}=e,s=kn.Authorize,a=Ne(s,{newAuthorized:Re(i.toBuffer()),voteAuthorizationType:o.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Fe().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:o,voteAuthorizationType:s,votePubkey:a}=e,c=kn.AuthorizeWithSeed,u=Ne(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Re(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Re(o.toBuffer()),voteAuthorizationType:s.index}}),f=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:En,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Fe().add({keys:f,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:o}=e,s=kn.Withdraw,a=Ne(s,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Fe().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Cs.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,o=kn.UpdateValidatorIdentity,s=Ne(o),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Fe().add({keys:a,programId:this.programId,data:s})}}Cs.programId=new Q("Vote111111111111111111111111111111111111111");Cs.space=3762;const Yw=new Q("Va1idator1nfo111111111111111111111111111111"),y6=ee({name:ne(),website:me(ne()),details:me(ne()),iconUrl:me(ne()),keybaseUsername:me(ne())});class yp{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Ar(t)!==2)return null;const i=[];for(let o=0;o<2;o++){const s=new Q(Sr(t,0,Bn)),a=Sn(t)===1;i.push({publicKey:s,isSigner:a})}if(i[0].publicKey.equals(Yw)&&i[1].isSigner){const o=Qi().decode(ue.Buffer.from(t)),s=JSON.parse(o);return cw(s,y6),new yp(i[1].publicKey,s)}return null}}const g6=new Q("Vote111111111111111111111111111111111111111"),x6=he([Ce("nodePubkey"),Ce("authorizedWithdrawer"),Be("commission"),Zt(),Jt(he([Zt("slot"),de("confirmationCount")]),Ci(de(),-8),"votes"),Be("rootSlotValid"),Zt("rootSlot"),Zt(),Jt(he([Zt("epoch"),Ce("authorizedVoter")]),Ci(de(),-8),"authorizedVoters"),he([Jt(he([Ce("authorizedPubkey"),Zt("epochOfLastAuthorizedSwitch"),Zt("targetEpoch")]),32,"buf"),Zt("idx"),Be("isEmpty")],"priorVoters"),Zt(),Jt(he([Zt("epoch"),Zt("credits"),Zt("prevCredits")]),Ci(de(),-8),"epochCredits"),he([Zt("slot"),Zt("timestamp")],"lastTimestamp")]);class gp{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=x6.decode(Re(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new gp({nodePubkey:new Q(n.nodePubkey),authorizedWithdrawer:new Q(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(v6),priorVoters:w6(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function v6({authorizedVoter:r,epoch:e}){return{epoch:e,authorizedVoter:new Q(r)}}function Sm({authorizedPubkey:r,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Q(r),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function w6({buf:r,idx:e,isEmpty:t}){return t?[]:[...r.slice(e+1).map(Sm),...r.slice(0,e).map(Sm)]}const Rm={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function _6(r,e){const t=e===!1?"http":"https";if(!r)return Rm[t].devnet;const n=Rm[t][r];if(!n)throw new Error(`Unknown ${t} cluster: ${r}`);return n}async function E6(r,e,t,n){let i,o;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,o=n):o=t;const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},a=await r.sendRawTransaction(e,s),c=o&&o.commitment,f=(await(i?r.confirmTransaction(i,c):r.confirmTransaction(a,c))).value;if(f.err)throw a!=null?new Di({action:s!=null&&s.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(f)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(f)})`);return a}const Vc=1e9,b6=Object.freeze(Object.defineProperty({__proto__:null,Account:pR,AddressLookupTableAccount:Cd,AddressLookupTableInstruction:a6,AddressLookupTableProgram:pp,Authorized:qw,BLOCKHASH_CACHE_TIMEOUT_MS:Pw,BPF_LOADER_DEPRECATED_PROGRAM_ID:mR,BPF_LOADER_PROGRAM_ID:NR,BpfLoader:DR,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Rn,ComputeBudgetInstruction:c6,ComputeBudgetProgram:mp,Connection:Od,Ed25519Program:hl,Enum:dR,EpochSchedule:Nw,FeeCalculatorLayout:Tw,Keypair:rs,LAMPORTS_PER_SOL:Vc,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Kn,Loader:lo,Lockup:Va,MAX_SEED_LENGTH:kw,Message:mn,MessageAccountKeys:Oa,MessageV0:uo,NONCE_ACCOUNT_LENGTH:kd,NonceAccount:ll,PACKET_DATA_SIZE:Ii,PUBLIC_KEY_LENGTH:Bn,PublicKey:Q,SIGNATURE_LENGTH_IN_BYTES:Ta,SOLANA_SCHEMA:aa,STAKE_CONFIG_ID:Vw,STAKE_INSTRUCTION_LAYOUTS:Kt,SYSTEM_INSTRUCTION_LAYOUTS:ot,SYSVAR_CLOCK_PUBKEY:En,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SR,SYSVAR_INSTRUCTIONS_PUBKEY:RR,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Wc,SYSVAR_RENT_PUBKEY:ys,SYSVAR_REWARDS_PUBKEY:kR,SYSVAR_SLOT_HASHES_PUBKEY:CR,SYSVAR_SLOT_HISTORY_PUBKEY:IR,SYSVAR_STAKE_HISTORY_PUBKEY:Kc,Secp256k1Program:ns,SendTransactionError:Di,SolanaJSONRPCError:pe,SolanaJSONRPCErrorCode:BR,StakeAuthorizationLayout:h6,StakeInstruction:d6,StakeProgram:pl,Struct:op,SystemInstruction:TR,SystemProgram:tt,Transaction:Fe,TransactionExpiredBlockheightExceededError:sp,TransactionExpiredNonceInvalidError:qo,TransactionExpiredTimeoutError:ap,TransactionInstruction:Ve,TransactionMessage:up,TransactionStatus:Un,VALIDATOR_INFO_KEY:Yw,VERSION_PREFIX_MASK:cl,VOTE_PROGRAM_ID:g6,ValidatorInfo:yp,VersionedMessage:cp,VersionedTransaction:lp,VoteAccount:gp,VoteAuthorizationLayout:m6,VoteInit:Gw,VoteInstruction:p6,VoteProgram:Cs,clusterApiUrl:_6,sendAndConfirmRawTransaction:E6,sendAndConfirmTransaction:Rd},Symbol.toStringTag,{value:"Module"}));var xp={exports:{}};const A6=/[\p{Lu}]/u,S6=/[\p{Ll}]/u,km=/^[\p{Lu}](?![\p{Lu}])/gu,Zw=/([\p{Alpha}\p{N}_]|$)/u,Xw=/[_.\- ]+/,R6=new RegExp("^"+Xw.source),Cm=new RegExp(Xw.source+Zw.source,"gu"),Im=new RegExp("\\d+"+Zw.source,"gu"),k6=(r,e,t)=>{let n=!1,i=!1,o=!1;for(let s=0;s<r.length;s++){const a=r[s];n&&A6.test(a)?(r=r.slice(0,s)+"-"+r.slice(s),n=!1,o=i,i=!0,s++):i&&o&&S6.test(a)?(r=r.slice(0,s-1)+"-"+r.slice(s-1),o=i,i=!1,n=!0):(n=e(a)===a&&t(a)!==a,o=i,i=t(a)===a&&e(a)!==a)}return r},C6=(r,e)=>(km.lastIndex=0,r.replace(km,t=>e(t))),I6=(r,e)=>(Cm.lastIndex=0,Im.lastIndex=0,r.replace(Cm,(t,n)=>e(n)).replace(Im,t=>e(t))),Qw=(r,e)=>{if(!(typeof r=="string"||Array.isArray(r)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(r)?r=r.map(o=>o.trim()).filter(o=>o.length).join("-"):r=r.trim(),r.length===0)return"";const t=e.locale===!1?o=>o.toLowerCase():o=>o.toLocaleLowerCase(e.locale),n=e.locale===!1?o=>o.toUpperCase():o=>o.toLocaleUpperCase(e.locale);return r.length===1?e.pascalCase?n(r):t(r):(r!==t(r)&&(r=k6(r,t,n)),r=r.replace(R6,""),e.preserveConsecutiveUppercase?r=C6(r,t):r=t(r),e.pascalCase&&(r=n(r.charAt(0))+r.slice(1)),I6(r,n))};xp.exports=Qw;xp.exports.default=Qw;var B6=xp.exports;const T6=ho(B6);var Ee={},le={};let Ye=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};le.Layout=Ye;function vp(r,e){return e.property?r+"["+e.property+"]":r}le.nameWithProperty=vp;function O6(r,e){if(typeof r!="function")throw new TypeError("Class must be constructor");if(r.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ye))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=e,e.boundConstructor_=r,e.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value:function(t,n){return e.encode(this,t,n)},writable:!0}),Object.defineProperty(r,"decode",{value:function(t,n){return e.decode(t,n)},writable:!0})}le.bindConstructorLayout=O6;let Cr=class extends Ye{isCount(){throw new Error("ExternalLayout is abstract")}};class Jw extends Cr{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}let wp=class extends Cr{constructor(e,t,n){if(!(e instanceof Ye))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Pn||this.layout instanceof ni}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return n===void 0&&(n=0),this.layout.encode(e,t,n+this.offset)}},Pn=class extends Ye{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntLE(e,n,this.span),this.span}},ni=class extends Ye{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntBE(e,n,this.span),this.span}};class wo extends Ye{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class Is extends Ye{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const Nd=Math.pow(2,32);function ml(r){const e=Math.floor(r/Nd),t=r-e*Nd;return{hi32:e,lo32:t}}function yl(r,e){return r*Nd+e}let N6=class extends Ye{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return yl(i,n)}encode(e,t,n){n===void 0&&(n=0);const i=ml(e);return t.writeUInt32LE(i.lo32,n),t.writeUInt32LE(i.hi32,n+4),8}};class D6 extends Ye{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32BE(t),i=e.readUInt32BE(t+4);return yl(n,i)}encode(e,t,n){n===void 0&&(n=0);const i=ml(e);return t.writeUInt32BE(i.hi32,n),t.writeUInt32BE(i.lo32,n+4),8}}let P6=class extends Ye{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),i=e.readInt32LE(t+4);return yl(i,n)}encode(e,t,n){n===void 0&&(n=0);const i=ml(e);return t.writeUInt32LE(i.lo32,n),t.writeInt32LE(i.hi32,n+4),8}};class L6 extends Ye{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readInt32BE(t),i=e.readUInt32BE(t+4);return yl(n,i)}encode(e,t,n){n===void 0&&(n=0);const i=ml(e);return t.writeInt32BE(i.hi32,n),t.writeUInt32BE(i.lo32,n+4),8}}class e_ extends Ye{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,n){return n===void 0&&(n=0),t.writeFloatLE(e,n),4}}class t_ extends Ye{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,n){return n===void 0&&(n=0),t.writeFloatBE(e,n),4}}class r_ extends Ye{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return n===void 0&&(n=0),t.writeDoubleLE(e,n),8}}class n_ extends Ye{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return n===void 0&&(n=0),t.writeDoubleBE(e,n),8}}class i_ extends Ye{constructor(e,t,n){if(!(e instanceof Ye))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Cr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Cr)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0,i=this.count;if(i instanceof Cr&&(i=i.decode(e,t)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let o=0;for(;o<i;)n+=this.elementLayout.getSpan(e,t+n),++o}return n}decode(e,t){t===void 0&&(t=0);const n=[];let i=0,o=this.count;for(o instanceof Cr&&(o=o.decode(e,t));i<o;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return n}encode(e,t,n){n===void 0&&(n=0);const i=this.elementLayout,o=e.reduce((s,a)=>s+i.encode(a,t,n+s),0);return this.count instanceof Cr&&this.count.encode(e.length,t,n),o}}let o_=class extends Ye{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Ye,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;try{n=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t){t===void 0&&(t=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){n===void 0&&(n=0);const i=n;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,t,n),0>c&&(c=a.getSpan(t,n)))}o=n,n+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}},_p=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Iu=class extends _p{constructor(e,t){if(!(e instanceof Cr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}},Ep=class extends Ye{constructor(e,t,n){const i=e instanceof Pn||e instanceof ni;if(i)e=new Iu(new wp(e));else if(e instanceof Cr&&e.isCount())e=new Iu(e);else if(!(e instanceof _p))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ye))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let n;const i=this.discriminator,o=i.decode(e,t);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,t+a)}else n=s.decode(e,t);return n}encode(e,t,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,n),a+s.encode(e[s.property],t,n+a)}return i.encode(e,t,n)}addVariant(e,t,n){const i=new s_(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}},s_=class extends Ye{constructor(e,t,n,i){if(!(e instanceof Ep))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ye))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),o+=this.layout.getSpan(t,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function No(r){return 0>r&&(r+=4294967296),r}class bp extends Ye{constructor(e,t,n){if(!(e instanceof Pn||e instanceof ni))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(o){return i=No(o),this},this._packedGetValue=function(){return i}}decode(e,t){const n=this.makeDestinationObject();t===void 0&&(t=0);const i=this.word.decode(e,t);this._packedSetValue(i);for(const o of this.fields)o.property!==void 0&&(n[o.property]=o.decode(i));return n}encode(e,t,n){n===void 0&&(n=0);const i=this.word.decode(t,n);this._packedSetValue(i);for(const o of this.fields)if(o.property!==void 0){const s=e[o.property];s!==void 0&&o.encode(s)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new ca(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new a_(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class ca{constructor(e,t,n){if(!(e instanceof bp))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,o=e.fields.reduce((s,a)=>s+a.bits,0);if(t+o>i)throw new Error("bits too long for span remainder ("+(i-o)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=i-o-t),this.wordMask=No(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return No(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==No(e&this.valueMask))throw new TypeError(vp("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=No(e<<this.start);this.container._packedSetValue(No(t&~this.wordMask)|n)}}let a_=class extends ca{constructor(e,t){super(e,1,t)}decode(e,t){return!!ca.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),ca.prototype.encode.call(this,e)}},c_=class extends Ye{constructor(e,t){if(!(e instanceof Cr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Cr||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){t===void 0&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof Cr&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(vp("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,i,"hex"),this.length instanceof Cr&&this.length.encode(i,t,n),i}};class u_ extends Ye{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let n=t;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-t}decode(e,t,n){t===void 0&&(t=0);let i=this.getSpan(e,t);return e.slice(t,t+i-1).toString("utf-8")}encode(e,t,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),t[n+o]=0,o+1}}class l_ extends Ye{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,n){t===void 0&&(t=0);let i=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+i).toString("utf-8")}encode(e,t,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(n+o>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,n),o}}class f_ extends Ye{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}le.ExternalLayout=Cr;le.GreedyCount=Jw;le.OffsetLayout=wp;le.UInt=Pn;le.UIntBE=ni;le.Int=wo;le.IntBE=Is;le.Float=e_;le.FloatBE=t_;le.Double=r_;le.DoubleBE=n_;le.Sequence=i_;le.Structure=o_;le.UnionDiscriminator=_p;le.UnionLayoutDiscriminator=Iu;le.Union=Ep;le.VariantLayout=s_;le.BitStructure=bp;le.BitField=ca;le.Boolean=a_;le.Blob=c_;le.CString=u_;le.UTF8=l_;le.Constant=f_;le.greedy=(r,e)=>new Jw(r,e);le.offset=(r,e,t)=>new wp(r,e,t);le.u8=r=>new Pn(1,r);le.u16=r=>new Pn(2,r);le.u24=r=>new Pn(3,r);le.u32=r=>new Pn(4,r);le.u40=r=>new Pn(5,r);le.u48=r=>new Pn(6,r);le.nu64=r=>new N6(r);le.u16be=r=>new ni(2,r);le.u24be=r=>new ni(3,r);le.u32be=r=>new ni(4,r);le.u40be=r=>new ni(5,r);le.u48be=r=>new ni(6,r);le.nu64be=r=>new D6(r);le.s8=r=>new wo(1,r);le.s16=r=>new wo(2,r);le.s24=r=>new wo(3,r);le.s32=r=>new wo(4,r);le.s40=r=>new wo(5,r);le.s48=r=>new wo(6,r);le.ns64=r=>new P6(r);le.s16be=r=>new Is(2,r);le.s24be=r=>new Is(3,r);le.s32be=r=>new Is(4,r);le.s40be=r=>new Is(5,r);le.s48be=r=>new Is(6,r);le.ns64be=r=>new L6(r);le.f32=r=>new e_(r);le.f32be=r=>new t_(r);le.f64=r=>new r_(r);le.f64be=r=>new n_(r);le.struct=(r,e,t)=>new o_(r,e,t);le.bits=(r,e,t)=>new bp(r,e,t);le.seq=(r,e,t)=>new i_(r,e,t);le.union=(r,e,t)=>new Ep(r,e,t);le.unionLayoutDiscriminator=(r,e)=>new Iu(r,e);le.blob=(r,e)=>new c_(r,e);le.cstr=r=>new u_(r);le.utf8=(r,e)=>new l_(r,e);le.const=(r,e)=>new f_(r,e);const F6=Nu(b6);(function(r){var e=ye&&ye.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(r,"__esModule",{value:!0}),r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0,r.u64=a,r.i64=c,r.u128=u,r.i128=f,r.u256=y,r.i256=p,r.publicKey=x,r.option=E,r.bool=A,r.vec=k,r.tagged=I,r.vecU8=F,r.str=L,r.rustEnum=z,r.array=H,r.map=P;const t=le,n=F6,i=e($h);var o=le;Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return o.struct}});class s extends t.Layout{constructor(S,l,h){super(S,h),this.blob=(0,t.blob)(S),this.signed=l}decode(S,l=0){const h=new i.default(this.blob.decode(S,l),10,"le");return this.signed?h.fromTwos(this.span*8).clone():h}encode(S,l,h=0){return this.signed&&(S=S.toTwos(this.span*8)),this.blob.encode(S.toArrayLike(Buffer,"le",this.span),l,h)}}function a(j){return new s(8,!1,j)}function c(j){return new s(8,!0,j)}function u(j){return new s(16,!1,j)}function f(j){return new s(16,!0,j)}function y(j){return new s(32,!1,j)}function p(j){return new s(32,!0,j)}class d extends t.Layout{constructor(S,l,h,R){super(S.span,R),this.layout=S,this.decoder=l,this.encoder=h}decode(S,l){return this.decoder(this.layout.decode(S,l))}encode(S,l,h){return this.layout.encode(this.encoder(S),l,h)}getSpan(S,l){return this.layout.getSpan(S,l)}}function x(j){return new d((0,t.blob)(32),S=>new n.PublicKey(S),S=>S.toBuffer(),j)}class b extends t.Layout{constructor(S,l){super(-1,l),this.layout=S,this.discriminator=(0,t.u8)()}encode(S,l,h=0){return S==null?this.discriminator.encode(0,l,h):(this.discriminator.encode(1,l,h),this.layout.encode(S,l,h+1)+1)}decode(S,l=0){const h=this.discriminator.decode(S,l);if(h===0)return null;if(h===1)return this.layout.decode(S,l+1);throw new Error("Invalid option "+this.property)}getSpan(S,l=0){const h=this.discriminator.decode(S,l);if(h===0)return 1;if(h===1)return this.layout.getSpan(S,l+1)+1;throw new Error("Invalid option "+this.property)}}function E(j,S){return new b(j,S)}function A(j){return new d((0,t.u8)(),g,w,j)}function g(j){if(j===0)return!1;if(j===1)return!0;throw new Error("Invalid bool: "+j)}function w(j){return j?1:0}function k(j,S){const l=(0,t.u32)("length"),h=(0,t.struct)([l,(0,t.seq)(j,(0,t.offset)(l,-l.span),"values")]);return new d(h,({values:R})=>R,R=>({values:R}),S)}function I(j,S,l){const h=(0,t.struct)([a("tag"),S.replicate("data")]);function R({tag:N,data:B}){if(!N.eq(j))throw new Error("Invalid tag, expected: "+j.toString("hex")+", got: "+N.toString("hex"));return B}return new d(h,R,N=>({tag:j,data:N}),l)}function F(j){const S=(0,t.u32)("length"),l=(0,t.struct)([S,(0,t.blob)((0,t.offset)(S,-S.span),"data")]);return new d(l,({data:h})=>h,h=>({data:h}),j)}function L(j){return new d(F(),S=>S.toString("utf-8"),S=>Buffer.from(S,"utf-8"),j)}function z(j,S,l){const h=(0,t.union)(l??(0,t.u8)(),S);return j.forEach((R,N)=>h.addVariant(N,R,R.property)),h}function H(j,S,l){const h=(0,t.struct)([(0,t.seq)(j,S,"values")]);return new d(h,({values:R})=>R,R=>({values:R}),l)}class D extends t.Layout{constructor(S,l,h){super(S.span+l.span,h),this.keyLayout=S,this.valueLayout=l}decode(S,l){l=l||0;const h=this.keyLayout.decode(S,l),R=this.valueLayout.decode(S,l+this.keyLayout.getSpan(S,l));return[h,R]}encode(S,l,h){h=h||0;const R=this.keyLayout.encode(S[0],l,h),N=this.valueLayout.encode(S[1],l,h+R);return R+N}getSpan(S,l){return this.keyLayout.getSpan(S,l)+this.valueLayout.getSpan(S,l)}}function P(j,S,l){const h=(0,t.u32)("length"),R=(0,t.struct)([h,(0,t.seq)(new D(j,S),(0,t.offset)(h,-h.span),"values")]);return new d(R,({values:N})=>new Map(N),N=>({values:Array.from(N.entries())}),l)}})(Ee);function Bs(r){let e=r.length;for(;--e>=0;)r[e]=0}const M6=3,U6=258,d_=29,z6=256,H6=z6+1+d_,h_=30,j6=512,$6=new Array((H6+2)*2);Bs($6);const W6=new Array(h_*2);Bs(W6);const K6=new Array(j6);Bs(K6);const V6=new Array(U6-M6+1);Bs(V6);const q6=new Array(d_);Bs(q6);const G6=new Array(h_);Bs(G6);const Y6=(r,e,t,n)=>{let i=r&65535|0,o=r>>>16&65535|0,s=0;for(;t!==0;){s=t>2e3?2e3:t,t-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var Dd=Y6;const Z6=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},X6=new Uint32Array(Z6()),Q6=(r,e,t,n)=>{const i=X6,o=n+t;r^=-1;for(let s=n;s<o;s++)r=r>>>8^i[(r^e[s])&255];return r^-1};var vn=Q6,Pd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},p_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const J6=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var e3=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)J6(t,n)&&(r[n]=t[n])}}return r},t3=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,o=r.length;n<o;n++){let s=r[n];t.set(s,i),i+=s.length}return t},m_={assign:e3,flattenChunks:t3};let y_=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{y_=!1}const Da=new Uint8Array(256);for(let r=0;r<256;r++)Da[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Da[254]=Da[254]=1;var r3=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,o,s=r.length,a=0;for(i=0;i<s;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<s&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const n3=(r,e)=>{if(e<65534&&r.subarray&&y_)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var i3=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const o=new Array(t*2);for(i=0,n=0;n<t;){let s=r[n++];if(s<128){o[i++]=s;continue}let a=Da[s];if(a>4){o[i++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<t;)s=s<<6|r[n++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return n3(o,i)},o3=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Da[r[t]]>e?t:e},Ld={string2buf:r3,buf2string:i3,utf8border:o3};function s3(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var a3=s3;const Sc=16209,c3=16191;var u3=function(e,t){let n,i,o,s,a,c,u,f,y,p,d,x,b,E,A,g,w,k,I,F,L,z,H,D;const P=e.state;n=e.next_in,H=e.input,i=n+(e.avail_in-5),o=e.next_out,D=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),c=P.dmax,u=P.wsize,f=P.whave,y=P.wnext,p=P.window,d=P.hold,x=P.bits,b=P.lencode,E=P.distcode,A=(1<<P.lenbits)-1,g=(1<<P.distbits)-1;e:do{x<15&&(d+=H[n++]<<x,x+=8,d+=H[n++]<<x,x+=8),w=b[d&A];t:for(;;){if(k=w>>>24,d>>>=k,x-=k,k=w>>>16&255,k===0)D[o++]=w&65535;else if(k&16){I=w&65535,k&=15,k&&(x<k&&(d+=H[n++]<<x,x+=8),I+=d&(1<<k)-1,d>>>=k,x-=k),x<15&&(d+=H[n++]<<x,x+=8,d+=H[n++]<<x,x+=8),w=E[d&g];r:for(;;){if(k=w>>>24,d>>>=k,x-=k,k=w>>>16&255,k&16){if(F=w&65535,k&=15,x<k&&(d+=H[n++]<<x,x+=8,x<k&&(d+=H[n++]<<x,x+=8)),F+=d&(1<<k)-1,F>c){e.msg="invalid distance too far back",P.mode=Sc;break e}if(d>>>=k,x-=k,k=o-s,F>k){if(k=F-k,k>f&&P.sane){e.msg="invalid distance too far back",P.mode=Sc;break e}if(L=0,z=p,y===0){if(L+=u-k,k<I){I-=k;do D[o++]=p[L++];while(--k);L=o-F,z=D}}else if(y<k){if(L+=u+y-k,k-=y,k<I){I-=k;do D[o++]=p[L++];while(--k);if(L=0,y<I){k=y,I-=k;do D[o++]=p[L++];while(--k);L=o-F,z=D}}}else if(L+=y-k,k<I){I-=k;do D[o++]=p[L++];while(--k);L=o-F,z=D}for(;I>2;)D[o++]=z[L++],D[o++]=z[L++],D[o++]=z[L++],I-=3;I&&(D[o++]=z[L++],I>1&&(D[o++]=z[L++]))}else{L=o-F;do D[o++]=D[L++],D[o++]=D[L++],D[o++]=D[L++],I-=3;while(I>2);I&&(D[o++]=D[L++],I>1&&(D[o++]=D[L++]))}}else if(k&64){e.msg="invalid distance code",P.mode=Sc;break e}else{w=E[(w&65535)+(d&(1<<k)-1)];continue r}break}}else if(k&64)if(k&32){P.mode=c3;break e}else{e.msg="invalid literal/length code",P.mode=Sc;break e}else{w=b[(w&65535)+(d&(1<<k)-1)];continue t}break}}while(n<i&&o<a);I=x>>3,n-=I,x-=I<<3,d&=(1<<x)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<a?257+(a-o):257-(o-a),P.hold=d,P.bits=x};const Bo=15,Bm=852,Tm=592,Om=0,P0=1,Nm=2,l3=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),f3=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),d3=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),h3=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),p3=(r,e,t,n,i,o,s,a)=>{const c=a.bits;let u=0,f=0,y=0,p=0,d=0,x=0,b=0,E=0,A=0,g=0,w,k,I,F,L,z=null,H;const D=new Uint16Array(Bo+1),P=new Uint16Array(Bo+1);let j=null,S,l,h;for(u=0;u<=Bo;u++)D[u]=0;for(f=0;f<n;f++)D[e[t+f]]++;for(d=c,p=Bo;p>=1&&D[p]===0;p--);if(d>p&&(d=p),p===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(y=1;y<p&&D[y]===0;y++);for(d<y&&(d=y),E=1,u=1;u<=Bo;u++)if(E<<=1,E-=D[u],E<0)return-1;if(E>0&&(r===Om||p!==1))return-1;for(P[1]=0,u=1;u<Bo;u++)P[u+1]=P[u]+D[u];for(f=0;f<n;f++)e[t+f]!==0&&(s[P[e[t+f]]++]=f);if(r===Om?(z=j=s,H=20):r===P0?(z=l3,j=f3,H=257):(z=d3,j=h3,H=0),g=0,f=0,u=y,L=o,x=d,b=0,I=-1,A=1<<d,F=A-1,r===P0&&A>Bm||r===Nm&&A>Tm)return 1;for(;;){S=u-b,s[f]+1<H?(l=0,h=s[f]):s[f]>=H?(l=j[s[f]-H],h=z[s[f]-H]):(l=96,h=0),w=1<<u-b,k=1<<x,y=k;do k-=w,i[L+(g>>b)+k]=S<<24|l<<16|h|0;while(k!==0);for(w=1<<u-1;g&w;)w>>=1;if(w!==0?(g&=w-1,g+=w):g=0,f++,--D[u]===0){if(u===p)break;u=e[t+s[f]]}if(u>d&&(g&F)!==I){for(b===0&&(b=d),L+=y,x=u-b,E=1<<x;x+b<p&&(E-=D[x+b],!(E<=0));)x++,E<<=1;if(A+=1<<x,r===P0&&A>Bm||r===Nm&&A>Tm)return 1;I=g&F,i[I]=d<<24|x<<16|L-o|0}}return g!==0&&(i[L+g]=u-b<<24|64<<16|0),a.bits=d,0};var ua=p3;const m3=0,g_=1,x_=2,{Z_FINISH:Dm,Z_BLOCK:y3,Z_TREES:Rc,Z_OK:fo,Z_STREAM_END:g3,Z_NEED_DICT:x3,Z_STREAM_ERROR:rn,Z_DATA_ERROR:v_,Z_MEM_ERROR:w_,Z_BUF_ERROR:v3,Z_DEFLATED:Pm}=p_,gl=16180,Lm=16181,Fm=16182,Mm=16183,Um=16184,zm=16185,Hm=16186,jm=16187,$m=16188,Wm=16189,Bu=16190,Mn=16191,L0=16192,Km=16193,F0=16194,Vm=16195,qm=16196,Gm=16197,Ym=16198,kc=16199,Cc=16200,Zm=16201,Xm=16202,Qm=16203,Jm=16204,ey=16205,M0=16206,ty=16207,ry=16208,lt=16209,__=16210,E_=16211,w3=852,_3=592,E3=15,b3=E3,ny=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function A3(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _o=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<gl||e.mode>E_?1:0},b_=r=>{if(_o(r))return rn;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=gl,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(w3),e.distcode=e.distdyn=new Int32Array(_3),e.sane=1,e.back=-1,fo},A_=r=>{if(_o(r))return rn;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,b_(r)},S_=(r,e)=>{let t;if(_o(r))return rn;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?rn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,A_(r))},R_=(r,e)=>{if(!r)return rn;const t=new A3;r.state=t,t.strm=r,t.window=null,t.mode=gl;const n=S_(r,e);return n!==fo&&(r.state=null),n},S3=r=>R_(r,b3);let iy=!0,U0,z0;const R3=r=>{if(iy){U0=new Int32Array(512),z0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(ua(g_,r.lens,0,288,U0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;ua(x_,r.lens,0,32,z0,0,r.work,{bits:5}),iy=!1}r.lencode=U0,r.lenbits=9,r.distcode=z0,r.distbits=5},k_=(r,e,t,n)=>{let i;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(t-n,t-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},k3=(r,e)=>{let t,n,i,o,s,a,c,u,f,y,p,d,x,b,E=0,A,g,w,k,I,F,L,z;const H=new Uint8Array(4);let D,P;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_o(r)||!r.output||!r.input&&r.avail_in!==0)return rn;t=r.state,t.mode===Mn&&(t.mode=L0),s=r.next_out,i=r.output,c=r.avail_out,o=r.next_in,n=r.input,a=r.avail_in,u=t.hold,f=t.bits,y=a,p=c,z=fo;e:for(;;)switch(t.mode){case gl:if(t.wrap===0){t.mode=L0;break}for(;f<16;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,H[0]=u&255,H[1]=u>>>8&255,t.check=vn(t.check,H,2,0),u=0,f=0,t.mode=Lm;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){r.msg="incorrect header check",t.mode=lt;break}if((u&15)!==Pm){r.msg="unknown compression method",t.mode=lt;break}if(u>>>=4,f-=4,L=(u&15)+8,t.wbits===0&&(t.wbits=L),L>15||L>t.wbits){r.msg="invalid window size",t.mode=lt;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=u&512?Wm:Mn,u=0,f=0;break;case Lm:for(;f<16;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(t.flags=u,(t.flags&255)!==Pm){r.msg="unknown compression method",t.mode=lt;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=lt;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(H[0]=u&255,H[1]=u>>>8&255,t.check=vn(t.check,H,2,0)),u=0,f=0,t.mode=Fm;case Fm:for(;f<32;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(H[0]=u&255,H[1]=u>>>8&255,H[2]=u>>>16&255,H[3]=u>>>24&255,t.check=vn(t.check,H,4,0)),u=0,f=0,t.mode=Mm;case Mm:for(;f<16;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(H[0]=u&255,H[1]=u>>>8&255,t.check=vn(t.check,H,2,0)),u=0,f=0,t.mode=Um;case Um:if(t.flags&1024){for(;f<16;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(H[0]=u&255,H[1]=u>>>8&255,t.check=vn(t.check,H,2,0)),u=0,f=0}else t.head&&(t.head.extra=null);t.mode=zm;case zm:if(t.flags&1024&&(d=t.length,d>a&&(d=a),d&&(t.head&&(L=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+d),L)),t.flags&512&&t.wrap&4&&(t.check=vn(t.check,n,d,o)),a-=d,o+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Hm;case Hm:if(t.flags&2048){if(a===0)break e;d=0;do L=n[o+d++],t.head&&L&&t.length<65536&&(t.head.name+=String.fromCharCode(L));while(L&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=vn(t.check,n,d,o)),a-=d,o+=d,L)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=jm;case jm:if(t.flags&4096){if(a===0)break e;d=0;do L=n[o+d++],t.head&&L&&t.length<65536&&(t.head.comment+=String.fromCharCode(L));while(L&&d<a);if(t.flags&512&&t.wrap&4&&(t.check=vn(t.check,n,d,o)),a-=d,o+=d,L)break e}else t.head&&(t.head.comment=null);t.mode=$m;case $m:if(t.flags&512){for(;f<16;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(t.wrap&4&&u!==(t.check&65535)){r.msg="header crc mismatch",t.mode=lt;break}u=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Mn;break;case Wm:for(;f<32;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}r.adler=t.check=ny(u),u=0,f=0,t.mode=Bu;case Bu:if(t.havedict===0)return r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=a,t.hold=u,t.bits=f,x3;r.adler=t.check=1,t.mode=Mn;case Mn:if(e===y3||e===Rc)break e;case L0:if(t.last){u>>>=f&7,f-=f&7,t.mode=M0;break}for(;f<3;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}switch(t.last=u&1,u>>>=1,f-=1,u&3){case 0:t.mode=Km;break;case 1:if(R3(t),t.mode=kc,e===Rc){u>>>=2,f-=2;break e}break;case 2:t.mode=qm;break;case 3:r.msg="invalid block type",t.mode=lt}u>>>=2,f-=2;break;case Km:for(u>>>=f&7,f-=f&7;f<32;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){r.msg="invalid stored block lengths",t.mode=lt;break}if(t.length=u&65535,u=0,f=0,t.mode=F0,e===Rc)break e;case F0:t.mode=Vm;case Vm:if(d=t.length,d){if(d>a&&(d=a),d>c&&(d=c),d===0)break e;i.set(n.subarray(o,o+d),s),a-=d,o+=d,c-=d,s+=d,t.length-=d;break}t.mode=Mn;break;case qm:for(;f<14;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(t.nlen=(u&31)+257,u>>>=5,f-=5,t.ndist=(u&31)+1,u>>>=5,f-=5,t.ncode=(u&15)+4,u>>>=4,f-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=lt;break}t.have=0,t.mode=Gm;case Gm:for(;t.have<t.ncode;){for(;f<3;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.lens[j[t.have++]]=u&7,u>>>=3,f-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,D={bits:t.lenbits},z=ua(m3,t.lens,0,19,t.lencode,0,t.work,D),t.lenbits=D.bits,z){r.msg="invalid code lengths set",t.mode=lt;break}t.have=0,t.mode=Ym;case Ym:for(;t.have<t.nlen+t.ndist;){for(;E=t.lencode[u&(1<<t.lenbits)-1],A=E>>>24,g=E>>>16&255,w=E&65535,!(A<=f);){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(w<16)u>>>=A,f-=A,t.lens[t.have++]=w;else{if(w===16){for(P=A+2;f<P;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(u>>>=A,f-=A,t.have===0){r.msg="invalid bit length repeat",t.mode=lt;break}L=t.lens[t.have-1],d=3+(u&3),u>>>=2,f-=2}else if(w===17){for(P=A+3;f<P;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}u>>>=A,f-=A,L=0,d=3+(u&7),u>>>=3,f-=3}else{for(P=A+7;f<P;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}u>>>=A,f-=A,L=0,d=11+(u&127),u>>>=7,f-=7}if(t.have+d>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=lt;break}for(;d--;)t.lens[t.have++]=L}}if(t.mode===lt)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=lt;break}if(t.lenbits=9,D={bits:t.lenbits},z=ua(g_,t.lens,0,t.nlen,t.lencode,0,t.work,D),t.lenbits=D.bits,z){r.msg="invalid literal/lengths set",t.mode=lt;break}if(t.distbits=6,t.distcode=t.distdyn,D={bits:t.distbits},z=ua(x_,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,D),t.distbits=D.bits,z){r.msg="invalid distances set",t.mode=lt;break}if(t.mode=kc,e===Rc)break e;case kc:t.mode=Cc;case Cc:if(a>=6&&c>=258){r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=a,t.hold=u,t.bits=f,u3(r,p),s=r.next_out,i=r.output,c=r.avail_out,o=r.next_in,n=r.input,a=r.avail_in,u=t.hold,f=t.bits,t.mode===Mn&&(t.back=-1);break}for(t.back=0;E=t.lencode[u&(1<<t.lenbits)-1],A=E>>>24,g=E>>>16&255,w=E&65535,!(A<=f);){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(g&&!(g&240)){for(k=A,I=g,F=w;E=t.lencode[F+((u&(1<<k+I)-1)>>k)],A=E>>>24,g=E>>>16&255,w=E&65535,!(k+A<=f);){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}u>>>=k,f-=k,t.back+=k}if(u>>>=A,f-=A,t.back+=A,t.length=w,g===0){t.mode=ey;break}if(g&32){t.back=-1,t.mode=Mn;break}if(g&64){r.msg="invalid literal/length code",t.mode=lt;break}t.extra=g&15,t.mode=Zm;case Zm:if(t.extra){for(P=t.extra;f<P;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Xm;case Xm:for(;E=t.distcode[u&(1<<t.distbits)-1],A=E>>>24,g=E>>>16&255,w=E&65535,!(A<=f);){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(!(g&240)){for(k=A,I=g,F=w;E=t.distcode[F+((u&(1<<k+I)-1)>>k)],A=E>>>24,g=E>>>16&255,w=E&65535,!(k+A<=f);){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}u>>>=k,f-=k,t.back+=k}if(u>>>=A,f-=A,t.back+=A,g&64){r.msg="invalid distance code",t.mode=lt;break}t.offset=w,t.extra=g&15,t.mode=Qm;case Qm:if(t.extra){for(P=t.extra;f<P;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=lt;break}t.mode=Jm;case Jm:if(c===0)break e;if(d=p-c,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=lt;break}d>t.wnext?(d-=t.wnext,x=t.wsize-d):x=t.wnext-d,d>t.length&&(d=t.length),b=t.window}else b=i,x=s-t.offset,d=t.length;d>c&&(d=c),c-=d,t.length-=d;do i[s++]=b[x++];while(--d);t.length===0&&(t.mode=Cc);break;case ey:if(c===0)break e;i[s++]=t.length,c--,t.mode=Cc;break;case M0:if(t.wrap){for(;f<32;){if(a===0)break e;a--,u|=n[o++]<<f,f+=8}if(p-=c,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?vn(t.check,i,p,s-p):Dd(t.check,i,p,s-p)),p=c,t.wrap&4&&(t.flags?u:ny(u))!==t.check){r.msg="incorrect data check",t.mode=lt;break}u=0,f=0}t.mode=ty;case ty:if(t.wrap&&t.flags){for(;f<32;){if(a===0)break e;a--,u+=n[o++]<<f,f+=8}if(t.wrap&4&&u!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=lt;break}u=0,f=0}t.mode=ry;case ry:z=g3;break e;case lt:z=v_;break e;case __:return w_;case E_:default:return rn}return r.next_out=s,r.avail_out=c,r.next_in=o,r.avail_in=a,t.hold=u,t.bits=f,(t.wsize||p!==r.avail_out&&t.mode<lt&&(t.mode<M0||e!==Dm))&&k_(r,r.output,r.next_out,p-r.avail_out),y-=r.avail_in,p-=r.avail_out,r.total_in+=y,r.total_out+=p,t.total+=p,t.wrap&4&&p&&(r.adler=t.check=t.flags?vn(t.check,i,p,r.next_out-p):Dd(t.check,i,p,r.next_out-p)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Mn?128:0)+(t.mode===kc||t.mode===F0?256:0),(y===0&&p===0||e===Dm)&&z===fo&&(z=v3),z},C3=r=>{if(_o(r))return rn;let e=r.state;return e.window&&(e.window=null),r.state=null,fo},I3=(r,e)=>{if(_o(r))return rn;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,fo):rn},B3=(r,e)=>{const t=e.length;let n,i,o;return _o(r)||(n=r.state,n.wrap!==0&&n.mode!==Bu)?rn:n.mode===Bu&&(i=1,i=Dd(i,e,t,0),i!==n.check)?v_:(o=k_(r,e,t,t),o?(n.mode=__,w_):(n.havedict=1,fo))};var T3=A_,O3=S_,N3=b_,D3=S3,P3=R_,L3=k3,F3=C3,M3=I3,U3=B3,z3="pako inflate (from Nodeca project)",$n={inflateReset:T3,inflateReset2:O3,inflateResetKeep:N3,inflateInit:D3,inflateInit2:P3,inflate:L3,inflateEnd:F3,inflateGetHeader:M3,inflateSetDictionary:U3,inflateInfo:z3};function H3(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var j3=H3;const C_=Object.prototype.toString,{Z_NO_FLUSH:$3,Z_FINISH:W3,Z_OK:Pa,Z_STREAM_END:H0,Z_NEED_DICT:j0,Z_STREAM_ERROR:K3,Z_DATA_ERROR:oy,Z_MEM_ERROR:V3}=p_;function xl(r){this.options=m_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a3,this.strm.avail_out=0;let t=$n.inflateInit2(this.strm,e.windowBits);if(t!==Pa)throw new Error(Pd[t]);if(this.header=new j3,$n.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Ld.string2buf(e.dictionary):C_.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=$n.inflateSetDictionary(this.strm,e.dictionary),t!==Pa)))throw new Error(Pd[t])}xl.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?W3:$3,C_.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=$n.inflate(t,s),o===j0&&i&&(o=$n.inflateSetDictionary(t,i),o===Pa?o=$n.inflate(t,s):o===oy&&(o=j0));t.avail_in>0&&o===H0&&t.state.wrap>0&&r[t.next_in]!==0;)$n.inflateReset(t),o=$n.inflate(t,s);switch(o){case K3:case oy:case j0:case V3:return this.onEnd(o),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||o===H0))if(this.options.to==="string"){let c=Ld.utf8border(t.output,t.next_out),u=t.next_out-c,f=Ld.buf2string(t.output,c);t.next_out=u,t.avail_out=n-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(f)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Pa&&a===0)){if(o===H0)return o=$n.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};xl.prototype.onData=function(r){this.chunks.push(r)};xl.prototype.onEnd=function(r){r===Pa&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=m_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function q3(r,e){const t=new xl(e);if(t.push(r),t.err)throw t.msg||Pd[t.err];return t.result}var G3=q3,Y3={inflate:G3};const{inflate:Z3}=Y3;var X3=Z3,I_={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function o(c,u,f,y,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,y||c,p),x=t?t+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],d]:c._events[x].push(d):(c._events[x]=d,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],f,y;if(this._eventsCount===0)return u;for(y in f=this._events)e.call(f,y)&&u.push(t?y.slice(1):y);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},a.prototype.listeners=function(u){var f=t?t+u:u,y=this._events[f];if(!y)return[];if(y.fn)return[y.fn];for(var p=0,d=y.length,x=new Array(d);p<d;p++)x[p]=y[p].fn;return x},a.prototype.listenerCount=function(u){var f=t?t+u:u,y=this._events[f];return y?y.fn?1:y.length:0},a.prototype.emit=function(u,f,y,p,d,x){var b=t?t+u:u;if(!this._events[b])return!1;var E=this._events[b],A=arguments.length,g,w;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),A){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,y),!0;case 4:return E.fn.call(E.context,f,y,p),!0;case 5:return E.fn.call(E.context,f,y,p,d),!0;case 6:return E.fn.call(E.context,f,y,p,d,x),!0}for(w=1,g=new Array(A-1);w<A;w++)g[w-1]=arguments[w];E.fn.apply(E.context,g)}else{var k=E.length,I;for(w=0;w<k;w++)switch(E[w].once&&this.removeListener(u,E[w].fn,void 0,!0),A){case 1:E[w].fn.call(E[w].context);break;case 2:E[w].fn.call(E[w].context,f);break;case 3:E[w].fn.call(E[w].context,f,y);break;case 4:E[w].fn.call(E[w].context,f,y,p);break;default:if(!g)for(I=1,g=new Array(A-1);I<A;I++)g[I-1]=arguments[I];E[w].fn.apply(E[w].context,g)}}return!0},a.prototype.on=function(u,f,y){return o(this,u,f,y,!1)},a.prototype.once=function(u,f,y){return o(this,u,f,y,!0)},a.prototype.removeListener=function(u,f,y,p){var d=t?t+u:u;if(!this._events[d])return this;if(!f)return s(this,d),this;var x=this._events[d];if(x.fn)x.fn===f&&(!p||x.once)&&(!y||x.context===y)&&s(this,d);else{for(var b=0,E=[],A=x.length;b<A;b++)(x[b].fn!==f||p&&!x[b].once||y&&x[b].context!==y)&&E.push(x[b]);E.length?this._events[d]=E.length===1?E[0]:E:s(this,d)}return this},a.prototype.removeAllListeners=function(u){var f;return u?(f=t?t+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a})(I_);var Q3=I_.exports;const J3=ho(Q3);function eC(r,e){return Array.apply(0,new Array(Math.ceil(r.length/e))).map((t,n)=>r.slice(n*e,(n+1)*e))}const Hi=r=>"version"in r;function tC(r){return new TextDecoder("utf-8").decode(r)}function sy(r){return zt.encode(r)}function B_(r){return ue.Buffer.from(r,"base64")}function hi(r){return"accounts"in r}async function rC(r){const e=(await Q.findProgramAddress([],r))[0];return await Q.createWithSeed(e,nC(),r)}function nC(){return"anchor:idl"}const iC=Ee.struct([Ee.publicKey("authority"),Ee.vecU8("data")]);function oC(r){return iC.decode(r)}function sC(r){const e=["name","path","account","relations","generic"],t=o=>o.split(".").map(T6).join("."),n=o=>{for(const s in o){const a=o[s];e.includes(s)?o[s]=Array.isArray(a)?a.map(t):t(a):typeof a=="object"&&n(a)}},i=structuredClone(r);return n(i),i}function Go(r,e,t,n){return r!=null&&r.length?r[0].name?t(r):n(r):e()}function aC(r){const e=new Map;return r.errors&&r.errors.forEach(t=>{var n;let i=(n=t.msg)!==null&&n!==void 0?n:t.name;e.set(t.code,i)}),e}function cC(r,...e){if(r.args.length!=e.length)throw new Error("Invalid argument length");const t={};let n=0;return r.args.forEach(i=>{t[i.name]=e[n],n+=1}),t}function T_(r,e={}){r.forEach(t=>{if(hi(t))T_(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function un(r){return r instanceof Q?r:new Q(r)}class uC extends TypeError{constructor(e,t){let n;const{message:i,...o}=e,{path:s}=e,a=s.length===0?i:"At path: "+s.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...t()]}}}function lC(r){return is(r)&&typeof r[Symbol.iterator]=="function"}function is(r){return typeof r=="object"&&r!=null}function Pi(r){return typeof r=="string"?JSON.stringify(r):""+r}function fC(r){const{done:e,value:t}=r.next();return e?void 0:t}function dC(r,e,t,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:i,branch:o}=e,{type:s}=t,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Pi(n)+"`"}=r;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...r,message:c}}function*ay(r,e,t,n){lC(r)||(r=[r]);for(const i of r){const o=dC(i,e,t,n);o&&(yield o)}}function*Ap(r,e,t){t===void 0&&(t={});const{path:n=[],branch:i=[r],coerce:o=!1,mask:s=!1}=t,a={path:n,branch:i};if(o&&(r=e.coercer(r,a),s&&e.type!=="type"&&is(e.schema)&&is(r)&&!Array.isArray(r)))for(const u in r)e.schema[u]===void 0&&delete r[u];let c=!0;for(const u of e.validator(r,a))c=!1,yield[u,void 0];for(let[u,f,y]of e.entries(r,a)){const p=Ap(f,y,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,f],coerce:o,mask:s});for(const d of p)d[0]?(c=!1,yield[d[0],void 0]):o&&(f=d[1],u===void 0?r=f:r instanceof Map?r.set(u,f):r instanceof Set?r.add(f):is(r)&&(r[u]=f))}if(c)for(const u of e.refiner(r,a))c=!1,yield[u,void 0];c&&(yield[void 0,r])}class Ui{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:i,refiner:o,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=s,i?this.validator=(c,u)=>{const f=i(c,u);return ay(f,u,this,c)}:this.validator=()=>[],o?this.refiner=(c,u)=>{const f=o(c,u);return ay(f,u,this,c)}:this.refiner=()=>[]}assert(e){return hC(e,this)}create(e){return Sp(e,this)}is(e){return O_(e,this)}mask(e){return pC(e,this)}validate(e,t){return t===void 0&&(t={}),qa(e,this,t)}}function hC(r,e){const t=qa(r,e);if(t[0])throw t[0]}function Sp(r,e){const t=qa(r,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function pC(r,e){const t=qa(r,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function O_(r,e){return!qa(r,e)[0]}function qa(r,e,t){t===void 0&&(t={});const n=Ap(r,e,t),i=fC(n);return i[0]?[new uC(i[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,i[1]]}function Ga(r,e){return new Ui({type:r,schema:null,validator:e})}function mC(){return Ga("any",()=>!0)}function $0(r){return new Ui({type:"array",schema:r,*entries(e){if(r&&Array.isArray(e))for(const[t,n]of e.entries())yield[t,n,r]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+Pi(e)}})}function yC(){return Ga("boolean",r=>typeof r=="boolean")}function cy(r){const e=Pi(r);return new Ui({type:"literal",schema:r,validator(t){return t===r||"Expected the literal `"+e+"`, but received: "+Pi(t)}})}function Ic(r){return new Ui({...r,validator:(e,t)=>e===null||r.validator(e,t),refiner:(e,t)=>e===null||r.refiner(e,t)})}function qc(){return Ga("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+Pi(r))}function Gc(r){return new Ui({...r,validator:(e,t)=>e===void 0||r.validator(e,t),refiner:(e,t)=>e===void 0||r.refiner(e,t)})}function Ji(){return Ga("string",r=>typeof r=="string"||"Expected a string, but received: "+Pi(r))}function Bi(r){const e=Object.keys(r);return new Ui({type:"type",schema:r,*entries(t){if(is(t))for(const n of e)yield[n,t[n],r[n]]},validator(t){return is(t)||"Expected an object, but received: "+Pi(t)}})}function N_(r){const e=r.map(t=>t.type).join(" | ");return new Ui({type:"union",schema:null,coercer(t,n){return(r.find(o=>{const[s]=o.validate(t,{coerce:!0});return!s})||Rp()).coercer(t,n)},validator(t,n){const i=[];for(const o of r){const[...s]=Ap(t,o,n),[a]=s;if(a[0])for(const[c]of s)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Pi(t),...i]}})}function Rp(){return Ga("unknown",()=>!0)}function gC(r,e,t){return new Ui({...r,coercer:(n,i)=>O_(n,e)?r.coercer(t(n,i),i):r.coercer(n,i)})}const uy=99;async function xC(r,e,t){if(e.length<=uy)return await ly(r,e,t);{const n=eC(e,uy);return(await Promise.all(n.map(o=>ly(r,o,t)))).flat()}}async function ly(r,e,t){const n=t??r.commitment,{value:i,context:o}=await r.getMultipleAccountsInfoAndContext(e,n);return i.map((a,c)=>a===null?null:{publicKey:e[c],account:a,context:o})}async function vC(r,e,t,n,i){var o;t&&t.length>0&&e.sign(...t);const s=e._compile(),a=s.serialize(),u=e._serialize(a).toString("base64"),f={encoding:"base64",commitment:n??r.commitment};if(i){const x=(Array.isArray(i)?i:s.nonProgramIds()).map(b=>b.toBase58());f.accounts={encoding:"base64",addresses:x}}t&&t.length>0&&(f.sigVerify=!0);const y=[u,f],p=await r._rpcRequest("simulateTransaction",y),d=Sp(p,bC);if("error"in d){let x;if("data"in d.error&&(x=(o=d.error.data)===null||o===void 0?void 0:o.logs,x&&Array.isArray(x))){const b=`
    `,E=b+x.join(b);console.error(d.error.message,E)}throw new Di("failed to simulate transaction: "+d.error.message,x)}return d.result}function wC(r){return gC(D_(r),_C,e=>"error"in e?e:{...e,result:Sp(e.result,r)})}const _C=D_(Rp());function D_(r){return N_([Bi({jsonrpc:cy("2.0"),id:Ji(),result:r}),Bi({jsonrpc:cy("2.0"),id:Ji(),error:Bi({code:Rp(),message:Ji(),data:Gc(mC())})})])}function EC(r){return wC(Bi({context:Bi({slot:qc()}),value:r}))}const bC=EC(Bi({err:Ic(N_([Bi({}),Ji()])),logs:Ic($0(Ji())),accounts:Gc(Ic($0(Ic(Bi({executable:yC(),owner:Ji(),lamports:qc(),data:$0(Ji()),rentEpoch:Gc(qc())}))))),unitsConsumed:Gc(qc())}));class La{constructor(e,t,n=La.defaultOptions()){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=La.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var i,o,s,a;if(n===void 0&&(n=this.opts),Hi(e))t&&e.sign(t);else if(e.feePayer=(i=e.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const u of t)e.partialSign(u);e=await this.wallet.signTransaction(e);const c=e.serialize();try{return await fy(this.connection,c,n)}catch(u){if(u instanceof Fd){const f=sy(Hi(e)?((o=e.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(s=e.signature)!==null&&s!==void 0?s:new Uint8Array),y=Hi(e)?0:void 0,p=await this.connection.getTransaction(f,{commitment:"confirmed",maxSupportedTransactionVersion:y});if(p){const d=(a=p.meta)===null||a===void 0?void 0:a.logMessages;throw d?new Di(u.message,d):u}else throw u}else throw u}}async sendAll(e,t){var n,i,o;t===void 0&&(t=this.opts);const s=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(f=>{var y,p;if(Hi(f.tx)){let d=f.tx;return f.signers&&d.sign(f.signers),d}else{let d=f.tx,x=(y=f.signers)!==null&&y!==void 0?y:[];return d.feePayer=(p=d.feePayer)!==null&&p!==void 0?p:this.wallet.publicKey,d.recentBlockhash=s,x.forEach(b=>{d.partialSign(b)}),d}});const c=await this.wallet.signAllTransactions(a),u=[];for(let f=0;f<a.length;f+=1){const y=c[f],p=y.serialize();try{u.push(await fy(this.connection,p,t))}catch(d){if(d instanceof Fd){const x=sy(Hi(y)?((n=y.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=y.signature)!==null&&i!==void 0?i:new Uint8Array),b=Hi(y)?0:void 0,E=await this.connection.getTransaction(x,{commitment:"confirmed",maxSupportedTransactionVersion:b});if(E){const A=(o=E.meta)===null||o===void 0?void 0:o.logMessages;throw A?new Di(d.message,A):d}else throw d}else throw d}}return u}async simulate(e,t,n,i){let o=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,s;if(Hi(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),s=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),s=await vC(this.connection,e,t,n,i)),s.value.err)throw new AC(s.value);return s.value}}class AC extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function fy(r,e,t){const n=t?{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment,maxRetries:t.maxRetries,minContextSlot:t.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const s=await r.sendRawTransaction(e,n);if(t!=null&&t.blockhash)if(n.maxRetries===0){const a=AbortSignal.timeout(15e3);i=(await r.confirmTransaction({abortSignal:a,signature:s,...t.blockhash},t&&t.commitment)).value}else i=(await r.confirmTransaction({signature:s,...t.blockhash},t&&t.commitment)).value;else i=(await r.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new Fd(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(s){if(s.name==="TimeoutError")continue;throw s}throw Error("Transaction failed to confirm in 60s")}class Fd extends Error{constructor(e){super(e)}}function Md(){return La.local()}var SC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y={};Object.defineProperty(Y,"__esModule",{value:!0});var P_=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=T2=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=B2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=I2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=C2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=k2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=R2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=S2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=A2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=b2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=E2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=_2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=w2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=v2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=x2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=g2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=y2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=m2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=p2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=h2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=d2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=f2=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=l2=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=u2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=c2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=a2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=s2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=o2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=i2=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=n2=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=r2=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=t2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=e2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=J_=Y.ANCHOR_ERROR__CONSTRAINT_STATE=Q_=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=X_=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=Z_=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=Y_=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=G_=Y.ANCHOR_ERROR__CONSTRAINT_RAW=q_=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=V_=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=K_=Y.ANCHOR_ERROR__CONSTRAINT_MUT=W_=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=$_=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=j_=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=H_=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=z_=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=U_=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=M_=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=F_=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,L_=Y.ANCHOR_ERROR__DEPRECATED=nE=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=rE=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=tE=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=eE=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=J2=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Q2=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=X2=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=Z2=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Y2=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=G2=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=q2=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=V2=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=K2=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=W2=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=$2=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=j2=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=H2=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=z2=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=U2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=M2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=F2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=L2=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=P2=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=D2=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=N2=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=O2=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,F_=Y.ANCHOR_ERROR__INSTRUCTION_MISSING=100,M_=Y.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,U_=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,z_=Y.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,H_=Y.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,j_=Y.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,$_=Y.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,W_=Y.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,K_=Y.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,V_=Y.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,q_=Y.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,G_=Y.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Y_=Y.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Z_=Y.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,X_=Y.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,Q_=Y.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,J_=Y.ANCHOR_ERROR__CONSTRAINT_STATE=2008,e2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,t2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,r2=Y.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,n2=Y.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,i2=Y.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,o2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,s2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,a2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,c2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,u2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,l2=Y.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,f2=Y.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,d2=Y.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,h2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,p2=Y.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,m2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,y2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,g2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,x2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,v2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,w2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,_2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,E2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,b2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,A2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,S2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,R2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,k2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,C2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,I2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,B2=Y.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,T2=Y.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;P_=Y.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var O2=Y.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,N2=Y.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,D2=Y.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,P2=Y.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,L2=Y.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,F2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,M2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,U2=Y.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,z2=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,H2=Y.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,j2=Y.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,$2=Y.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,W2=Y.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,K2=Y.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,V2=Y.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,q2=Y.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,G2=Y.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Y2=Y.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Z2=Y.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,X2=Y.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,Q2=Y.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,J2=Y.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,eE=Y.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,tE=Y.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,rE=Y.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,nE=Y.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;L_=Y.ANCHOR_ERROR__DEPRECATED=5e3;const RC=new Map;function iE(r){return RC.get(r)!==void 0}class li extends Error{constructor(e){super(e),this.name="IdlError"}}class Ya{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(i.exec(e[s])){o.pop();continue}const a=(t=n.exec(e[s]))===null||t===void 0?void 0:t[1];a&&o.push(new Q(a))}return new Ya(o)}}class la extends Error{constructor(e,t,n,i,o,s){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:o},this._programErrorStack=Ya.parse(i)}static parse(e){if(!e)return null;const t=e.findIndex(p=>p.startsWith("Program log: AnchorError"));if(t===-1)return null;const n=e[t],i=[n];let o;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const p=/^Program log: (.*)$/,d=p.exec(e[t+2])[1],x=p.exec(e[t+4])[1];o=[new Q(d),new Q(x)],i.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const p=/^Program log: (Left|Right): (.*)$/,d=p.exec(e[t+1])[2],x=p.exec(e[t+2])[2];i.push(...e.slice(t+1,t+3)),o=[d,x]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),y=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(a){const[p,d,x]=a.slice(1,4),b={code:p,number:parseInt(d)};return new la(b,x,i,e,void 0,o)}else if(u){const[p,d,x,b,E]=u.slice(1,6),A={code:x,number:parseInt(b)},g={file:p,line:parseInt(d)};return new la(A,E,i,e,g,o)}else if(y){const[p,d,x,b]=y.slice(1,5),E=p,A={code:d,number:parseInt(x)};return new la(A,b,i,e,E,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Tu extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=Ya.parse(n))}static parse(e,t){const n=e.toString();let i;if(n.includes("custom program error:")){let a=n.split("custom program error: ");if(a.length!==2)return null;i=a[1]}else{const a=n.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;i=a[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let s=t.get(o);return s!==void 0?new Tu(o,s,e.logs):(s=kC.get(o),s!==void 0?new Tu(o,s,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function oE(r,e){iE("debug-logs")&&console.log("Translating error:",r);const t=la.parse(r.logs);if(t)return t;const n=Tu.parse(r,e);if(n)return n;if(r.logs){const i={get:function(o,s){return s==="programErrorStack"?o.programErrorStack.stack:s==="program"?o.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=Ya.parse(r.logs),new Proxy(r,i)}return r}const se={InstructionMissing:F_,InstructionFallbackNotFound:M_,InstructionDidNotDeserialize:U_,InstructionDidNotSerialize:z_,IdlInstructionStub:H_,IdlInstructionInvalidProgram:j_,IdlAccountNotEmpty:$_,EventInstructionStub:W_,ConstraintMut:K_,ConstraintHasOne:V_,ConstraintSigner:q_,ConstraintRaw:G_,ConstraintOwner:Y_,ConstraintRentExempt:Z_,ConstraintSeeds:X_,ConstraintExecutable:Q_,ConstraintState:J_,ConstraintAssociated:e2,ConstraintAssociatedInit:t2,ConstraintClose:r2,ConstraintAddress:n2,ConstraintZero:i2,ConstraintTokenMint:o2,ConstraintTokenOwner:s2,ConstraintMintMintAuthority:a2,ConstraintMintFreezeAuthority:c2,ConstraintMintDecimals:u2,ConstraintSpace:l2,ConstraintAccountIsNone:f2,ConstraintTokenTokenProgram:d2,ConstraintMintTokenProgram:h2,ConstraintAssociatedTokenTokenProgram:p2,ConstraintMintGroupPointerExtension:m2,ConstraintMintGroupPointerExtensionAuthority:y2,ConstraintMintGroupPointerExtensionGroupAddress:g2,ConstraintMintGroupMemberPointerExtension:x2,ConstraintMintGroupMemberPointerExtensionAuthority:v2,ConstraintMintGroupMemberPointerExtensionMemberAddress:w2,ConstraintMintMetadataPointerExtension:_2,ConstraintMintMetadataPointerExtensionAuthority:E2,ConstraintMintMetadataPointerExtensionMetadataAddress:b2,ConstraintMintCloseAuthorityExtension:A2,ConstraintMintCloseAuthorityExtensionAuthority:S2,ConstraintMintPermanentDelegateExtension:R2,ConstraintMintPermanentDelegateExtensionDelegate:k2,ConstraintMintTransferHookExtension:C2,ConstraintMintTransferHookExtensionAuthority:I2,ConstraintMintTransferHookExtensionProgramId:B2,RequireViolated:T2,RequireEqViolated:P_,RequireKeysEqViolated:O2,RequireNeqViolated:N2,RequireKeysNeqViolated:D2,RequireGtViolated:P2,RequireGteViolated:L2,AccountDiscriminatorAlreadySet:F2,AccountDiscriminatorNotFound:M2,AccountDiscriminatorMismatch:U2,AccountDidNotDeserialize:z2,AccountDidNotSerialize:H2,AccountNotEnoughKeys:j2,AccountNotMutable:$2,AccountOwnedByWrongProgram:W2,InvalidProgramId:K2,InvalidProgramExecutable:V2,AccountNotSigner:q2,AccountNotSystemOwned:G2,AccountNotInitialized:Y2,AccountNotProgramData:Z2,AccountNotAssociatedTokenAccount:X2,AccountSysvarMismatch:Q2,AccountReallocExceedsLimit:J2,AccountDuplicateReallocs:eE,DeclaredProgramIdMismatch:tE,TryingToInitPayerAsProgramAccount:rE,InvalidNumericConversion:nE,Deprecated:L_},kC=new Map([[se.InstructionMissing,"Instruction discriminator not provided"],[se.InstructionFallbackNotFound,"Fallback functions are not supported"],[se.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[se.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[se.IdlInstructionStub,"The program was compiled without idl instructions"],[se.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[se.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[se.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[se.ConstraintMut,"A mut constraint was violated"],[se.ConstraintHasOne,"A has one constraint was violated"],[se.ConstraintSigner,"A signer constraint was violated"],[se.ConstraintRaw,"A raw constraint was violated"],[se.ConstraintOwner,"An owner constraint was violated"],[se.ConstraintRentExempt,"A rent exemption constraint was violated"],[se.ConstraintSeeds,"A seeds constraint was violated"],[se.ConstraintExecutable,"An executable constraint was violated"],[se.ConstraintState,"Deprecated Error, feel free to replace with something else"],[se.ConstraintAssociated,"An associated constraint was violated"],[se.ConstraintAssociatedInit,"An associated init constraint was violated"],[se.ConstraintClose,"A close constraint was violated"],[se.ConstraintAddress,"An address constraint was violated"],[se.ConstraintZero,"Expected zero account discriminant"],[se.ConstraintTokenMint,"A token mint constraint was violated"],[se.ConstraintTokenOwner,"A token owner constraint was violated"],[se.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[se.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[se.ConstraintMintDecimals,"A mint decimals constraint was violated"],[se.ConstraintSpace,"A space constraint was violated"],[se.ConstraintAccountIsNone,"A required account for the constraint is None"],[se.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[se.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[se.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[se.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[se.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[se.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[se.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[se.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[se.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[se.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[se.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[se.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[se.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[se.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[se.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[se.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[se.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[se.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[se.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[se.RequireViolated,"A require expression was violated"],[se.RequireEqViolated,"A require_eq expression was violated"],[se.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[se.RequireNeqViolated,"A require_neq expression was violated"],[se.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[se.RequireGtViolated,"A require_gt expression was violated"],[se.RequireGteViolated,"A require_gte expression was violated"],[se.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[se.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[se.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[se.AccountDidNotDeserialize,"Failed to deserialize the account"],[se.AccountDidNotSerialize,"Failed to serialize the account"],[se.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[se.AccountNotMutable,"The given account is not mutable"],[se.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[se.InvalidProgramId,"Program ID was not as expected"],[se.InvalidProgramExecutable,"Program account is not executable"],[se.AccountNotSigner,"The given account did not sign"],[se.AccountNotSystemOwned,"The given account is not owned by the system program"],[se.AccountNotInitialized,"The program expected this account to be already initialized"],[se.AccountNotProgramData,"The given account is not a program data account"],[se.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[se.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[se.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[se.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[se.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[se.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[se.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[se.Deprecated,"The API being used is deprecated and should no longer be used"]]);class Oe{static fieldLayout(e,t=[],n){const i=e.name;switch(e.type){case"bool":return Ee.bool(i);case"u8":return Ee.u8(i);case"i8":return Ee.i8(i);case"u16":return Ee.u16(i);case"i16":return Ee.i16(i);case"u32":return Ee.u32(i);case"i32":return Ee.i32(i);case"f32":return Ee.f32(i);case"u64":return Ee.u64(i);case"i64":return Ee.i64(i);case"f64":return Ee.f64(i);case"u128":return Ee.u128(i);case"i128":return Ee.i128(i);case"u256":return Ee.u256(i);case"i256":return Ee.i256(i);case"bytes":return Ee.vecU8(i);case"string":return Ee.str(i);case"pubkey":return Ee.publicKey(i);default:{if("option"in e.type)return Ee.option(Oe.fieldLayout({type:e.type.option},t,n),i);if("vec"in e.type)return Ee.vec(Oe.fieldLayout({type:e.type.vec},t,n),i);if("array"in e.type){let[o,s]=e.type.array;return s=Oe.resolveArrayLen(s,n),Ee.array(Oe.fieldLayout({type:o},t,n),s,i)}if("defined"in e.type){if(!t)throw new li("User defined types not provided");const o=e.type.defined.name,s=t.find(a=>a.name===o);if(!s)throw new li(`Type not found: ${e.name}`);return Oe.typeDefLayout({typeDef:s,types:t,genericArgs:n??e.type.defined.generics,name:i})}if("generic"in e.type){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new li(`Invalid generic field: ${e.name}`);return Oe.fieldLayout({...e,type:o.type},t)}throw new li(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:n,genericArgs:i}){switch(e.type.kind){case"struct":{const o=Go(e.type.fields,()=>[],s=>s.map(a=>{const c=i&&Oe.resolveGenericArgs({type:a.type,typeDef:e,genericArgs:i});return Oe.fieldLayout(a,t,c)}),s=>s.map((a,c)=>{const u=i&&Oe.resolveGenericArgs({type:a,typeDef:e,genericArgs:i});return Oe.fieldLayout({name:c.toString(),type:a},t,u)}));return Ee.struct(o,n)}case"enum":{const o=e.type.variants.map(s=>{const a=Go(s.fields,()=>[],c=>c.map(u=>{const f=i&&Oe.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:i});return Oe.fieldLayout(u,t,f)}),c=>c.map((u,f)=>{const y=i&&Oe.resolveGenericArgs({type:u,typeDef:e,genericArgs:i});return Oe.fieldLayout({name:f.toString(),type:u},t,y)}));return Ee.struct(a,s.name)});return n!==void 0?Ee.rustEnum(o).replicate(n):Ee.rustEnum(o,n)}case"type":return Oe.fieldLayout({type:e.type.alias,name:n},t)}}static typeSize(e,t,n){var i;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+Oe.typeSize(e.option,t,n);if("coption"in e)return 4+Oe.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[o,s]=e.array;return s=Oe.resolveArrayLen(s,n),Oe.typeSize(o,t,n)*s}if("defined"in e){const o=(i=t.types)===null||i===void 0?void 0:i.find(a=>a.name===e.defined.name);if(!o)throw new li(`Type not found: ${JSON.stringify(e)}`);const s=a=>{const c=n??e.defined.generics,u=c&&Oe.resolveGenericArgs({type:a,typeDef:o,genericArgs:c});return Oe.typeSize(a,t,u)};switch(o.type.kind){case"struct":return Go(o.type.fields,()=>[0],a=>a.map(c=>s(c.type)),a=>a.map(c=>s(c))).reduce((a,c)=>a+c,0);case"enum":{const a=o.type.variants.map(c=>Go(c.fields,()=>[0],u=>u.map(f=>s(f.type)),u=>u.map(f=>s(f))).reduce((u,f)=>u+f,0));return Math.max(...a)+1}case"type":return Oe.typeSize(o.type.alias,t,n)}}if("generic"in e){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new li(`Invalid generic: ${e.generic}`);return Oe.typeSize(o.type,t,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const n=t.find(i=>i.kind==="const");(n==null?void 0:n.kind)==="const"&&(e=+n.value)}if(typeof e!="number")throw new li("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:n,isDefined:i}){if(typeof e!="object")return null;for(const o in t.generics){const s=t.generics[o];if("generic"in e&&s.name===e.generic)return[n[o]];if("option"in e){const a=Oe.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:n,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{option:a[0].type}}]}if("vec"in e){const a=Oe.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:n,isDefined:i});if(!a||!i)return a;if(a[0].kind==="type")return[{kind:"type",type:{vec:a[0].type}}]}if("array"in e){const[a,c]=e.array,u=typeof c=="object",f=Oe.resolveGenericArgs({type:a,typeDef:t,genericArgs:n,isDefined:i})||[];if(u){const y=t.generics.findIndex(p=>p.name===c.generic);y!==-1&&f.push(n[y])}if(f.length>0){if(!i)return f;if(f[0].kind==="type"&&f[1].kind==="const")return[{kind:"type",type:{array:[f[0].type,+f[1].value]}}]}if(u&&s.name===c.generic){const y=n[o];return i?[{kind:"type",type:{array:[a,+y.value]}}]:[y]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(a=>{switch(a.kind){case"type":return Oe.resolveGenericArgs({type:a.type,typeDef:t,genericArgs:n,isDefined:!0});case"const":return[a]}}).filter(a=>a!==null):null}return null}}class CC{constructor(e){this.idl=e;const t=e.instructions.map(n=>{const i=n.name,o=n.args.map(a=>Oe.fieldLayout(a,e.types)),s=Ee.struct(o,i);return[i,{discriminator:n.discriminator,layout:s}]});this.ixLayouts=new Map(t)}encode(e,t){const n=ue.Buffer.alloc(1e3),i=this.ixLayouts.get(e);if(!i)throw new Error(`Unknown method: ${e}`);const o=i.layout.encode(t,n),s=n.slice(0,o);return ue.Buffer.concat([ue.Buffer.from(i.discriminator),s])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?ue.Buffer.from(e,"hex"):zt.decode(e));for(const[n,i]of this.ixLayouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(ue.Buffer.from(i.discriminator)))return{name:n,data:i.layout.decode(e.subarray(o.length))}}return null}format(e,t){return Pr.format(e,t,this.idl)}}class Pr{static format(e,t,n){const i=n.instructions.find(c=>e.name===c.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(c=>({name:c.name,type:Pr.formatIdlType(c.type),data:Pr.formatIdlData(c,e.data[c.name],n.types)})),s=Pr.flattenIdlAccounts(i.accounts),a=t.map((c,u)=>u<s.length?{name:s[u].name,...c}:{name:void 0,...c});return{args:o,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const n=e.defined.generics.map(i=>{switch(i.kind){case"type":return Pr.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${t}<${n}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(i=>this.formatIdlData({name:"",type:e.type.vec},i,n)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const i=e.type.defined.name,o=n.find(s=>s.name===i);if(!o)throw new Error(`Type not found: ${i}`);return Pr.formatIdlDataDefined(o,t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return"{ "+Go(e.type.fields,()=>"",i=>Object.entries(t).map(([o,s])=>{const a=i.find(c=>c.name===o);if(!a)throw new Error(`Field not found: ${o}`);return o+": "+Pr.formatIdlData(a,s,n)}).join(", "),i=>Object.entries(t).map(([o,s])=>o+": "+Pr.formatIdlData({name:"",type:i[o]},s,n)).join(", "))+" }";case"enum":{const i=Object.keys(t)[0],o=e.type.variants.find(a=>a.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const s=t[i];return Go(o.fields,()=>i,a=>{const c=Object.keys(s).map(u=>{const f=s[u],y=a.find(p=>p.name===u);if(!y)throw new Error(`Field not found: ${u}`);return u+": "+Pr.formatIdlData(y,f,n)}).join(", ");return`${i} { ${c} }`},a=>{const c=Object.entries(s).map(([u,f])=>u+": "+Pr.formatIdlData({name:"",type:a[u]},f,n)).join(", ");return`${i} { ${c} }`})}case"type":return Pr.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(n=>{const i=IC(n.name);if(n.hasOwnProperty("accounts")){const o=t?`${t} > ${i}`:i;return Pr.flattenIdlAccounts(n.accounts,o)}else return{...n,name:t?`${t} > ${i}`:i}}).flat()}}function IC(r){const e=r.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}class BC{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map(i=>{const o=t.find(s=>s.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Oe.typeDefLayout({typeDef:o,types:t})}]});this.accountLayouts=new Map(n)}async encode(e,t){const n=ue.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.layout.encode(t,n),s=n.slice(0,o),a=this.accountDiscriminator(e);return ue.Buffer.concat([a,s])}decode(e,t){const n=this.accountDiscriminator(e);if(n.compare(t.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,n]of this.accountLayouts)if(e.subarray(0,n.discriminator.length).equals(ue.Buffer.from(n.discriminator)))return this.decodeUnchecked(t,e);throw new Error("Account not found")}decodeUnchecked(e,t){const n=this.accountDiscriminator(e),i=t.subarray(n.length),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.layout.decode(i)}memcmp(e,t){const n=this.accountDiscriminator(e);return{offset:0,bytes:zt.encode(t?ue.Buffer.concat([n,t]):n)}}size(e){return this.accountDiscriminator(e).length+Oe.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(i=>i.name===e);if(!n)throw new Error(`Account not found: ${e}`);return ue.Buffer.from(n.discriminator)}}class TC{constructor(e){if(!e.events){this.layouts=new Map;return}const t=e.types;if(!t)throw new Error("Events require `idl.types`");const n=e.events.map(i=>{const o=t.find(s=>s.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:Oe.typeDefLayout({typeDef:o,types:t})}]});this.layouts=new Map(n)}decode(e){let t;try{t=B_(e)}catch{return null}for(const[n,i]of this.layouts){const o=t.subarray(0,i.discriminator.length);if(o.equals(ue.Buffer.from(i.discriminator)))return{name:n,data:i.layout.decode(t.subarray(o.length))}}return null}}class OC{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const n=t.filter(i=>!i.generics).map(i=>[i.name,Oe.typeDefLayout({typeDef:i,types:t})]);this.typeLayouts=new Map(n)}encode(e,t){const n=ue.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(t,n);return n.slice(0,o)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class sE{constructor(e){this.instruction=new CC(e),this.accounts=new BC(e),this.events=new TC(e),this.types=new OC(e)}}class Dr{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var vl=Dr;function NC(r,e){return e.property?r+"["+e.property+"]":r}class eo extends Dr{isCount(){throw new Error("ExternalLayout is abstract")}}class aE extends eo{constructor(e,t,n){if(!(e instanceof Dr))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof wl||this.layout instanceof cE}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return n===void 0&&(n=0),this.layout.encode(e,t,n+this.offset)}}class wl extends Dr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class cE extends Dr{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return n===void 0&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const Ud=Math.pow(2,32);function uE(r){const e=Math.floor(r/Ud),t=r-e*Ud;return{hi32:e,lo32:t}}function lE(r,e){return r*Ud+e}class DC extends Dr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return lE(i,n)}encode(e,t,n){n===void 0&&(n=0);const i=uE(e);return t.writeUInt32LE(i.lo32,n),t.writeUInt32LE(i.hi32,n+4),8}}class PC extends Dr{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const n=e.readUInt32LE(t),i=e.readInt32LE(t+4);return lE(i,n)}encode(e,t,n){n===void 0&&(n=0);const i=uE(e);return t.writeUInt32LE(i.lo32,n),t.writeInt32LE(i.hi32,n+4),8}}class LC extends Dr{constructor(e,t,n){if(!(Array.isArray(e)&&e.reduce((o,s)=>o&&s instanceof Dr,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&n===void 0&&(n=t,t=void 0);for(const o of e)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((o,s)=>o+s.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;try{n=this.fields.reduce((i,o)=>{const s=o.getSpan(e,t);return t+=s,i+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,t){t===void 0&&(t=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){n===void 0&&(n=0);const i=n;let o=0,s=0;for(const a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(s=a.encode(u,t,n),0>c&&(c=a.getSpan(t,n)))}o=n,n+=c}return o+s-i}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class fE{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class dy extends fE{constructor(e,t){if(!(e instanceof eo&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class dE extends Dr{constructor(e,t,n){const i=e instanceof wl||e instanceof cE;if(i)e=new dy(new aE(e));else if(e instanceof eo&&e.isCount())e=new dy(e);else if(!(e instanceof fE))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Dr))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&i&&(o+=e.layout.span)),super(o,n),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let n;const i=this.discriminator,o=i.decode(e,t);let s=this.registry[o];if(s===void 0){let a=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[s.property]=this.defaultLayout.decode(e,t+a)}else n=s.decode(e,t);return n}encode(e,t,n){n===void 0&&(n=0);const i=this.getSourceVariant(e);if(i===void 0){const o=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=o.layout.span),o.encode(e[o.property],t,n),a+s.encode(e[s.property],t,n+a)}return i.encode(e,t,n)}addVariant(e,t,n){const i=new FC(this,e,t,n);return this.registry[e]=i,i}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class FC extends Dr{constructor(e,t,n,i){if(!(e instanceof dE))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Dr))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let o=i;if(this.layout&&(this.layout.encode(e[this.property],t,n+i),o+=this.layout.getSpan(t,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class MC extends Dr{constructor(e,t){if(!(e instanceof eo&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof eo||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){t===void 0&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let i=this.length;if(this.length instanceof eo&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(NC("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,i,"hex"),this.length instanceof eo&&this.length.encode(i,t,n),i}}var UC=(r,e,t)=>new aE(r,e,t),zC=r=>new wl(1,r),Vn=r=>new wl(4,r),HC=r=>new DC(r),ti=r=>new PC(r),Wt=(r,e,t)=>new LC(r,e,t),hE=(r,e,t)=>new dE(r,e,t),Za=(r,e)=>new MC(r,e);class jC extends vl{constructor(e){super(-1,e),this.property=e,this.layout=Wt([Vn("length"),Vn("lengthPadding"),Za(UC(Vn(),-8),"chars")],this.property)}encode(e,t,n=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Vn().span+Vn().span+new gr(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function _l(r){return new jC(r)}function nn(r){return Za(32,r)}const Kr=hE(Vn("instruction"));Kr.addVariant(0,Wt([ti("lamports"),ti("space"),nn("owner")]),"createAccount");Kr.addVariant(1,Wt([nn("owner")]),"assign");Kr.addVariant(2,Wt([ti("lamports")]),"transfer");Kr.addVariant(3,Wt([nn("base"),_l("seed"),ti("lamports"),ti("space"),nn("owner")]),"createAccountWithSeed");Kr.addVariant(4,Wt([nn("authorized")]),"advanceNonceAccount");Kr.addVariant(5,Wt([ti("lamports")]),"withdrawNonceAccount");Kr.addVariant(6,Wt([nn("authorized")]),"initializeNonceAccount");Kr.addVariant(7,Wt([nn("authorized")]),"authorizeNonceAccount");Kr.addVariant(8,Wt([ti("space")]),"allocate");Kr.addVariant(9,Wt([nn("base"),_l("seed"),ti("space"),nn("owner")]),"allocateWithSeed");Kr.addVariant(10,Wt([nn("base"),_l("seed"),nn("owner")]),"assignWithSeed");Kr.addVariant(11,Wt([ti("lamports"),_l("seed"),nn("owner")]),"transferWithSeed");Math.max(...Object.values(Kr.registry).map(r=>r.span));class $C extends vl{constructor(e,t,n,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function hy(r){return new $C(Za(32),e=>new Q(e),e=>e.toBuffer(),r)}Wt([Vn("version"),Vn("state"),hy("authorizedPubkey"),hy("nonce"),Wt([HC("lamportsPerSignature")],"feeCalculator")]);new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var py={exports:{}};(function(r,e){var t=typeof self<"u"?self:SC,n=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(s){var a={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function c(l){return l&&DataView.prototype.isPrototypeOf(l)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(l){return l&&u.indexOf(Object.prototype.toString.call(l))>-1};function y(l){if(typeof l!="string"&&(l=String(l)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(l))throw new TypeError("Invalid character in header field name");return l.toLowerCase()}function p(l){return typeof l!="string"&&(l=String(l)),l}function d(l){var h={next:function(){var R=l.shift();return{done:R===void 0,value:R}}};return a.iterable&&(h[Symbol.iterator]=function(){return h}),h}function x(l){this.map={},l instanceof x?l.forEach(function(h,R){this.append(R,h)},this):Array.isArray(l)?l.forEach(function(h){this.append(h[0],h[1])},this):l&&Object.getOwnPropertyNames(l).forEach(function(h){this.append(h,l[h])},this)}x.prototype.append=function(l,h){l=y(l),h=p(h);var R=this.map[l];this.map[l]=R?R+", "+h:h},x.prototype.delete=function(l){delete this.map[y(l)]},x.prototype.get=function(l){return l=y(l),this.has(l)?this.map[l]:null},x.prototype.has=function(l){return this.map.hasOwnProperty(y(l))},x.prototype.set=function(l,h){this.map[y(l)]=p(h)},x.prototype.forEach=function(l,h){for(var R in this.map)this.map.hasOwnProperty(R)&&l.call(h,this.map[R],R,this)},x.prototype.keys=function(){var l=[];return this.forEach(function(h,R){l.push(R)}),d(l)},x.prototype.values=function(){var l=[];return this.forEach(function(h){l.push(h)}),d(l)},x.prototype.entries=function(){var l=[];return this.forEach(function(h,R){l.push([R,h])}),d(l)},a.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function b(l){if(l.bodyUsed)return Promise.reject(new TypeError("Already read"));l.bodyUsed=!0}function E(l){return new Promise(function(h,R){l.onload=function(){h(l.result)},l.onerror=function(){R(l.error)}})}function A(l){var h=new FileReader,R=E(h);return h.readAsArrayBuffer(l),R}function g(l){var h=new FileReader,R=E(h);return h.readAsText(l),R}function w(l){for(var h=new Uint8Array(l),R=new Array(h.length),N=0;N<h.length;N++)R[N]=String.fromCharCode(h[N]);return R.join("")}function k(l){if(l.slice)return l.slice(0);var h=new Uint8Array(l.byteLength);return h.set(new Uint8Array(l)),h.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(l){this._bodyInit=l,l?typeof l=="string"?this._bodyText=l:a.blob&&Blob.prototype.isPrototypeOf(l)?this._bodyBlob=l:a.formData&&FormData.prototype.isPrototypeOf(l)?this._bodyFormData=l:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)?this._bodyText=l.toString():a.arrayBuffer&&a.blob&&c(l)?(this._bodyArrayBuffer=k(l.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(l)||f(l))?this._bodyArrayBuffer=k(l):this._bodyText=l=Object.prototype.toString.call(l):this._bodyText="",this.headers.get("content-type")||(typeof l=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(l)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var l=b(this);if(l)return l;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var l=b(this);if(l)return l;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function L(l){var h=l.toUpperCase();return F.indexOf(h)>-1?h:l}function z(l,h){h=h||{};var R=h.body;if(l instanceof z){if(l.bodyUsed)throw new TypeError("Already read");this.url=l.url,this.credentials=l.credentials,h.headers||(this.headers=new x(l.headers)),this.method=l.method,this.mode=l.mode,this.signal=l.signal,!R&&l._bodyInit!=null&&(R=l._bodyInit,l.bodyUsed=!0)}else this.url=String(l);if(this.credentials=h.credentials||this.credentials||"same-origin",(h.headers||!this.headers)&&(this.headers=new x(h.headers)),this.method=L(h.method||this.method||"GET"),this.mode=h.mode||this.mode||null,this.signal=h.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(R)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function H(l){var h=new FormData;return l.trim().split("&").forEach(function(R){if(R){var N=R.split("="),B=N.shift().replace(/\+/g," "),M=N.join("=").replace(/\+/g," ");h.append(decodeURIComponent(B),decodeURIComponent(M))}}),h}function D(l){var h=new x,R=l.replace(/\r?\n[\t ]+/g," ");return R.split(/\r?\n/).forEach(function(N){var B=N.split(":"),M=B.shift().trim();if(M){var $=B.join(":").trim();h.append(M,$)}}),h}I.call(z.prototype);function P(l,h){h||(h={}),this.type="default",this.status=h.status===void 0?200:h.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in h?h.statusText:"OK",this.headers=new x(h.headers),this.url=h.url||"",this._initBody(l)}I.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},P.error=function(){var l=new P(null,{status:0,statusText:""});return l.type="error",l};var j=[301,302,303,307,308];P.redirect=function(l,h){if(j.indexOf(h)===-1)throw new RangeError("Invalid status code");return new P(null,{status:h,headers:{location:l}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(h,R){this.message=h,this.name=R;var N=Error(h);this.stack=N.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function S(l,h){return new Promise(function(R,N){var B=new z(l,h);if(B.signal&&B.signal.aborted)return N(new s.DOMException("Aborted","AbortError"));var M=new XMLHttpRequest;function $(){M.abort()}M.onload=function(){var C={status:M.status,statusText:M.statusText,headers:D(M.getAllResponseHeaders()||"")};C.url="responseURL"in M?M.responseURL:C.headers.get("X-Request-URL");var m="response"in M?M.response:M.responseText;R(new P(m,C))},M.onerror=function(){N(new TypeError("Network request failed"))},M.ontimeout=function(){N(new TypeError("Network request failed"))},M.onabort=function(){N(new s.DOMException("Aborted","AbortError"))},M.open(B.method,B.url,!0),B.credentials==="include"?M.withCredentials=!0:B.credentials==="omit"&&(M.withCredentials=!1),"responseType"in M&&a.blob&&(M.responseType="blob"),B.headers.forEach(function(C,m){M.setRequestHeader(m,C)}),B.signal&&(B.signal.addEventListener("abort",$),M.onreadystatechange=function(){M.readyState===4&&B.signal.removeEventListener("abort",$)}),M.send(typeof B._bodyInit>"u"?null:B._bodyInit)})}return S.polyfill=!0,o.fetch||(o.fetch=S,o.Headers=x,o.Request=z,o.Response=P),s.Headers=x,s.Request=z,s.Response=P,s.fetch=S,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,r.exports=e})(py,py.exports);Ee.rustEnum([Ee.struct([],"uninitialized"),Ee.struct([Ee.option(Ee.publicKey(),"authorityAddress")],"buffer"),Ee.struct([Ee.publicKey("programdataAddress")],"program"),Ee.struct([Ee.u64("slot"),Ee.option(Ee.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Ee.u32());const zd="Program log: ",pE="Program data: ",WC=zd.length,KC=pE.length;class VC{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new mE(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,n){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((i=this._eventListeners.get(e))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(s,a)=>{if(!s.err)for(const c of this._eventParser.parseLogs(s.logs)){const u=this._eventListeners.get(c.name);u&&u.forEach(f=>{const y=this._eventCallbacks.get(f);if(y){const[,p]=y;p(c.data,a.slot,s.signature)}})}},n)),o}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),i=i.filter(o=>o!==e),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class mE{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new GC(e),i=new qC;let o=n.next();for(;o!==null;){let[s,a,c]=this.handleLog(i,o,t);s&&(yield s),a&&i.push(a),c&&i.pop(),o=n.next()}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(zd)||e.startsWith(pE)){const n=e.startsWith(zd)?e.slice(WC):e.slice(KC),i=this.coder.events.decode(n);if(t&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class qC{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class GC{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}function El(r,e){var t,n;let i={};const o=r.args?r.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${r==null?void 0:r.name} expecting: ${(n=(t=r.args)===null||t===void 0?void 0:t.map(s=>s.name))!==null&&n!==void 0?n:[]}`);i=e.pop()}return[e,i]}class Ou{static build(e,t,n){if(e.name==="_inner")throw new li("the _inner name is reserved");const i=(...o)=>{const[s,a]=El(e,[...o]);T_(e.accounts,a.accounts),YC(e,...o);const c=i.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),iE("debug-logs")&&console.log("Outgoing account metas:",c),new Ve({keys:c,programId:n,data:t(e.name,cC(e,...s))})};return i.accounts=o=>Ou.accountsArray(o,e.accounts,n,e.name),i}static accountsArray(e,t,n,i){return e?t.map(o=>{if(hi(o)){const f=e[o.name];return Ou.accountsArray(f,o.accounts,n,i).flat()}let s;try{s=un(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const a=o.optional&&s.equals(n),c=!!(o.writable&&!a),u=!!(o.signer&&!a);return{pubkey:s,isWritable:c,isSigner:u}}).flat():[]}}function YC(r,...e){}class ZC{static build(e,t){return(...i)=>{var o,s,a;const[,c]=El(e,[...i]),u=new Fe;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=c.preInstructions)===null||o===void 0||o.forEach(f=>u.add(f)),(s=c.instructions)===null||s===void 0||s.forEach(f=>u.add(f)),u.add(t(...i)),(a=c.postInstructions)===null||a===void 0||a.forEach(f=>u.add(f)),u}}}class XC{static build(e,t,n,i){return async(...s)=>{var a;const c=t(...s),[,u]=El(e,[...s]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(c,(a=u.signers)!==null&&a!==void 0?a:[],u.options)}catch(f){throw oE(f,n)}}}}class QC{static build(e,t,n,i){var o;return((o=e.accounts)!==null&&o!==void 0?o:[]).reduce((s,a)=>(s[a.name]=new JC(e,a,n,i,t),s),{})}}class JC{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,i,o){this._idlAccount=t,this._programId=n,this._provider=i??Md(),this._coder=o??new sE(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:i,context:o}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:i}=await this.fetchNullableAndContext(e,t);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:i}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(i=>i?i.data:null)}async fetchMultipleAndContext(e,t){return(await xC(this._provider.connection,e.map(i=>un(i)),t)).map(i=>{if(i==null)return null;const{account:o,context:s}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:s}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),n=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:o,account:s})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(e,t){const n=Ws.get(e.toString());if(n)return n.ee;const i=new J3;e=un(e);const o=this._provider.connection.onAccountChange(e,s=>{const a=this._coder.accounts.decode(this._idlAccount.name,s.data);i.emit("change",a)},t);return Ws.set(e.toString(),{ee:i,listener:o}),i}async unsubscribe(e){let t=Ws.get(e.toString());if(!t){console.warn("Address is not subscribed");return}Ws&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{Ws.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return tt.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(un(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(un(e),t)}}const Ws=new Map;class eI{static build(e,t,n,i,o,s,a){return async(...u)=>{var f;const y=t(...u),[,p]=El(e,[...u]);let d;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await i.simulate(y,p.signers,(f=p.options)===null||f===void 0?void 0:f.commitment)}catch(E){throw oE(E,n)}if(d===void 0)throw new Error("Unable to simulate transaction");const x=d.logs;if(!x)throw new Error("Simulated logs not found");const b=[];if(a.events){let E=new mE(s,o);for(const A of E.parseLogs(x))b.push(A)}return{events:b,raw:x}}}}function W0(r){return new yE(Za(8),e=>rI.fromBuffer(e),e=>e.toBuffer(),r)}function Bc(r){return new yE(Za(32),e=>new Q(e),e=>e.toBuffer(),r)}function K0(r,e){return new tI(r,e)}class yE extends vl{constructor(e,t,n,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class tI extends vl{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Vn()}encode(e,t,n=0){return e==null?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(n===0)return null;if(n===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}let rI=class gE extends gr{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new gE([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};const nI=Wt([Bc("mint"),Bc("owner"),W0("amount"),K0(Bc(),"delegate"),(r=>{const e=hE(zC("discriminator"),null,r);return e.addVariant(0,Wt([]),"uninitialized"),e.addVariant(1,Wt([]),"initialized"),e.addVariant(2,Wt([]),"frozen"),e})("state"),K0(W0(),"isNative"),W0("delegatedAmount"),K0(Bc(),"closeAuthority")]);function iI(r){return nI.decode(r)}class oI{constructor(e,t,n,i,o,s,a,c){this._args=e,this._accounts=t,this._provider=n,this._programId=i,this._idlIx=o,this._idlTypes=a,this._customResolver=c,this._accountStore=new sI(n,s,i)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16){const t=s=>hi(s)?s.accounts.some(t):!!(s.address||s.pda||s.relations),n=(s,a=[],c=[])=>{for(const u of s)hi(u)?c.push(...n(u.accounts,[...a,u.name])):c.push([...a,u.name]);return c},i=this._idlIx.accounts.filter(t),o=n(i).filter(s=>!this.get(s)).map(s=>s.reduce((a,c)=>a+"."+c)).map(s=>`\`${s}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((n,i)=>n&&n[i],this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach((i,o)=>{var s;o===e.length-1&&(n[i]=t),n[i]=(s=n[i])!==null&&s!==void 0?s:{},n=n[i]})}resolveOptionalsHelper(e,t){const n={};for(const i of t){const o=i.name,s=e[o];s!==void 0&&(xE(s)?hi(i)?n[o]=this.resolveOptionalsHelper(s,i.accounts):n[o]=vE(s):s!==null?n[o]=un(s):i.optional&&(n[o]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const n in e){const i=e[n];hi(i)&&this.resolveEventCpi(i.accounts,[...t,i.name]);const o=+n+1;if(o===e.length)return;const s=e[n].name,a=e[o].name;if(s==="eventAuthority"&&a==="program"){const c=[...t,s],u=[...t,a];this.get(c)||this.set(c,Q.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),this.get(u)||this.set(u,this._programId);return}}}resolveConst(e,t=[]){for(const n of e){const i=n.name;if(hi(n))this.resolveConst(n.accounts,[...t,i]);else{const o=n;if((o.signer||o.address)&&!this.get([...t,i])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,i],this._provider.publicKey)}o.address&&this.set([...t,i],un(o.address))}}}}async resolvePdasAndRelations(e,t=[]){let n=0;for(const i of e){const o=i.name;if(hi(i))n+=await this.resolvePdasAndRelations(i.accounts,[...t,o]);else{const s=i;if((s.pda||s.relations)&&!this.get([...t,o])){n++;try{if(s.pda){const a=await Promise.all(s.pda.seeds.map(f=>this.toBuffer(f,t)));if(a.some(f=>!f))continue;const c=await this.parseProgramId(s,t),[u]=Q.findProgramAddressSync(a,c);this.set([...t,o],u)}}catch{}try{if(s.relations){const a=this.get([...t,s.relations[0]]);if(a){const c=await this._accountStore.fetchAccount({publicKey:a});this.set([...t,o],c[o])}}}catch{}}}}return n}async parseProgramId(e,t=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.program))return this._programId;const i=await this.toBuffer(e.pda.program,t);if(!i)throw new Error(`Program seed not resolved: ${e.name}`);return new Q(i)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),i=this._idlIx.args.findIndex(a=>a.name===t);if(i===-1)throw new Error(`Unable to find argument for seed: ${t}`);const o=n.reduce((a,c)=>(a??{})[c],this._args[i]);if(o===void 0)return;const s=this.getType(this._idlIx.args[i].type,n);return this.toBufferValue(s,o)}async toBufferAccount(e,t=[]){const[n,...i]=e.path.split("."),o=this.get([...t,n]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let a=await this._accountStore.fetchAccount({publicKey:o,name:e.account}),c=i;for(;c.length>0;)a=a[c[0]],c=c.slice(1);if(a===void 0)return;const u=this.getType({defined:{name:e.account}},i);return this.toBufferValue(u,a)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Buffer.from([t]);case"u16":case"i16":return new gr(t).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new gr(t).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new gr(t).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new gr(t).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new gr(t).toArrayLike(Buffer,"le",32);case"string":return Buffer.from(t);case"pubkey":return t.toBuffer();case"bytes":return Buffer.from(t);default:if(e!=null&&e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var n;const i=(n=e==null?void 0:e.defined)===null||n===void 0?void 0:n.name;if(i){if(i==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const o=this._idlTypes.find(f=>f.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[s,...a]=t,u=o.type.fields.find(f=>f.name===s);if(!u)throw new Error(`Field not found: ${s}`);return this.getType(u.type,a)}return e}}class sI{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const n=e.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(e);if(i===null)throw new Error(`Account not found: ${n}`);if(t==="tokenAccount"){const o=iI(i.data);this._cache.set(n,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const s=Object.values(o)[0];if(s){const a=s.coder.accounts.decodeAny(i.data);this._cache.set(n,a)}}}}return this._cache.get(n)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await xs.fetchIdl(e,this._provider);if(n){const i=new xs(n,this._provider);this._idls[t]=i.account}}return this._idls[t]}}class aI{static build(e,t,n,i,o,s,a,c,u,f,y){return(...p)=>new cI(p,i,o,s,a,c,e,t,n,u,f,y)}}function xE(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function vE(r,e){const t={};for(const n in r){const i=r[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");t[n]=xE(i)?vE(i):un(i)}return t}class cI{constructor(e,t,n,i,o,s,a,c,u,f,y,p){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=i,this._simulateFn=o,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new oI(e,this._accounts,a,c,u,f,y,p)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class uI{static build(e,t,n,i){const o=t.accounts.find(c=>c.writable),s=!!t.returns;return o||!s?void 0:async(...c)=>{let u=await n(...c);const f=`Program return: ${e} `;let y=u.raw.find(b=>b.startsWith(f));if(!y)throw new Error("View expected return log");let p=B_(y.slice(f.length)),d=t.returns;if(!d)throw new Error("View expected return type");return Oe.fieldLayout({type:d},i.types).decode(p)}}}class lI{static build(e,t,n,i,o){const s={},a={},c={},u={},f={},y={},p=aC(e),d=e.accounts?QC.build(e,t,n,i):{};return e.instructions.forEach(x=>{const b=Ou.build(x,(F,L)=>t.instruction.encode(F,L),n),E=ZC.build(x,b),A=XC.build(x,E,p,i),g=eI.build(x,E,p,i,t,n,e),w=uI.build(n,x,g,e),k=aI.build(i,n,x,b,E,A,g,w,d,e.types||[],o==null?void 0:o(x)),I=x.name;a[I]=b,c[I]=E,s[I]=A,u[I]=g,f[I]=k,w&&(y[I]=w)}),[s,a,c,d,u,f,y]}}class xs{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=Md(),n,i){this._idl=sC(e),this._rawIdl=e,this._provider=t,this._programId=un(e.address),this._coder=n??new sE(this._idl),this._events=new VC(this._programId,t,this._coder);const[o,s,a,c,u,f,y]=lI.build(this._idl,this._coder,this._programId,t,i);this.rpc=o,this.instruction=s,this.transaction=a,this.account=c,this.simulate=u,this.methods=f,this.views=y}static async at(e,t){const n=un(e),i=await xs.fetchIdl(n,t);if(!i)throw new Error(`IDL not found for program: ${e.toString()}`);return new xs(i,t)}static async fetchIdl(e,t){t=t??Md();const n=un(e),i=await rC(n),o=await t.connection.getAccountInfo(i);if(!o)return null;let s=oC(o.data.slice(8));const a=X3(s.data);return JSON.parse(tC(a))}addEventListener(e,t,n){return this._events.addEventListener(e,t,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new Q("11111111111111111111111111111111");function fI(){console.log("🔧 環境変数デバッグ:",{heliusApiKey:`${"c960fbe9-1c0e-4ece-b626-fb3b48e7bf65".slice(0,8)}...`,mode:"production",dev:!1});const e={programId:"7r3R1S43BS9fQbh1eBhM63u8XZJd7bYRtgMrAQRNrfcB",network:"devnet",rpcUrl:"https://api.devnet.solana.com"};return console.log("📋 設定読み込み完了:"),console.log(`  - Program ID: ${e.programId}`),console.log(`  - Network: ${e.network}`),console.log(`  - RPC URL: ${e.rpcUrl.split("?")[0]}?api-key=***`),e}const To=fI();class dI{constructor(){nt(this,"logs",[]);nt(this,"logElement",null);typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{this.logElement=document.getElementById("logs")}):this.logElement=document.getElementById("logs"))}addLog(e,t){const n={timestamp:new Date,level:e,message:t};switch(this.logs.push(n),e){case"error":console.error(t);break;case"warn":console.warn(t);break;case"success":console.log(`✅ ${t}`);break;default:console.log(t)}this.updateLogDisplay()}updateLogDisplay(){if(!this.logElement)return;const e=this.logs.slice(-50).map(t=>{const n=t.timestamp.toLocaleTimeString(),i=this.getLogIcon(t.level);return`[${n}] ${i} ${t.message}`}).join(`
`);this.logElement.textContent=e,this.logElement.scrollTop=this.logElement.scrollHeight}getLogIcon(e){switch(e){case"error":return"❌";case"warn":return"⚠️";case"success":return"✅";default:return"📋"}}info(e){this.addLog("info",e)}warn(e){this.addLog("warn",e)}error(e){this.addLog("error",e)}success(e){this.addLog("success",e)}clear(){this.logs=[],this.logElement&&(this.logElement.textContent=`ログをクリアしました...
`)}getLogs(){return[...this.logs]}}const ct=new dI;typeof window<"u"&&(window.Buffer=ue.Buffer);class hI{constructor(){nt(this,"connection");nt(this,"wallet");this.connection=new Od(To.rpcUrl,"confirmed"),this.wallet={connected:!1,publicKey:null,balance:0}}async testConnection(){try{ct.info("🔗 RPC接続テスト開始...");const e=new AbortController,t=setTimeout(()=>e.abort(),5e3);try{const n=await this.connection.getSlot();clearTimeout(t),ct.success(`現在のスロット: ${n}`);try{const i=await this.connection.getBlockTime(n);if(i){const o=new Date(i*1e3);ct.info(`ブロック時刻: ${o.toLocaleString()}`)}}catch{ct.warn("ブロック時刻取得はスキップされました（接続は正常）")}return ct.success("RPC接続テスト成功"),!0}catch(n){throw clearTimeout(t),n}}catch(e){return ct.error(`RPC接続テスト失敗: ${e instanceof Error?e.message:String(e)}`),!1}}async connectWallet(){try{if(ct.info("👛 ウォレット接続を試行中..."),!window.solana||!window.solana.isPhantom)throw new Error("Phantom ウォレットが見つかりません。https://phantom.app からインストールしてください。");const t=(await window.solana.connect()).publicKey;ct.success(`ウォレット接続成功: ${t.toString()}`);const i=await this.connection.getBalance(t)/Vc;return this.wallet={connected:!0,publicKey:t,balance:i},ct.info(`ウォレット残高: ${i.toFixed(4)} SOL`),this.wallet}catch(e){throw ct.error(`ウォレット接続エラー: ${e instanceof Error?e.message:String(e)}`),e}}async disconnectWallet(){try{window.solana&&await window.solana.disconnect(),this.wallet={connected:!1,publicKey:null,balance:0},ct.info("ウォレットを切断しました")}catch(e){ct.error(`ウォレット切断エラー: ${e instanceof Error?e.message:String(e)}`)}}async calculatePDAs(e){const t=new Q(To.programId),[n]=Q.findProgramAddressSync([ue.Buffer.from("user"),e.toBuffer()],t),[i]=Q.findProgramAddressSync([ue.Buffer.from("farm_space"),e.toBuffer()],t),[o]=Q.findProgramAddressSync([ue.Buffer.from("config")],t),[s]=Q.findProgramAddressSync([ue.Buffer.from("reward_mint")],t);return{userState:n,farmSpace:i,config:o,rewardMint:s}}async getGameState(){if(!this.wallet.publicKey)throw new Error("ウォレットが接続されていません");return{userInitialized:!1,hasFarmSpace:!1,growPower:0,tokenBalance:0,lastHarvestTime:0,pendingReferralRewards:0}}async getDetailedGameState(){return this.wallet.publicKey?{userState:null,farmSpace:null,config:null,tokenBalance:0,userInitialized:!1,hasFarmSpace:!1,growPower:0,pendingReferralRewards:0}:{userState:null,farmSpace:null,config:null,tokenBalance:0,userInitialized:!1,hasFarmSpace:!1,growPower:0,pendingReferralRewards:0}}getWalletState(){return{...this.wallet}}getConnection(){return this.connection}getNetworkInfo(){return{network:To.network,rpcUrl:To.rpcUrl.split("?")[0]+(To.rpcUrl.includes("api-key")?"?api-key=***":""),programId:To.programId}}getProvider(){if(!window.solana||!this.wallet.publicKey)throw new Error("ウォレットが接続されていません");return new La(this.connection,{publicKey:this.wallet.publicKey,signTransaction:async e=>{if(!window.solana)throw new Error("Wallet not connected");return await window.solana.signTransaction(e)},signAllTransactions:async e=>{if(!window.solana)throw new Error("Wallet not connected");return await window.solana.signAllTransactions(e)}},{commitment:"confirmed"})}async airdropSol(e=2){if(!this.wallet.publicKey)throw new Error("ウォレットが接続されていません");try{ct.info(`💰 ${e} SOL をエアドロップ中...`);const n=await new Od("https://api.devnet.solana.com","confirmed").requestAirdrop(this.wallet.publicKey,e*Vc);await this.connection.confirmTransaction(n,"confirmed");const i=await this.connection.getBalance(this.wallet.publicKey);this.wallet.balance=i/Vc,ct.success(`エアドロップ完了: ${e} SOL`),ct.info(`更新された残高: ${this.wallet.balance.toFixed(4)} SOL`)}catch(t){throw ct.error(`エアドロップエラー: ${t instanceof Error?t.message:String(t)}`),t}}}const kp=new Q("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const Cp=new Q("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new Q("So11111111111111111111111111111111111111112");new Q("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const Ip=r=>{const e=r.decode.bind(r),t=r.encode.bind(r);return{decode:e,encode:t}};var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});function pI(r){{const e=Buffer.from(r);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var mI=Xa.toBigIntLE=pI;function yI(r){{const e=r.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Xa.toBigIntBE=yI;function gI(r,e){{const t=r.toString(16),n=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var xI=Xa.toBufferLE=gI;function vI(r,e){{const t=r.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}Xa.toBufferBE=vI;const wI=r=>e=>{const t=et(r,e),{encode:n,decode:i}=Ip(t),o=t;return o.decode=(s,a)=>{const c=i(s,a);return mI(Buffer.from(c))},o.encode=(s,a,c)=>{const u=xI(s,r);return n(u,a,c)},o},_I=wI(8),EI=r=>{const e=Be(r),{encode:t,decode:n}=Ip(e),i=e;return i.decode=(o,s)=>!!n(o,s),i.encode=(o,s,a)=>{const c=Number(o);return t(c,s,a)},i},my=r=>{const e=et(32,r),{encode:t,decode:n}=Ip(e),i=e;return i.decode=(o,s)=>{const a=n(o,s);return new Q(a)},i.encode=(o,s,a)=>{const c=o.toBuffer();return t(c,s,a)},i};class bI extends Error{constructor(e){super(e)}}class AI extends bI{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const SI=he([de("mintAuthorityOption"),my("mintAuthority"),_I("supply"),Be("decimals"),EI("isInitialized"),de("freezeAuthorityOption"),my("freezeAuthority")]);SI.span;async function V0(r,e,t=!1,n=kp,i=Cp){if(!t&&!Q.isOnCurve(e.toBuffer()))throw new AI;const[o]=await Q.findProgramAddress([e.toBuffer(),n.toBuffer(),r.toBuffer()],i);return o}function RI(r,e,t,n,i=kp,o=Cp){return kI(r,e,t,n,Buffer.alloc(0),i,o)}function kI(r,e,t,n,i,o=kp,s=Cp){const a=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:tt.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new Ve({keys:a,programId:s,data:i})}var wE={exports:{}};function CI(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var q0={exports:{}},yy;function Te(){return yy||(yy=1,function(r,e){(function(t,n){r.exports=n()})(ye,function(){var t=t||function(n,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof ye<"u"&&ye.crypto&&(o=ye.crypto),!o&&typeof CI=="function")try{o=Ov}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function g(){}return function(w){var k;return g.prototype=w,k=new g,g.prototype=null,k}}(),c={},u=c.lib={},f=u.Base=function(){return{extend:function(g){var w=a(this);return g&&w.mixIn(g),(!w.hasOwnProperty("init")||this.init===w.init)&&(w.init=function(){w.$super.init.apply(this,arguments)}),w.init.prototype=w,w.$super=this,w},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var w in g)g.hasOwnProperty(w)&&(this[w]=g[w]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),y=u.WordArray=f.extend({init:function(g,w){g=this.words=g||[],w!=i?this.sigBytes=w:this.sigBytes=g.length*4},toString:function(g){return(g||d).stringify(this)},concat:function(g){var w=this.words,k=g.words,I=this.sigBytes,F=g.sigBytes;if(this.clamp(),I%4)for(var L=0;L<F;L++){var z=k[L>>>2]>>>24-L%4*8&255;w[I+L>>>2]|=z<<24-(I+L)%4*8}else for(var H=0;H<F;H+=4)w[I+H>>>2]=k[H>>>2];return this.sigBytes+=F,this},clamp:function(){var g=this.words,w=this.sigBytes;g[w>>>2]&=4294967295<<32-w%4*8,g.length=n.ceil(w/4)},clone:function(){var g=f.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var w=[],k=0;k<g;k+=4)w.push(s());return new y.init(w,g)}}),p=c.enc={},d=p.Hex={stringify:function(g){for(var w=g.words,k=g.sigBytes,I=[],F=0;F<k;F++){var L=w[F>>>2]>>>24-F%4*8&255;I.push((L>>>4).toString(16)),I.push((L&15).toString(16))}return I.join("")},parse:function(g){for(var w=g.length,k=[],I=0;I<w;I+=2)k[I>>>3]|=parseInt(g.substr(I,2),16)<<24-I%8*4;return new y.init(k,w/2)}},x=p.Latin1={stringify:function(g){for(var w=g.words,k=g.sigBytes,I=[],F=0;F<k;F++){var L=w[F>>>2]>>>24-F%4*8&255;I.push(String.fromCharCode(L))}return I.join("")},parse:function(g){for(var w=g.length,k=[],I=0;I<w;I++)k[I>>>2]|=(g.charCodeAt(I)&255)<<24-I%4*8;return new y.init(k,w)}},b=p.Utf8={stringify:function(g){try{return decodeURIComponent(escape(x.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return x.parse(unescape(encodeURIComponent(g)))}},E=u.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new y.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=b.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var w,k=this._data,I=k.words,F=k.sigBytes,L=this.blockSize,z=L*4,H=F/z;g?H=n.ceil(H):H=n.max((H|0)-this._minBufferSize,0);var D=H*L,P=n.min(D*4,F);if(D){for(var j=0;j<D;j+=L)this._doProcessBlock(I,j);w=I.splice(0,D),k.sigBytes-=P}return new y.init(w,P)},clone:function(){var g=f.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});u.Hasher=E.extend({cfg:f.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){E.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var w=this._doFinalize();return w},blockSize:16,_createHelper:function(g){return function(w,k){return new g.init(k).finalize(w)}},_createHmacHelper:function(g){return function(w,k){return new A.HMAC.init(g,k).finalize(w)}}});var A=c.algo={};return c}(Math);return t})}(q0)),q0.exports}var G0={exports:{}},gy;function bl(){return gy||(gy=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(n){var i=t,o=i.lib,s=o.Base,a=o.WordArray,c=i.x64={};c.Word=s.extend({init:function(u,f){this.high=u,this.low=f}}),c.WordArray=s.extend({init:function(u,f){u=this.words=u||[],f!=n?this.sigBytes=f:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,f=u.length,y=[],p=0;p<f;p++){var d=u[p];y.push(d.high),y.push(d.low)}return a.create(y,this.sigBytes)},clone:function(){for(var u=s.clone.call(this),f=u.words=this.words.slice(0),y=f.length,p=0;p<y;p++)f[p]=f[p].clone();return u}})}(),t})}(G0)),G0.exports}var Y0={exports:{}},xy;function II(){return xy||(xy=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,o=i.WordArray,s=o.init,a=o.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,f=[],y=0;y<u;y++)f[y>>>2]|=c[y]<<24-y%4*8;s.call(this,f,u)}else s.apply(this,arguments)};a.prototype=o}}(),t.lib.WordArray})}(Y0)),Y0.exports}var Z0={exports:{}},vy;function BI(){return vy||(vy=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(c){for(var u=c.words,f=c.sigBytes,y=[],p=0;p<f;p+=2){var d=u[p>>>2]>>>16-p%4*8&65535;y.push(String.fromCharCode(d))}return y.join("")},parse:function(c){for(var u=c.length,f=[],y=0;y<u;y++)f[y>>>1]|=c.charCodeAt(y)<<16-y%2*16;return o.create(f,u*2)}},s.Utf16LE={stringify:function(c){for(var u=c.words,f=c.sigBytes,y=[],p=0;p<f;p+=2){var d=a(u[p>>>2]>>>16-p%4*8&65535);y.push(String.fromCharCode(d))}return y.join("")},parse:function(c){for(var u=c.length,f=[],y=0;y<u;y++)f[y>>>1]|=a(c.charCodeAt(y)<<16-y%2*16);return o.create(f,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})}(Z0)),Z0.exports}var X0={exports:{}},wy;function Eo(){return wy||(wy=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=n.enc;s.Base64={stringify:function(c){var u=c.words,f=c.sigBytes,y=this._map;c.clamp();for(var p=[],d=0;d<f;d+=3)for(var x=u[d>>>2]>>>24-d%4*8&255,b=u[d+1>>>2]>>>24-(d+1)%4*8&255,E=u[d+2>>>2]>>>24-(d+2)%4*8&255,A=x<<16|b<<8|E,g=0;g<4&&d+g*.75<f;g++)p.push(y.charAt(A>>>6*(3-g)&63));var w=y.charAt(64);if(w)for(;p.length%4;)p.push(w);return p.join("")},parse:function(c){var u=c.length,f=this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var p=0;p<f.length;p++)y[f.charCodeAt(p)]=p}var d=f.charAt(64);if(d){var x=c.indexOf(d);x!==-1&&(u=x)}return a(c,u,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,f){for(var y=[],p=0,d=0;d<u;d++)if(d%4){var x=f[c.charCodeAt(d-1)]<<d%4*2,b=f[c.charCodeAt(d)]>>>6-d%4*2,E=x|b;y[p>>>2]|=E<<24-p%4*8,p++}return o.create(y,p)}}(),t.enc.Base64})}(X0)),X0.exports}var Q0={exports:{}},_y;function TI(){return _y||(_y=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=n.enc;s.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var f=c.words,y=c.sigBytes,p=u?this._safe_map:this._map;c.clamp();for(var d=[],x=0;x<y;x+=3)for(var b=f[x>>>2]>>>24-x%4*8&255,E=f[x+1>>>2]>>>24-(x+1)%4*8&255,A=f[x+2>>>2]>>>24-(x+2)%4*8&255,g=b<<16|E<<8|A,w=0;w<4&&x+w*.75<y;w++)d.push(p.charAt(g>>>6*(3-w)&63));var k=p.charAt(64);if(k)for(;d.length%4;)d.push(k);return d.join("")},parse:function(c,u){u===void 0&&(u=!0);var f=c.length,y=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var d=0;d<y.length;d++)p[y.charCodeAt(d)]=d}var x=y.charAt(64);if(x){var b=c.indexOf(x);b!==-1&&(f=b)}return a(c,f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,f){for(var y=[],p=0,d=0;d<u;d++)if(d%4){var x=f[c.charCodeAt(d-1)]<<d%4*2,b=f[c.charCodeAt(d)]>>>6-d%4*2,E=x|b;y[p>>>2]|=E<<24-p%4*8,p++}return o.create(y,p)}}(),t.enc.Base64url})}(Q0)),Q0.exports}var J0={exports:{}},Ey;function bo(){return Ey||(Ey=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(n){var i=t,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.algo,u=[];(function(){for(var b=0;b<64;b++)u[b]=n.abs(n.sin(b+1))*4294967296|0})();var f=c.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,E){for(var A=0;A<16;A++){var g=E+A,w=b[g];b[g]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var k=this._hash.words,I=b[E+0],F=b[E+1],L=b[E+2],z=b[E+3],H=b[E+4],D=b[E+5],P=b[E+6],j=b[E+7],S=b[E+8],l=b[E+9],h=b[E+10],R=b[E+11],N=b[E+12],B=b[E+13],M=b[E+14],$=b[E+15],C=k[0],m=k[1],O=k[2],V=k[3];C=y(C,m,O,V,I,7,u[0]),V=y(V,C,m,O,F,12,u[1]),O=y(O,V,C,m,L,17,u[2]),m=y(m,O,V,C,z,22,u[3]),C=y(C,m,O,V,H,7,u[4]),V=y(V,C,m,O,D,12,u[5]),O=y(O,V,C,m,P,17,u[6]),m=y(m,O,V,C,j,22,u[7]),C=y(C,m,O,V,S,7,u[8]),V=y(V,C,m,O,l,12,u[9]),O=y(O,V,C,m,h,17,u[10]),m=y(m,O,V,C,R,22,u[11]),C=y(C,m,O,V,N,7,u[12]),V=y(V,C,m,O,B,12,u[13]),O=y(O,V,C,m,M,17,u[14]),m=y(m,O,V,C,$,22,u[15]),C=p(C,m,O,V,F,5,u[16]),V=p(V,C,m,O,P,9,u[17]),O=p(O,V,C,m,R,14,u[18]),m=p(m,O,V,C,I,20,u[19]),C=p(C,m,O,V,D,5,u[20]),V=p(V,C,m,O,h,9,u[21]),O=p(O,V,C,m,$,14,u[22]),m=p(m,O,V,C,H,20,u[23]),C=p(C,m,O,V,l,5,u[24]),V=p(V,C,m,O,M,9,u[25]),O=p(O,V,C,m,z,14,u[26]),m=p(m,O,V,C,S,20,u[27]),C=p(C,m,O,V,B,5,u[28]),V=p(V,C,m,O,L,9,u[29]),O=p(O,V,C,m,j,14,u[30]),m=p(m,O,V,C,N,20,u[31]),C=d(C,m,O,V,D,4,u[32]),V=d(V,C,m,O,S,11,u[33]),O=d(O,V,C,m,R,16,u[34]),m=d(m,O,V,C,M,23,u[35]),C=d(C,m,O,V,F,4,u[36]),V=d(V,C,m,O,H,11,u[37]),O=d(O,V,C,m,j,16,u[38]),m=d(m,O,V,C,h,23,u[39]),C=d(C,m,O,V,B,4,u[40]),V=d(V,C,m,O,I,11,u[41]),O=d(O,V,C,m,z,16,u[42]),m=d(m,O,V,C,P,23,u[43]),C=d(C,m,O,V,l,4,u[44]),V=d(V,C,m,O,N,11,u[45]),O=d(O,V,C,m,$,16,u[46]),m=d(m,O,V,C,L,23,u[47]),C=x(C,m,O,V,I,6,u[48]),V=x(V,C,m,O,j,10,u[49]),O=x(O,V,C,m,M,15,u[50]),m=x(m,O,V,C,D,21,u[51]),C=x(C,m,O,V,N,6,u[52]),V=x(V,C,m,O,z,10,u[53]),O=x(O,V,C,m,h,15,u[54]),m=x(m,O,V,C,F,21,u[55]),C=x(C,m,O,V,S,6,u[56]),V=x(V,C,m,O,$,10,u[57]),O=x(O,V,C,m,P,15,u[58]),m=x(m,O,V,C,B,21,u[59]),C=x(C,m,O,V,H,6,u[60]),V=x(V,C,m,O,R,10,u[61]),O=x(O,V,C,m,L,15,u[62]),m=x(m,O,V,C,l,21,u[63]),k[0]=k[0]+C|0,k[1]=k[1]+m|0,k[2]=k[2]+O|0,k[3]=k[3]+V|0},_doFinalize:function(){var b=this._data,E=b.words,A=this._nDataBytes*8,g=b.sigBytes*8;E[g>>>5]|=128<<24-g%32;var w=n.floor(A/4294967296),k=A;E[(g+64>>>9<<4)+15]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,E[(g+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,b.sigBytes=(E.length+1)*4,this._process();for(var I=this._hash,F=I.words,L=0;L<4;L++){var z=F[L];F[L]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return I},clone:function(){var b=a.clone.call(this);return b._hash=this._hash.clone(),b}});function y(b,E,A,g,w,k,I){var F=b+(E&A|~E&g)+w+I;return(F<<k|F>>>32-k)+E}function p(b,E,A,g,w,k,I){var F=b+(E&g|A&~g)+w+I;return(F<<k|F>>>32-k)+E}function d(b,E,A,g,w,k,I){var F=b+(E^A^g)+w+I;return(F<<k|F>>>32-k)+E}function x(b,E,A,g,w,k,I){var F=b+(A^(E|~g))+w+I;return(F<<k|F>>>32-k)+E}i.MD5=a._createHelper(f),i.HmacMD5=a._createHmacHelper(f)}(Math),t.MD5})}(J0)),J0.exports}var ef={exports:{}},by;function _E(){return by||(by=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=i.Hasher,a=n.algo,c=[],u=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,y){for(var p=this._hash.words,d=p[0],x=p[1],b=p[2],E=p[3],A=p[4],g=0;g<80;g++){if(g<16)c[g]=f[y+g]|0;else{var w=c[g-3]^c[g-8]^c[g-14]^c[g-16];c[g]=w<<1|w>>>31}var k=(d<<5|d>>>27)+A+c[g];g<20?k+=(x&b|~x&E)+1518500249:g<40?k+=(x^b^E)+1859775393:g<60?k+=(x&b|x&E|b&E)-1894007588:k+=(x^b^E)-899497514,A=E,E=b,b=x<<30|x>>>2,x=d,d=k}p[0]=p[0]+d|0,p[1]=p[1]+x|0,p[2]=p[2]+b|0,p[3]=p[3]+E|0,p[4]=p[4]+A|0},_doFinalize:function(){var f=this._data,y=f.words,p=this._nDataBytes*8,d=f.sigBytes*8;return y[d>>>5]|=128<<24-d%32,y[(d+64>>>9<<4)+14]=Math.floor(p/4294967296),y[(d+64>>>9<<4)+15]=p,f.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var f=s.clone.call(this);return f._hash=this._hash.clone(),f}});n.SHA1=s._createHelper(u),n.HmacSHA1=s._createHmacHelper(u)}(),t.SHA1})}(ef)),ef.exports}var tf={exports:{}},Ay;function Bp(){return Ay||(Ay=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){return function(n){var i=t,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.algo,u=[],f=[];(function(){function d(A){for(var g=n.sqrt(A),w=2;w<=g;w++)if(!(A%w))return!1;return!0}function x(A){return(A-(A|0))*4294967296|0}for(var b=2,E=0;E<64;)d(b)&&(E<8&&(u[E]=x(n.pow(b,1/2))),f[E]=x(n.pow(b,1/3)),E++),b++})();var y=[],p=c.SHA256=a.extend({_doReset:function(){this._hash=new s.init(u.slice(0))},_doProcessBlock:function(d,x){for(var b=this._hash.words,E=b[0],A=b[1],g=b[2],w=b[3],k=b[4],I=b[5],F=b[6],L=b[7],z=0;z<64;z++){if(z<16)y[z]=d[x+z]|0;else{var H=y[z-15],D=(H<<25|H>>>7)^(H<<14|H>>>18)^H>>>3,P=y[z-2],j=(P<<15|P>>>17)^(P<<13|P>>>19)^P>>>10;y[z]=D+y[z-7]+j+y[z-16]}var S=k&I^~k&F,l=E&A^E&g^A&g,h=(E<<30|E>>>2)^(E<<19|E>>>13)^(E<<10|E>>>22),R=(k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25),N=L+R+S+f[z]+y[z],B=h+l;L=F,F=I,I=k,k=w+N|0,w=g,g=A,A=E,E=N+B|0}b[0]=b[0]+E|0,b[1]=b[1]+A|0,b[2]=b[2]+g|0,b[3]=b[3]+w|0,b[4]=b[4]+k|0,b[5]=b[5]+I|0,b[6]=b[6]+F|0,b[7]=b[7]+L|0},_doFinalize:function(){var d=this._data,x=d.words,b=this._nDataBytes*8,E=d.sigBytes*8;return x[E>>>5]|=128<<24-E%32,x[(E+64>>>9<<4)+14]=n.floor(b/4294967296),x[(E+64>>>9<<4)+15]=b,d.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});i.SHA256=a._createHelper(p),i.HmacSHA256=a._createHmacHelper(p)}(Math),t.SHA256})}(tf)),tf.exports}var rf={exports:{}},Sy;function OI(){return Sy||(Sy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Bp())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=n.algo,a=s.SHA256,c=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=a._createHelper(c),n.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})}(rf)),rf.exports}var nf={exports:{}},Ry;function EE(){return Ry||(Ry=1,function(r,e){(function(t,n,i){r.exports=n(Te(),bl())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.Hasher,s=n.x64,a=s.Word,c=s.WordArray,u=n.algo;function f(){return a.create.apply(a,arguments)}var y=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],p=[];(function(){for(var x=0;x<80;x++)p[x]=f()})();var d=u.SHA512=o.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(x,b){for(var E=this._hash.words,A=E[0],g=E[1],w=E[2],k=E[3],I=E[4],F=E[5],L=E[6],z=E[7],H=A.high,D=A.low,P=g.high,j=g.low,S=w.high,l=w.low,h=k.high,R=k.low,N=I.high,B=I.low,M=F.high,$=F.low,C=L.high,m=L.low,O=z.high,V=z.low,J=H,te=D,we=P,oe=j,be=S,nr=l,De=h,He=R,It=N,Ae=B,Xe=M,yn=$,je=C,Ze=m,ii=O,$e=V,ke=0;ke<80;ke++){var rt,Pe,Qe=p[ke];if(ke<16)Pe=Qe.high=x[b+ke*2]|0,rt=Qe.low=x[b+ke*2+1]|0;else{var br=p[ke-15],We=br.high,T=br.low,v=(We>>>1|T<<31)^(We>>>8|T<<24)^We>>>7,_=(T>>>1|We<<31)^(T>>>8|We<<24)^(T>>>7|We<<25),U=p[ke-2],K=U.high,q=U.low,X=(K>>>19|q<<13)^(K<<3|q>>>29)^K>>>6,_e=(q>>>19|K<<13)^(q<<3|K>>>29)^(q>>>6|K<<26),ve=p[ke-7],xe=ve.high,Je=ve.low,ge=p[ke-16],wt=ge.high,Ts=ge.low;rt=_+Je,Pe=v+xe+(rt>>>0<_>>>0?1:0),rt=rt+_e,Pe=Pe+X+(rt>>>0<_e>>>0?1:0),rt=rt+Ts,Pe=Pe+wt+(rt>>>0<Ts>>>0?1:0),Qe.high=Pe,Qe.low=rt}var _t=It&Xe^~It&je,dt=Ae&yn^~Ae&Ze,Qa=J&we^J&be^we&be,Et=te&oe^te&nr^oe&nr,bt=(J>>>28|te<<4)^(J<<30|te>>>2)^(J<<25|te>>>7),Os=(te>>>28|J<<4)^(te<<30|J>>>2)^(te<<25|J>>>7),At=(It>>>14|Ae<<18)^(It>>>18|Ae<<14)^(It<<23|Ae>>>9),St=(Ae>>>14|It<<18)^(Ae>>>18|It<<14)^(Ae<<23|It>>>9),Ns=y[ke],Rt=Ns.high,ht=Ns.low,ir=$e+St,Ke=ii+At+(ir>>>0<$e>>>0?1:0),ir=ir+dt,Ke=Ke+_t+(ir>>>0<dt>>>0?1:0),ir=ir+ht,Ke=Ke+Rt+(ir>>>0<ht>>>0?1:0),ir=ir+rt,Ke=Ke+Pe+(ir>>>0<rt>>>0?1:0),pt=Os+Et,Ja=bt+Qa+(pt>>>0<Os>>>0?1:0);ii=je,$e=Ze,je=Xe,Ze=yn,Xe=It,yn=Ae,Ae=He+ir|0,It=De+Ke+(Ae>>>0<He>>>0?1:0)|0,De=be,He=nr,be=we,nr=oe,we=J,oe=te,te=ir+pt|0,J=Ke+Ja+(te>>>0<ir>>>0?1:0)|0}D=A.low=D+te,A.high=H+J+(D>>>0<te>>>0?1:0),j=g.low=j+oe,g.high=P+we+(j>>>0<oe>>>0?1:0),l=w.low=l+nr,w.high=S+be+(l>>>0<nr>>>0?1:0),R=k.low=R+He,k.high=h+De+(R>>>0<He>>>0?1:0),B=I.low=B+Ae,I.high=N+It+(B>>>0<Ae>>>0?1:0),$=F.low=$+yn,F.high=M+Xe+($>>>0<yn>>>0?1:0),m=L.low=m+Ze,L.high=C+je+(m>>>0<Ze>>>0?1:0),V=z.low=V+$e,z.high=O+ii+(V>>>0<$e>>>0?1:0)},_doFinalize:function(){var x=this._data,b=x.words,E=this._nDataBytes*8,A=x.sigBytes*8;b[A>>>5]|=128<<24-A%32,b[(A+128>>>10<<5)+30]=Math.floor(E/4294967296),b[(A+128>>>10<<5)+31]=E,x.sigBytes=b.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var x=o.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});n.SHA512=o._createHelper(d),n.HmacSHA512=o._createHmacHelper(d)}(),t.SHA512})}(nf)),nf.exports}var of={exports:{}},ky;function NI(){return ky||(ky=1,function(r,e){(function(t,n,i){r.exports=n(Te(),bl(),EE())})(ye,function(t){return function(){var n=t,i=n.x64,o=i.Word,s=i.WordArray,a=n.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var f=c._doFinalize.call(this);return f.sigBytes-=16,f}});n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u)}(),t.SHA384})}(of)),of.exports}var sf={exports:{}},Cy;function DI(){return Cy||(Cy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),bl())})(ye,function(t){return function(n){var i=t,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.x64,u=c.Word,f=i.algo,y=[],p=[],d=[];(function(){for(var E=1,A=0,g=0;g<24;g++){y[E+5*A]=(g+1)*(g+2)/2%64;var w=A%5,k=(2*E+3*A)%5;E=w,A=k}for(var E=0;E<5;E++)for(var A=0;A<5;A++)p[E+5*A]=A+(2*E+3*A)%5*5;for(var I=1,F=0;F<24;F++){for(var L=0,z=0,H=0;H<7;H++){if(I&1){var D=(1<<H)-1;D<32?z^=1<<D:L^=1<<D-32}I&128?I=I<<1^113:I<<=1}d[F]=u.create(L,z)}})();var x=[];(function(){for(var E=0;E<25;E++)x[E]=u.create()})();var b=f.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var E=this._state=[],A=0;A<25;A++)E[A]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(E,A){for(var g=this._state,w=this.blockSize/2,k=0;k<w;k++){var I=E[A+2*k],F=E[A+2*k+1];I=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360;var L=g[k];L.high^=F,L.low^=I}for(var z=0;z<24;z++){for(var H=0;H<5;H++){for(var D=0,P=0,j=0;j<5;j++){var L=g[H+5*j];D^=L.high,P^=L.low}var S=x[H];S.high=D,S.low=P}for(var H=0;H<5;H++)for(var l=x[(H+4)%5],h=x[(H+1)%5],R=h.high,N=h.low,D=l.high^(R<<1|N>>>31),P=l.low^(N<<1|R>>>31),j=0;j<5;j++){var L=g[H+5*j];L.high^=D,L.low^=P}for(var B=1;B<25;B++){var D,P,L=g[B],M=L.high,$=L.low,C=y[B];C<32?(D=M<<C|$>>>32-C,P=$<<C|M>>>32-C):(D=$<<C-32|M>>>64-C,P=M<<C-32|$>>>64-C);var m=x[p[B]];m.high=D,m.low=P}var O=x[0],V=g[0];O.high=V.high,O.low=V.low;for(var H=0;H<5;H++)for(var j=0;j<5;j++){var B=H+5*j,L=g[B],J=x[B],te=x[(H+1)%5+5*j],we=x[(H+2)%5+5*j];L.high=J.high^~te.high&we.high,L.low=J.low^~te.low&we.low}var L=g[0],oe=d[z];L.high^=oe.high,L.low^=oe.low}},_doFinalize:function(){var E=this._data,A=E.words;this._nDataBytes*8;var g=E.sigBytes*8,w=this.blockSize*32;A[g>>>5]|=1<<24-g%32,A[(n.ceil((g+1)/w)*w>>>5)-1]|=128,E.sigBytes=A.length*4,this._process();for(var k=this._state,I=this.cfg.outputLength/8,F=I/8,L=[],z=0;z<F;z++){var H=k[z],D=H.high,P=H.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,L.push(P),L.push(D)}return new s.init(L,I)},clone:function(){for(var E=a.clone.call(this),A=E._state=this._state.slice(0),g=0;g<25;g++)A[g]=A[g].clone();return E}});i.SHA3=a._createHelper(b),i.HmacSHA3=a._createHmacHelper(b)}(Math),t.SHA3})}(sf)),sf.exports}var af={exports:{}},Iy;function PI(){return Iy||(Iy=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=t,o=i.lib,s=o.WordArray,a=o.Hasher,c=i.algo,u=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),p=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=s.create([0,1518500249,1859775393,2400959708,2840853838]),x=s.create([1352829926,1548603684,1836072691,2053994217,0]),b=c.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,L){for(var z=0;z<16;z++){var H=L+z,D=F[H];F[H]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var P=this._hash.words,j=d.words,S=x.words,l=u.words,h=f.words,R=y.words,N=p.words,B,M,$,C,m,O,V,J,te,we;O=B=P[0],V=M=P[1],J=$=P[2],te=C=P[3],we=m=P[4];for(var oe,z=0;z<80;z+=1)oe=B+F[L+l[z]]|0,z<16?oe+=E(M,$,C)+j[0]:z<32?oe+=A(M,$,C)+j[1]:z<48?oe+=g(M,$,C)+j[2]:z<64?oe+=w(M,$,C)+j[3]:oe+=k(M,$,C)+j[4],oe=oe|0,oe=I(oe,R[z]),oe=oe+m|0,B=m,m=C,C=I($,10),$=M,M=oe,oe=O+F[L+h[z]]|0,z<16?oe+=k(V,J,te)+S[0]:z<32?oe+=w(V,J,te)+S[1]:z<48?oe+=g(V,J,te)+S[2]:z<64?oe+=A(V,J,te)+S[3]:oe+=E(V,J,te)+S[4],oe=oe|0,oe=I(oe,N[z]),oe=oe+we|0,O=we,we=te,te=I(J,10),J=V,V=oe;oe=P[1]+$+te|0,P[1]=P[2]+C+we|0,P[2]=P[3]+m+O|0,P[3]=P[4]+B+V|0,P[4]=P[0]+M+J|0,P[0]=oe},_doFinalize:function(){var F=this._data,L=F.words,z=this._nDataBytes*8,H=F.sigBytes*8;L[H>>>5]|=128<<24-H%32,L[(H+64>>>9<<4)+14]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,F.sigBytes=(L.length+1)*4,this._process();for(var D=this._hash,P=D.words,j=0;j<5;j++){var S=P[j];P[j]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return D},clone:function(){var F=a.clone.call(this);return F._hash=this._hash.clone(),F}});function E(F,L,z){return F^L^z}function A(F,L,z){return F&L|~F&z}function g(F,L,z){return(F|~L)^z}function w(F,L,z){return F&z|L&~z}function k(F,L,z){return F^(L|~z)}function I(F,L){return F<<L|F>>>32-L}i.RIPEMD160=a._createHelper(b),i.HmacRIPEMD160=a._createHmacHelper(b)}(),t.RIPEMD160})}(af)),af.exports}var cf={exports:{}},By;function Tp(){return By||(By=1,function(r,e){(function(t,n){r.exports=n(Te())})(ye,function(t){(function(){var n=t,i=n.lib,o=i.Base,s=n.enc,a=s.Utf8,c=n.algo;c.HMAC=o.extend({init:function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=a.parse(f));var y=u.blockSize,p=y*4;f.sigBytes>p&&(f=u.finalize(f)),f.clamp();for(var d=this._oKey=f.clone(),x=this._iKey=f.clone(),b=d.words,E=x.words,A=0;A<y;A++)b[A]^=1549556828,E[A]^=909522486;d.sigBytes=x.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var f=this._hasher,y=f.finalize(u);f.reset();var p=f.finalize(this._oKey.clone().concat(y));return p}})})()})}(cf)),cf.exports}var uf={exports:{}},Ty;function LI(){return Ty||(Ty=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Bp(),Tp())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.Base,s=i.WordArray,a=n.algo,c=a.SHA256,u=a.HMAC,f=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,p){for(var d=this.cfg,x=u.create(d.hasher,y),b=s.create(),E=s.create([1]),A=b.words,g=E.words,w=d.keySize,k=d.iterations;A.length<w;){var I=x.update(p).finalize(E);x.reset();for(var F=I.words,L=F.length,z=I,H=1;H<k;H++){z=x.finalize(z),x.reset();for(var D=z.words,P=0;P<L;P++)F[P]^=D[P]}b.concat(I),g[0]++}return b.sigBytes=w*4,b}});n.PBKDF2=function(y,p,d){return f.create(d).compute(y,p)}}(),t.PBKDF2})}(uf)),uf.exports}var lf={exports:{}},Oy;function zi(){return Oy||(Oy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),_E(),Tp())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.Base,s=i.WordArray,a=n.algo,c=a.MD5,u=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:c,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,y){for(var p,d=this.cfg,x=d.hasher.create(),b=s.create(),E=b.words,A=d.keySize,g=d.iterations;E.length<A;){p&&x.update(p),p=x.update(f).finalize(y),x.reset();for(var w=1;w<g;w++)p=x.finalize(p),x.reset();b.concat(p)}return b.sigBytes=A*4,b}});n.EvpKDF=function(f,y,p){return u.create(p).compute(f,y)}}(),t.EvpKDF})}(lf)),lf.exports}var ff={exports:{}},Ny;function Gt(){return Ny||(Ny=1,function(r,e){(function(t,n,i){r.exports=n(Te(),zi())})(ye,function(t){t.lib.Cipher||function(n){var i=t,o=i.lib,s=o.Base,a=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var f=u.Base64,y=i.algo,p=y.EvpKDF,d=o.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(D,P){return this.create(this._ENC_XFORM_MODE,D,P)},createDecryptor:function(D,P){return this.create(this._DEC_XFORM_MODE,D,P)},init:function(D,P,j){this.cfg=this.cfg.extend(j),this._xformMode=D,this._key=P,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var P=this._doFinalize();return P},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(P){return typeof P=="string"?H:F}return function(P){return{encrypt:function(j,S,l){return D(S).encrypt(P,j,S,l)},decrypt:function(j,S,l){return D(S).decrypt(P,j,S,l)}}}}()});o.StreamCipher=d.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var x=i.mode={},b=o.BlockCipherMode=s.extend({createEncryptor:function(D,P){return this.Encryptor.create(D,P)},createDecryptor:function(D,P){return this.Decryptor.create(D,P)},init:function(D,P){this._cipher=D,this._iv=P}}),E=x.CBC=function(){var D=b.extend();D.Encryptor=D.extend({processBlock:function(j,S){var l=this._cipher,h=l.blockSize;P.call(this,j,S,h),l.encryptBlock(j,S),this._prevBlock=j.slice(S,S+h)}}),D.Decryptor=D.extend({processBlock:function(j,S){var l=this._cipher,h=l.blockSize,R=j.slice(S,S+h);l.decryptBlock(j,S),P.call(this,j,S,h),this._prevBlock=R}});function P(j,S,l){var h,R=this._iv;R?(h=R,this._iv=n):h=this._prevBlock;for(var N=0;N<l;N++)j[S+N]^=h[N]}return D}(),A=i.pad={},g=A.Pkcs7={pad:function(D,P){for(var j=P*4,S=j-D.sigBytes%j,l=S<<24|S<<16|S<<8|S,h=[],R=0;R<S;R+=4)h.push(l);var N=a.create(h,S);D.concat(N)},unpad:function(D){var P=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=P}};o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:E,padding:g}),reset:function(){var D;d.reset.call(this);var P=this.cfg,j=P.iv,S=P.mode;this._xformMode==this._ENC_XFORM_MODE?D=S.createEncryptor:(D=S.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,j&&j.words):(this._mode=D.call(S,this,j&&j.words),this._mode.__creator=D)},_doProcessBlock:function(D,P){this._mode.processBlock(D,P)},_doFinalize:function(){var D,P=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(P.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),P.unpad(D)),D},blockSize:128/32});var w=o.CipherParams=s.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),k=i.format={},I=k.OpenSSL={stringify:function(D){var P,j=D.ciphertext,S=D.salt;return S?P=a.create([1398893684,1701076831]).concat(S).concat(j):P=j,P.toString(f)},parse:function(D){var P,j=f.parse(D),S=j.words;return S[0]==1398893684&&S[1]==1701076831&&(P=a.create(S.slice(2,4)),S.splice(0,4),j.sigBytes-=16),w.create({ciphertext:j,salt:P})}},F=o.SerializableCipher=s.extend({cfg:s.extend({format:I}),encrypt:function(D,P,j,S){S=this.cfg.extend(S);var l=D.createEncryptor(j,S),h=l.finalize(P),R=l.cfg;return w.create({ciphertext:h,key:j,iv:R.iv,algorithm:D,mode:R.mode,padding:R.padding,blockSize:D.blockSize,formatter:S.format})},decrypt:function(D,P,j,S){S=this.cfg.extend(S),P=this._parse(P,S.format);var l=D.createDecryptor(j,S).finalize(P.ciphertext);return l},_parse:function(D,P){return typeof D=="string"?P.parse(D,this):D}}),L=i.kdf={},z=L.OpenSSL={execute:function(D,P,j,S,l){if(S||(S=a.random(64/8)),l)var h=p.create({keySize:P+j,hasher:l}).compute(D,S);else var h=p.create({keySize:P+j}).compute(D,S);var R=a.create(h.words.slice(P),j*4);return h.sigBytes=P*4,w.create({key:h,iv:R,salt:S})}},H=o.PasswordBasedCipher=F.extend({cfg:F.cfg.extend({kdf:z}),encrypt:function(D,P,j,S){S=this.cfg.extend(S);var l=S.kdf.execute(j,D.keySize,D.ivSize,S.salt,S.hasher);S.iv=l.iv;var h=F.encrypt.call(this,D,P,l.key,S);return h.mixIn(l),h},decrypt:function(D,P,j,S){S=this.cfg.extend(S),P=this._parse(P,S.format);var l=S.kdf.execute(j,D.keySize,D.ivSize,P.salt,S.hasher);S.iv=l.iv;var h=F.decrypt.call(this,D,P,l.key,S);return h}})}()})}(ff)),ff.exports}var df={exports:{}},Dy;function FI(){return Dy||(Dy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(o,s){var a=this._cipher,c=a.blockSize;i.call(this,o,s,c,a),this._prevBlock=o.slice(s,s+c)}}),n.Decryptor=n.extend({processBlock:function(o,s){var a=this._cipher,c=a.blockSize,u=o.slice(s,s+c);i.call(this,o,s,c,a),this._prevBlock=u}});function i(o,s,a,c){var u,f=this._iv;f?(u=f.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var y=0;y<a;y++)o[s+y]^=u[y]}return n}(),t.mode.CFB})}(df)),df.exports}var hf={exports:{}},Py;function MI(){return Py||(Py=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(o,s){var a=this._cipher,c=a.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0);var y=f.slice(0);a.encryptBlock(y,0),f[c-1]=f[c-1]+1|0;for(var p=0;p<c;p++)o[s+p]^=y[p]}});return n.Decryptor=i,n}(),t.mode.CTR})}(hf)),hf.exports}var pf={exports:{}},Ly;function UI(){return Ly||(Ly=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,f=a&255;c===255?(c=0,u===255?(u=0,f===255?f=0:++f):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=f}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=n.Encryptor=n.extend({processBlock:function(a,c){var u=this._cipher,f=u.blockSize,y=this._iv,p=this._counter;y&&(p=this._counter=y.slice(0),this._iv=void 0),o(p);var d=p.slice(0);u.encryptBlock(d,0);for(var x=0;x<f;x++)a[c+x]^=d[x]}});return n.Decryptor=s,n}(),t.mode.CTRGladman})}(pf)),pf.exports}var mf={exports:{}},Fy;function zI(){return Fy||(Fy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(o,s){var a=this._cipher,c=a.blockSize,u=this._iv,f=this._keystream;u&&(f=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(f,0);for(var y=0;y<c;y++)o[s+y]^=f[y]}});return n.Decryptor=i,n}(),t.mode.OFB})}(mf)),mf.exports}var yf={exports:{}},My;function HI(){return My||(My=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),n.Decryptor=n.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),n}(),t.mode.ECB})}(yf)),yf.exports}var gf={exports:{}},Uy;function jI(){return Uy||(Uy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.pad.AnsiX923={pad:function(n,i){var o=n.sigBytes,s=i*4,a=s-o%s,c=o+a-1;n.clamp(),n.words[c>>>2]|=a<<24-c%4*8,n.sigBytes+=a},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})}(gf)),gf.exports}var xf={exports:{}},zy;function $I(){return zy||(zy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.pad.Iso10126={pad:function(n,i){var o=i*4,s=o-n.sigBytes%o;n.concat(t.lib.WordArray.random(s-1)).concat(t.lib.WordArray.create([s<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})}(xf)),xf.exports}var vf={exports:{}},Hy;function WI(){return Hy||(Hy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(vf)),vf.exports}var wf={exports:{}},jy;function KI(){return jy||(jy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.pad.ZeroPadding={pad:function(n,i){var o=i*4;n.clamp(),n.sigBytes+=o-(n.sigBytes%o||o)},unpad:function(n){for(var i=n.words,o=n.sigBytes-1,o=n.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){n.sigBytes=o+1;break}}},t.pad.ZeroPadding})}(wf)),wf.exports}var _f={exports:{}},$y;function VI(){return $y||($y=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(_f)),_f.exports}var Ef={exports:{}},Wy;function qI(){return Wy||(Wy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Gt())})(ye,function(t){return function(n){var i=t,o=i.lib,s=o.CipherParams,a=i.enc,c=a.Hex,u=i.format;u.Hex={stringify:function(f){return f.ciphertext.toString(c)},parse:function(f){var y=c.parse(f);return s.create({ciphertext:y})}}}(),t.format.Hex})}(Ef)),Ef.exports}var bf={exports:{}},Ky;function GI(){return Ky||(Ky=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.BlockCipher,s=n.algo,a=[],c=[],u=[],f=[],y=[],p=[],d=[],x=[],b=[],E=[];(function(){for(var w=[],k=0;k<256;k++)k<128?w[k]=k<<1:w[k]=k<<1^283;for(var I=0,F=0,k=0;k<256;k++){var L=F^F<<1^F<<2^F<<3^F<<4;L=L>>>8^L&255^99,a[I]=L,c[L]=I;var z=w[I],H=w[z],D=w[H],P=w[L]*257^L*16843008;u[I]=P<<24|P>>>8,f[I]=P<<16|P>>>16,y[I]=P<<8|P>>>24,p[I]=P;var P=D*16843009^H*65537^z*257^I*16843008;d[L]=P<<24|P>>>8,x[L]=P<<16|P>>>16,b[L]=P<<8|P>>>24,E[L]=P,I?(I=z^w[w[w[D^z]]],F^=w[w[F]]):I=F=1}})();var A=[0,1,2,4,8,16,32,64,128,27,54],g=s.AES=o.extend({_doReset:function(){var w;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var k=this._keyPriorReset=this._key,I=k.words,F=k.sigBytes/4,L=this._nRounds=F+6,z=(L+1)*4,H=this._keySchedule=[],D=0;D<z;D++)D<F?H[D]=I[D]:(w=H[D-1],D%F?F>6&&D%F==4&&(w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255]):(w=w<<8|w>>>24,w=a[w>>>24]<<24|a[w>>>16&255]<<16|a[w>>>8&255]<<8|a[w&255],w^=A[D/F|0]<<24),H[D]=H[D-F]^w);for(var P=this._invKeySchedule=[],j=0;j<z;j++){var D=z-j;if(j%4)var w=H[D];else var w=H[D-4];j<4||D<=4?P[j]=w:P[j]=d[a[w>>>24]]^x[a[w>>>16&255]]^b[a[w>>>8&255]]^E[a[w&255]]}}},encryptBlock:function(w,k){this._doCryptBlock(w,k,this._keySchedule,u,f,y,p,a)},decryptBlock:function(w,k){var I=w[k+1];w[k+1]=w[k+3],w[k+3]=I,this._doCryptBlock(w,k,this._invKeySchedule,d,x,b,E,c);var I=w[k+1];w[k+1]=w[k+3],w[k+3]=I},_doCryptBlock:function(w,k,I,F,L,z,H,D){for(var P=this._nRounds,j=w[k]^I[0],S=w[k+1]^I[1],l=w[k+2]^I[2],h=w[k+3]^I[3],R=4,N=1;N<P;N++){var B=F[j>>>24]^L[S>>>16&255]^z[l>>>8&255]^H[h&255]^I[R++],M=F[S>>>24]^L[l>>>16&255]^z[h>>>8&255]^H[j&255]^I[R++],$=F[l>>>24]^L[h>>>16&255]^z[j>>>8&255]^H[S&255]^I[R++],C=F[h>>>24]^L[j>>>16&255]^z[S>>>8&255]^H[l&255]^I[R++];j=B,S=M,l=$,h=C}var B=(D[j>>>24]<<24|D[S>>>16&255]<<16|D[l>>>8&255]<<8|D[h&255])^I[R++],M=(D[S>>>24]<<24|D[l>>>16&255]<<16|D[h>>>8&255]<<8|D[j&255])^I[R++],$=(D[l>>>24]<<24|D[h>>>16&255]<<16|D[j>>>8&255]<<8|D[S&255])^I[R++],C=(D[h>>>24]<<24|D[j>>>16&255]<<16|D[S>>>8&255]<<8|D[l&255])^I[R++];w[k]=B,w[k+1]=M,w[k+2]=$,w[k+3]=C},keySize:256/32});n.AES=o._createHelper(g)}(),t.AES})}(bf)),bf.exports}var Af={exports:{}},Vy;function YI(){return Vy||(Vy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.WordArray,s=i.BlockCipher,a=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],y=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],p=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=s.extend({_doReset:function(){for(var A=this._key,g=A.words,w=[],k=0;k<56;k++){var I=c[k]-1;w[k]=g[I>>>5]>>>31-I%32&1}for(var F=this._subKeys=[],L=0;L<16;L++){for(var z=F[L]=[],H=f[L],k=0;k<24;k++)z[k/6|0]|=w[(u[k]-1+H)%28]<<31-k%6,z[4+(k/6|0)]|=w[28+(u[k+24]-1+H)%28]<<31-k%6;z[0]=z[0]<<1|z[0]>>>31;for(var k=1;k<7;k++)z[k]=z[k]>>>(k-1)*4+3;z[7]=z[7]<<5|z[7]>>>27}for(var D=this._invSubKeys=[],k=0;k<16;k++)D[k]=F[15-k]},encryptBlock:function(A,g){this._doCryptBlock(A,g,this._subKeys)},decryptBlock:function(A,g){this._doCryptBlock(A,g,this._invSubKeys)},_doCryptBlock:function(A,g,w){this._lBlock=A[g],this._rBlock=A[g+1],x.call(this,4,252645135),x.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),x.call(this,1,1431655765);for(var k=0;k<16;k++){for(var I=w[k],F=this._lBlock,L=this._rBlock,z=0,H=0;H<8;H++)z|=y[H][((L^I[H])&p[H])>>>0];this._lBlock=L,this._rBlock=F^z}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,x.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),A[g]=this._lBlock,A[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(A,g){var w=(this._lBlock>>>A^this._rBlock)&g;this._rBlock^=w,this._lBlock^=w<<A}function b(A,g){var w=(this._rBlock>>>A^this._lBlock)&g;this._lBlock^=w,this._rBlock^=w<<A}n.DES=s._createHelper(d);var E=a.TripleDES=s.extend({_doReset:function(){var A=this._key,g=A.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var w=g.slice(0,2),k=g.length<4?g.slice(0,2):g.slice(2,4),I=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=d.createEncryptor(o.create(w)),this._des2=d.createEncryptor(o.create(k)),this._des3=d.createEncryptor(o.create(I))},encryptBlock:function(A,g){this._des1.encryptBlock(A,g),this._des2.decryptBlock(A,g),this._des3.encryptBlock(A,g)},decryptBlock:function(A,g){this._des3.decryptBlock(A,g),this._des2.encryptBlock(A,g),this._des1.decryptBlock(A,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(E)}(),t.TripleDES})}(Af)),Af.exports}var Sf={exports:{}},qy;function ZI(){return qy||(qy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.StreamCipher,s=n.algo,a=s.RC4=o.extend({_doReset:function(){for(var f=this._key,y=f.words,p=f.sigBytes,d=this._S=[],x=0;x<256;x++)d[x]=x;for(var x=0,b=0;x<256;x++){var E=x%p,A=y[E>>>2]>>>24-E%4*8&255;b=(b+d[x]+A)%256;var g=d[x];d[x]=d[b],d[b]=g}this._i=this._j=0},_doProcessBlock:function(f,y){f[y]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var f=this._S,y=this._i,p=this._j,d=0,x=0;x<4;x++){y=(y+1)%256,p=(p+f[y])%256;var b=f[y];f[y]=f[p],f[p]=b,d|=f[(f[y]+f[p])%256]<<24-x*8}return this._i=y,this._j=p,d}n.RC4=o._createHelper(a);var u=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)c.call(this)}});n.RC4Drop=o._createHelper(u)}(),t.RC4})}(Sf)),Sf.exports}var Rf={exports:{}},Gy;function XI(){return Gy||(Gy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.StreamCipher,s=n.algo,a=[],c=[],u=[],f=s.Rabbit=o.extend({_doReset:function(){for(var p=this._key.words,d=this.cfg.iv,x=0;x<4;x++)p[x]=(p[x]<<8|p[x]>>>24)&16711935|(p[x]<<24|p[x]>>>8)&4278255360;var b=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],E=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var x=0;x<4;x++)y.call(this);for(var x=0;x<8;x++)E[x]^=b[x+4&7];if(d){var A=d.words,g=A[0],w=A[1],k=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,I=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,F=k>>>16|I&4294901760,L=I<<16|k&65535;E[0]^=k,E[1]^=F,E[2]^=I,E[3]^=L,E[4]^=k,E[5]^=F,E[6]^=I,E[7]^=L;for(var x=0;x<4;x++)y.call(this)}},_doProcessBlock:function(p,d){var x=this._X;y.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,p[d+b]^=a[b]},blockSize:128/32,ivSize:64/32});function y(){for(var p=this._X,d=this._C,x=0;x<8;x++)c[x]=d[x];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var b=p[x]+d[x],E=b&65535,A=b>>>16,g=((E*E>>>17)+E*A>>>15)+A*A,w=((b&4294901760)*b|0)+((b&65535)*b|0);u[x]=g^w}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=o._createHelper(f)}(),t.Rabbit})}(Rf)),Rf.exports}var kf={exports:{}},Yy;function QI(){return Yy||(Yy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.StreamCipher,s=n.algo,a=[],c=[],u=[],f=s.RabbitLegacy=o.extend({_doReset:function(){var p=this._key.words,d=this.cfg.iv,x=this._X=[p[0],p[3]<<16|p[2]>>>16,p[1],p[0]<<16|p[3]>>>16,p[2],p[1]<<16|p[0]>>>16,p[3],p[2]<<16|p[1]>>>16],b=this._C=[p[2]<<16|p[2]>>>16,p[0]&4294901760|p[1]&65535,p[3]<<16|p[3]>>>16,p[1]&4294901760|p[2]&65535,p[0]<<16|p[0]>>>16,p[2]&4294901760|p[3]&65535,p[1]<<16|p[1]>>>16,p[3]&4294901760|p[0]&65535];this._b=0;for(var E=0;E<4;E++)y.call(this);for(var E=0;E<8;E++)b[E]^=x[E+4&7];if(d){var A=d.words,g=A[0],w=A[1],k=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,I=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,F=k>>>16|I&4294901760,L=I<<16|k&65535;b[0]^=k,b[1]^=F,b[2]^=I,b[3]^=L,b[4]^=k,b[5]^=F,b[6]^=I,b[7]^=L;for(var E=0;E<4;E++)y.call(this)}},_doProcessBlock:function(p,d){var x=this._X;y.call(this),a[0]=x[0]^x[5]>>>16^x[3]<<16,a[1]=x[2]^x[7]>>>16^x[5]<<16,a[2]=x[4]^x[1]>>>16^x[7]<<16,a[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)a[b]=(a[b]<<8|a[b]>>>24)&16711935|(a[b]<<24|a[b]>>>8)&4278255360,p[d+b]^=a[b]},blockSize:128/32,ivSize:64/32});function y(){for(var p=this._X,d=this._C,x=0;x<8;x++)c[x]=d[x];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var x=0;x<8;x++){var b=p[x]+d[x],E=b&65535,A=b>>>16,g=((E*E>>>17)+E*A>>>15)+A*A,w=((b&4294901760)*b|0)+((b&65535)*b|0);u[x]=g^w}p[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,p[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,p[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,p[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,p[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,p[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,p[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,p[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=o._createHelper(f)}(),t.RabbitLegacy})}(kf)),kf.exports}var Cf={exports:{}},Zy;function JI(){return Zy||(Zy=1,function(r,e){(function(t,n,i){r.exports=n(Te(),Eo(),bo(),zi(),Gt())})(ye,function(t){return function(){var n=t,i=n.lib,o=i.BlockCipher,s=n.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function y(E,A){let g=A>>24&255,w=A>>16&255,k=A>>8&255,I=A&255,F=E.sbox[0][g]+E.sbox[1][w];return F=F^E.sbox[2][k],F=F+E.sbox[3][I],F}function p(E,A,g){let w=A,k=g,I;for(let F=0;F<a;++F)w=w^E.pbox[F],k=y(E,w)^k,I=w,w=k,k=I;return I=w,w=k,k=I,k=k^E.pbox[a],w=w^E.pbox[a+1],{left:w,right:k}}function d(E,A,g){let w=A,k=g,I;for(let F=a+1;F>1;--F)w=w^E.pbox[F],k=y(E,w)^k,I=w,w=k,k=I;return I=w,w=k,k=I,k=k^E.pbox[1],w=w^E.pbox[0],{left:w,right:k}}function x(E,A,g){for(let L=0;L<4;L++){E.sbox[L]=[];for(let z=0;z<256;z++)E.sbox[L][z]=u[L][z]}let w=0;for(let L=0;L<a+2;L++)E.pbox[L]=c[L]^A[w],w++,w>=g&&(w=0);let k=0,I=0,F=0;for(let L=0;L<a+2;L+=2)F=p(E,k,I),k=F.left,I=F.right,E.pbox[L]=k,E.pbox[L+1]=I;for(let L=0;L<4;L++)for(let z=0;z<256;z+=2)F=p(E,k,I),k=F.left,I=F.right,E.sbox[L][z]=k,E.sbox[L][z+1]=I;return!0}var b=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var E=this._keyPriorReset=this._key,A=E.words,g=E.sigBytes/4;x(f,A,g)}},encryptBlock:function(E,A){var g=p(f,E[A],E[A+1]);E[A]=g.left,E[A+1]=g.right},decryptBlock:function(E,A){var g=d(f,E[A],E[A+1]);E[A]=g.left,E[A+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=o._createHelper(b)}(),t.Blowfish})}(Cf)),Cf.exports}(function(r,e){(function(t,n,i){r.exports=n(Te(),bl(),II(),BI(),Eo(),TI(),bo(),_E(),Bp(),OI(),EE(),NI(),DI(),PI(),Tp(),LI(),zi(),Gt(),FI(),MI(),UI(),zI(),HI(),jI(),$I(),WI(),KI(),VI(),qI(),GI(),YI(),ZI(),XI(),QI(),JI())})(ye,function(t){return t})})(wE);var Tc=wE.exports;const eB="GX2tJDB1bn73AUkC8brEru4qPN2JSTEd8A1cLAz81oZc",tB={name:"farm_game",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},rB=[{name:"accumulate_referral_reward",docs:["紹介報酬蓄積（内部処理用）","他のユーザーが報酬請求時に自動実行される"],discriminator:[24,31,36,7,236,199,247,124],accounts:[{name:"referrer_state",docs:["The referrer who will receive the reward"],writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"referrer"}]}},{name:"referrer",docs:["The referrer's public key"]},{name:"config",docs:["System configuration for protocol address checks"],pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}}],args:[{name:"reward_amount",type:"u64"},{name:"referral_level",type:"u8"}]},{name:"batch_discard_seeds",docs:["Batch discard multiple seeds permanently from storage","Efficiently delete up to 100 unwanted seeds in a single transaction","and reclaim all rent from the seed accounts"],discriminator:[163,132,225,158,154,62,71,161],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"seed_storage",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,115,116,111,114,97,103,101]},{kind:"account",path:"user"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"seed_ids",type:{vec:"u64"}}]},{name:"buy_farm_space",docs:["農場スペースの購入（レベル1）","0.5 SOLで初期農場を購入し、種植えを開始可能にする","","# 実行内容","- 0.5 SOL → treasuryに送金","- FarmSpace PDA作成（容量4、レベル1）","- 初期Seed1を無料で付与（100 Grow Power）","- グローバル統計の更新","","# 制約","- ユーザーは1つまで","- UserState初期化済み必須"],discriminator:[82,254,100,171,224,125,146,127],accounts:[{name:"user_state",docs:["ユーザーの状態アカウント（更新用）","has_farm_space フラグをtrueに変更し、total_grow_powerを更新"],writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"farm_space",docs:["新規作成される農場スペースアカウント","初期設定: レベル1、容量4、シード数0"],writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,115,112,97,99,101]},{kind:"account",path:"user"}]}},{name:"initial_seed",docs:["無料で付与される初期シード（Seed1、100 Grow Power）","シードID 0として作成され、自動的に農場に植えられる"],writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100]},{kind:"account",path:"user"},{kind:"const",value:[0,0,0,0,0,0,0,0]}]}},{name:"config",docs:["システム設定アカウント（農場購入コスト確認用）"],writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"global_stats",docs:["グローバル統計アカウント（全体のGrow Power、農場数更新用）"],writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,115,116,97,116,115]}]}},{name:"treasury",docs:["支払い先のトレジャリーアカウント（0.5 SOL受取用）","configで設定されたtreasuryアドレスと一致する必要がある"],writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"claim_reward_with_referral_rewards",docs:["統合報酬請求（メイン関数）","農場報酬と紹介報酬をすべて一度に請求する","","# 処理フロー","1. 半減期チェック・適用","2. 農場報酬計算（比例配分）","3. 蓄積された紹介報酬請求","4. 新規紹介報酬分配（L1: 10%, L2: 5%）","5. すべてのトークンを一括ミント・配布","","# 統合処理のメリット","- 複数のトランザクションが不要","- ガス効率性向上","- ユーザー体験の向上"],discriminator:[177,51,75,141,137,148,62,72],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"global_stats",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,115,116,97,116,115]}]}},{name:"reward_mint",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100,95,109,105,110,116]}]}},{name:"mint_authority",pda:{seeds:[{kind:"const",value:[109,105,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"user_token_account",writable:!0},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"level1_referrer_state",optional:!0},{name:"level1_referrer",optional:!0},{name:"level2_referrer_state",optional:!0},{name:"level2_referrer",optional:!0}],args:[]},{name:"create_invite_code",docs:["招待コード作成","8文字のコードで新規ユーザーを招待し、紹介報酬を獲得","","# Parameters","* `invite_code` - 8バイトの招待コード（英数字のみ）","","# 招待制限","- 運営者: 255回（事実上無制限）","- 一般ユーザー: 5回まで","","# セキュリティ","- ハッシュベースでプライバシー確保","- 英数字のみ使用可能"],discriminator:[168,152,225,197,239,17,149,239],accounts:[{name:"invite_account",writable:!0},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"inviter",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"invite_code",type:{array:["u8",8]}}]},{name:"create_reward_mint",docs:["$WEEDトークンのミントアカウントを作成（SPL Token 2022 + Transfer Fee Extension）","ゲーム内通貨として使用される報酬トークンを初期化","","# 機能","- PDAによるミント権限管理（セキュリティ向上）","- SPL Token 2022のTransfer Fee Extension（2%手数料）","- Metaplexメタデータ作成（トークン情報表示用）","- 6桁精度での発行設定","- 自動手数料回収（treasury宛）","","# Transfer Fee Extension","- 手数料: 2.00% (200 basis points)","- 最大手数料: 1000 WEED","- 手数料回収権限: treasury","- 設定変更権限: mint_authority PDA","","# Security","- mint_authorityはPDAで制御","- transfer_fee_config_authorityもPDAで制御","- admin署名必須"],discriminator:[149,144,95,196,171,77,31,66],accounts:[{name:"reward_mint",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100,95,109,105,110,116]}]}},{name:"mint_authority",docs:["@dev Set mint authority as PDA"],pda:{seeds:[{kind:"const",value:[109,105,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"transfer_fee_config_authority",docs:["Transfer fee config authority (same as mint authority)"],pda:{seeds:[{kind:"const",value:[109,105,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"withdraw_withheld_authority",docs:["Withdraw withheld authority (treasury)"]},{name:"metadata_account",docs:["Token metadata account (optional for test environments)"]},{name:"admin",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"token_metadata_program",docs:["Token Metadata Program (optional for test environments)"]}],args:[]},{name:"discard_seed",docs:["Discard seed permanently from storage","Allows users to permanently delete unwanted seeds to free up storage space","and reclaim the rent from the seed account"],discriminator:[20,119,34,3,68,215,119,216],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"seed_storage",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,115,116,111,114,97,103,101]},{kind:"account",path:"user"}]}},{name:"seed",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100]},{kind:"account",path:"user"},{kind:"arg",path:"seed_id"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"seed_id",type:"u64"}]},{name:"get_farm_level_info",docs:["Get farm level configuration information (view function)"],discriminator:[146,171,190,57,149,102,254,1],accounts:[{name:"farm_level_config",pda:{seeds:[{kind:"const",value:[102,97,114,109,95,108,101,118,101,108,95,99,111,110,102,105,103]}]}}],args:[{name:"level",type:{option:"u8"}}],returns:{defined:{name:"FarmLevelInfo"}}},{name:"init_user",docs:["ユーザーアカウントの初期化","ゲームへの参加に必要な基本データ構造を作成","","# Parameters","* `referrer` - 紹介者のpubkey（招待コード使用時のみ）","","# 作成されるデータ","- UserState PDA: ユーザーの進行状況","- 初期grow_power: 0（農場購入で増加）","- 紹介関係の記録（多段階報酬システム用）"],discriminator:[14,51,68,159,237,78,158,102],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"referrer",type:{option:"pubkey"}}]},{name:"initialize_config",docs:["システム全体の設定を初期化","管理者のみが実行可能で、ゲーム経済の基本パラメータを設定","","# Parameters","* `base_rate` - 基本報酬レート（デフォルト: 100 WEED/秒）","* `halving_interval` - 半減期間隔（デフォルト: 7日）","* `treasury` - 手数料収集用ウォレット","","# Security","- admin署名必須","- 一度のみ実行可能（PDAの重複初期化防止）"],discriminator:[208,127,21,1,194,190,196,70],accounts:[{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"base_rate",type:{option:"u64"}},{name:"halving_interval",type:{option:"i64"}},{name:"treasury",type:"pubkey"},{name:"protocol_referral_address",type:{option:"pubkey"}}]},{name:"initialize_farm_level_config",docs:["Initialize dynamic farm level configuration with default 5-level system"],discriminator:[13,221,216,170,187,197,59,185],accounts:[{name:"farm_level_config",writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,108,101,118,101,108,95,99,111,110,102,105,103]}]}},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize_fee_pool",docs:["Initialize fee pool"],discriminator:[59,214,181,20,217,48,146,165],accounts:[{name:"fee_pool",writable:!0,pda:{seeds:[{kind:"const",value:[102,101,101,95,112,111,111,108]}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"treasury_address",type:"pubkey"}]},{name:"initialize_global_stats",docs:["Initialize global statistics"],discriminator:[57,82,52,126,182,236,5,131],accounts:[{name:"global_stats",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,115,116,97,116,115]}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize_probability_table",docs:["Initialize probability table with default Table 1 settings","Creates the dynamic probability table for seed generation","","# Default Settings (Table 1)","- OG Kush (100 GP): 43%","- Blue Dream (180 GP): 25%","- Sour Diesel (420 GP): 14%","- Girl Scout Cookies (720 GP): 9%","- Gorilla Glue (1000 GP): 6%","- Skywalker Kush (5000 GP): 3%","","# Security","- Admin signature required","- One-time initialization only"],discriminator:[239,3,140,108,208,118,141,114],accounts:[{name:"probability_table",writable:!0,pda:{seeds:[{kind:"const",value:[112,114,111,98,97,98,105,108,105,116,121,95,116,97,98,108,101]}]}},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize_seed_storage",docs:["Initialize seed storage for a user"],discriminator:[88,220,161,236,3,17,20,99],accounts:[{name:"seed_storage",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,115,116,111,114,97,103,101]},{kind:"account",path:"user"}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"migrate_farm_to_new_levels",docs:["Migrate existing farms to new level configuration"],discriminator:[42,231,131,96,209,175,229,138],accounts:[{name:"farm_space",writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,115,112,97,99,101]},{kind:"account",path:"user"}]}},{name:"farm_level_config",pda:{seeds:[{kind:"const",value:[102,97,114,109,95,108,101,118,101,108,95,99,111,110,102,105,103]}]}},{name:"user",writable:!0,signer:!0}],args:[]},{name:"open_seed_pack",docs:["Open seed pack to reveal seeds"],discriminator:[3,108,45,55,130,197,108,241],accounts:[{name:"seed_pack",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,112,97,99,107]},{kind:"account",path:"user"},{kind:"account",path:"seed_pack.pack_id",account:"SeedPack"}]}},{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"seed_storage",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,115,116,111,114,97,103,101]},{kind:"account",path:"user"}]}},{name:"vrf_account",docs:["Switchboard VRF account (required)"]},{name:"switchboard_program",docs:["Switchboard program (required)"]},{name:"probability_table",docs:["Dynamic probability table for seed generation"],pda:{seeds:[{kind:"const",value:[112,114,111,98,97,98,105,108,105,116,121,95,116,97,98,108,101]}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"quantity",type:"u8"}]},{name:"plant_seed",docs:["Plant seed in farm space"],discriminator:[139,66,41,202,41,145,173,204],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"farm_space",writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,115,112,97,99,101]},{kind:"account",path:"user"}]}},{name:"seed",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100]},{kind:"account",path:"user"},{kind:"arg",path:"seed_id"}]}},{name:"global_stats",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,115,116,97,116,115]}]}},{name:"user",writable:!0,signer:!0}],args:[{name:"seed_id",type:"u64"}]},{name:"purchase_seed_pack",docs:["ミステリーシードパックの購入（Switchboard VRF統合）","300 $WEEDを燃焼 + VRF手数料で検証可能な乱数による高レアリティ種を獲得","","# Parameters","* `quantity` - 購入数量（1-100）","* `user_entropy_seed` - ユーザー提供の乱数シード（追加の乱数性確保）","* `max_vrf_fee` - 支払い可能な最大VRF手数料（lamports）","","# Switchboard VRF統合","- 検証可能な真正乱数による最高品質の公平性","- コミット・リビール方式で操作不可能","- 第三者オラクルによる透明性保証","","# コスト構造（正確な計算）","- WEED燃焼: 300 WEED × quantity","- VRF手数料: 約0.002 SOL（2,000,000 lamports）","* 基本取引手数料: 5,000 × 15取引 = 75,000 lamports","* ストレージレント: 2,400 lamports","* オラクル処理費: 2,000,000 lamports","* 総計: ~2,077,400 lamports","","# VRF処理フロー","1. **購入時（コミット）**: VRF要求 + 手数料支払い","2. **開封時（リビール）**: VRF結果取得 + 種生成","3. **透明性**: すべてオンチェーンで検証可能","","# 確率テーブル（VRF保証済み）","- Seed1 (100GP): 42.23%","- Seed2 (180GP): 24.44%","- Seed3 (420GP): 13.33%","- Seed4 (720GP): 8.33%","- Seed5 (1000GP): 5.56%","- Seed6 (5000GP): 3.33%","- Seed7 (15000GP): 1.33%","- Seed8 (30000GP): 0.89%","- Seed9 (60000GP): 0.56%","","# セキュリティ","- Switchboard VRFによる暗号学的証明","- オラクルネットワークによる分散検証","- 予測不可能性の数学的保証","- 完全なオンチェーン透明性"],discriminator:[76,243,103,251,226,192,114,244],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"farm_space",docs:["Farm space account (optional - only required if user has farm space for auto-upgrade)"],writable:!0,optional:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,115,112,97,99,101]},{kind:"account",path:"user"}]}},{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"seed_pack",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100,95,112,97,99,107]},{kind:"account",path:"user"},{kind:"account",path:"config.seed_pack_counter",account:"Config"}]}},{name:"reward_mint",writable:!0,pda:{seeds:[{kind:"const",value:[114,101,119,97,114,100,95,109,105,110,116]}]}},{name:"user_token_account",writable:!0},{name:"vrf_account",docs:["Switchboard VRF account (required)"],writable:!0},{name:"vrf_permission",docs:["Switchboard VRF permission account (required)"]},{name:"switchboard_program",docs:["Switchboard program (required)"]},{name:"user",writable:!0,signer:!0},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"quantity",type:"u8"},{name:"user_entropy_seed",type:"u64"},{name:"max_vrf_fee",type:"u64"}]},{name:"remove_seed",docs:["Remove seed from farm space"],discriminator:[20,0,163,177,155,168,2,245],accounts:[{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"farm_space",writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,115,112,97,99,101]},{kind:"account",path:"user"}]}},{name:"seed",writable:!0,pda:{seeds:[{kind:"const",value:[115,101,101,100]},{kind:"account",path:"user"},{kind:"arg",path:"seed_id"}]}},{name:"global_stats",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,115,116,97,116,115]}]}},{name:"user",writable:!0,signer:!0}],args:[{name:"seed_id",type:"u64"}]},{name:"update_config",docs:["Update system configuration (admin only)","Allows admin to modify various system parameters including operator address"],discriminator:[29,158,252,191,10,83,219,99],accounts:[{name:"config",writable:!0,pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0}],args:[{name:"new_operator",type:{option:"pubkey"}},{name:"new_base_rate",type:{option:"u64"}},{name:"new_halving_interval",type:{option:"i64"}},{name:"new_treasury",type:{option:"pubkey"}},{name:"new_max_invite_limit",type:{option:"u8"}}]},{name:"update_farm_level_config",docs:["Update farm level configuration (admin only)","Allows adding new levels or modifying existing thresholds"],discriminator:[30,56,58,185,143,194,27,37],accounts:[{name:"farm_level_config",writable:!0,pda:{seeds:[{kind:"const",value:[102,97,114,109,95,108,101,118,101,108,95,99,111,110,102,105,103]}]}},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0}],args:[{name:"max_level",type:"u8"},{name:"capacities",type:"bytes"},{name:"upgrade_thresholds",type:{vec:"u32"}},{name:"level_names",type:{option:{vec:"string"}}}]},{name:"update_probability_table",docs:["Update probability table with new settings (admin only)","Allows runtime modification of seed probabilities without code deployment","","# Parameters","* `version` - Version number for tracking changes","* `seed_count` - Number of seed types (1-9)","* `grow_powers` - Grow power values for each seed type","* `probability_thresholds` - Cumulative probability thresholds (must end at 10000)","* `probability_percentages` - Human-readable percentage values","* `expected_value` - Calculated expected grow power per pack","* `name` - Table name/description (max 32 chars)","","# Examples","## Table 1 (6 seeds):","- grow_powers: [100, 180, 420, 720, 1000, 5000]","- thresholds: [4300, 6800, 8200, 9100, 9700, 10000]","- percentages: [43.0, 25.0, 14.0, 9.0, 6.0, 3.0]","","## Table 2 (9 seeds):","- grow_powers: [100, 180, 420, 720, 1000, 5000, 15000, 30000, 60000]","- thresholds: [4222, 6666, 7999, 8832, 9388, 9721, 9854, 9943, 10000]","- percentages: [42.23, 24.44, 13.33, 8.33, 5.56, 3.33, 1.33, 0.89, 0.56]","","# Security","- Admin signature required","- Validates probability distribution sums to 100%","- Ensures thresholds are in ascending order"],discriminator:[80,238,11,234,239,159,62,2],accounts:[{name:"probability_table",writable:!0,pda:{seeds:[{kind:"const",value:[112,114,111,98,97,98,105,108,105,116,121,95,116,97,98,108,101]}]}},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"admin",writable:!0,signer:!0}],args:[{name:"version",type:"u32"},{name:"seed_count",type:"u8"},{name:"grow_powers",type:{vec:"u64"}},{name:"probability_thresholds",type:{vec:"u16"}},{name:"probability_percentages",type:{vec:"f32"}},{name:"expected_value",type:"u64"},{name:"name",type:"string"}]},{name:"use_invite_code",docs:["招待コード使用","招待コードでユーザー初期化と紹介関係確立"],discriminator:[192,121,34,46,40,34,194,126],accounts:[{name:"invite_account",writable:!0},{name:"user_state",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"invitee"}]}},{name:"config",pda:{seeds:[{kind:"const",value:[99,111,110,102,105,103]}]}},{name:"invitee",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"invite_code",type:{array:["u8",8]}},{name:"inviter_pubkey",type:"pubkey"}]},{name:"view_pending_referral_rewards",docs:["未請求紹介報酬確認（読み取り専用）","UI表示用、請求前の金額確認"],discriminator:[4,72,9,124,106,63,31,28],accounts:[{name:"user_state",docs:["The user whose pending rewards we want to check"],pda:{seeds:[{kind:"const",value:[117,115,101,114]},{kind:"account",path:"user"}]}},{name:"user",docs:["The user's public key"],signer:!0}],args:[]}],nB=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"FarmLevelConfig",discriminator:[49,208,92,9,65,12,64,116]},{name:"FarmSpace",discriminator:[212,214,38,138,92,1,42,252]},{name:"FeePool",discriminator:[172,38,77,146,148,5,51,242]},{name:"GlobalStats",discriminator:[119,53,78,3,254,129,78,28]},{name:"InviteCode",discriminator:[86,36,209,6,117,235,115,0]},{name:"ProbabilityTable",discriminator:[3,178,10,107,203,181,158,179]},{name:"Seed",discriminator:[227,135,95,221,241,179,237,142]},{name:"SeedPack",discriminator:[67,34,254,130,141,109,121,13]},{name:"SeedStorage",discriminator:[77,103,237,157,222,239,165,250]},{name:"UserState",discriminator:[72,177,85,249,76,167,186,126]}],iB=[{name:"PendingReferralRewardsEvent",discriminator:[100,241,165,183,122,102,167,188]}],oB=[{code:6e3,name:"AlreadyHasFarm",msg:"User already has a farm"},{code:6001,name:"NoFarm",msg:"User does not have a farm"},{code:6002,name:"AlreadyHasFarmSpace",msg:"User already has a farm space"},{code:6003,name:"NoFarmSpace",msg:"User does not have a farm space"},{code:6004,name:"NoRewardToClaim",msg:"No reward to claim"},{code:6005,name:"CalculationOverflow",msg:"Calculation overflow"},{code:6006,name:"InvalidConfig",msg:"Invalid configuration"},{code:6007,name:"InvalidFarmLevel",msg:"Invalid farm level"},{code:6008,name:"Unauthorized",msg:"Unauthorized"},{code:6009,name:"UnauthorizedUser",msg:"Unauthorized user access"},{code:6010,name:"InvalidReferrer",msg:"Invalid referrer"},{code:6011,name:"InsufficientFunds",msg:"Insufficient funds"},{code:6012,name:"FarmAtMaxCapacity",msg:"Farm is at maximum capacity"},{code:6013,name:"FarmSpaceAtMaxCapacity",msg:"Farm space is at maximum capacity"},{code:6014,name:"AlreadyUpgrading",msg:"Already upgrading"},{code:6015,name:"MaxLevelReached",msg:"Maximum level reached"},{code:6016,name:"NoUpgradeInProgress",msg:"No upgrade in progress"},{code:6017,name:"UpgradeStillInProgress",msg:"Upgrade still in progress"},{code:6018,name:"SeedNotFound",msg:"Seed not found"},{code:6019,name:"SeedAlreadyPlanted",msg:"Seed already planted"},{code:6020,name:"SeedNotPlanted",msg:"Seed not planted"},{code:6021,name:"InvalidQuantity",msg:"Invalid quantity"},{code:6022,name:"InvalidInviteCode",msg:"Invalid invite code"},{code:6023,name:"InviteCodeLimitReached",msg:"Invite code limit reached"},{code:6024,name:"InvalidInviter",msg:"Invalid inviter"},{code:6025,name:"FarmSpaceCapacityExceeded",msg:"Farm space capacity exceeded"},{code:6026,name:"NotSeedOwner",msg:"Not seed owner"},{code:6027,name:"SeedNotInThisFarmSpace",msg:"Seed not in this farm space"},{code:6028,name:"SeedPackAlreadyOpened",msg:"Seed pack already opened"},{code:6029,name:"NoGrowPower",msg:"No grow power"},{code:6030,name:"NoGlobalGrowPower",msg:"No global grow power"},{code:6031,name:"SeedStorageNotInitialized",msg:"Seed storage not initialized"},{code:6032,name:"StorageFull",msg:"Seed storage is full"},{code:6033,name:"EntropySequenceMismatch",msg:"Entropy sequence mismatch"},{code:6034,name:"EntropyNotReady",msg:"Entropy result not ready yet"},{code:6035,name:"InvalidEntropyAccount",msg:"Invalid entropy result account"},{code:6036,name:"InvalidUserEntropySeed",msg:"Invalid user entropy seed"},{code:6037,name:"SupplyCapExceeded",msg:"Total supply cap exceeded - cannot mint more tokens"},{code:6038,name:"TooManyTransfers",msg:"Too many transfers in batch operation"},{code:6039,name:"InvalidEntropyValue",msg:"Invalid entropy value"},{code:6040,name:"LowEntropyQuality",msg:"Low entropy quality"},{code:6041,name:"InvalidSeedPackQuantity",msg:"Invalid seed pack quantity"},{code:6042,name:"CannotDiscardPlantedSeed",msg:"Cannot discard planted seed"},{code:6043,name:"InvalidReferralLevel",msg:"Invalid referral level - must be 1 or 2"},{code:6044,name:"InsufficientLiquidity",msg:"Insufficient liquidity in the pool"},{code:6045,name:"InsufficientFees",msg:"Insufficient fees for operation"},{code:6046,name:"InvalidAmount",msg:"Invalid amount specified"},{code:6047,name:"SlippageToleranceExceeded",msg:"Slippage tolerance exceeded"},{code:6048,name:"InviteCodeAlreadyUsed",msg:"Invite code has already been used"},{code:6049,name:"InviteCodeInactive",msg:"Invite code is inactive"},{code:6050,name:"UnauthorizedOperator",msg:"Unauthorized operator access"},{code:6051,name:"PendingRewardsLimitExceeded",msg:"Pending referral rewards limit exceeded"},{code:6052,name:"VrfAccountRequired",msg:"VRF account is required for Switchboard VRF method"},{code:6053,name:"VrfPermissionRequired",msg:"VRF permission account is required for Switchboard VRF method"},{code:6054,name:"SwitchboardProgramRequired",msg:"Switchboard program is required for Switchboard VRF method"},{code:6055,name:"InsufficientSolForVrf",msg:"Insufficient SOL balance for VRF fee"},{code:6056,name:"VrfRequestFailed",msg:"VRF request failed"},{code:6057,name:"VrfResultNotAvailable",msg:"VRF result not available yet"},{code:6058,name:"InvalidVrfAccount",msg:"Invalid VRF account"},{code:6059,name:"SeedTypeLimitReached",msg:"Seed type limit reached - maximum 100 seeds per type"},{code:6060,name:"HashVerificationFailed",msg:"Hash verification failed for invite code"},{code:6061,name:"InvalidSalt",msg:"Invalid salt for hash generation"},{code:6062,name:"InvalidOwnership",msg:"Invalid ownership - account does not belong to user"}],sB=[{name:"Config",docs:["Global system configuration","Stores all game parameters and admin settings"],type:{kind:"struct",fields:[{name:"base_rate",docs:["Base reward rate in tokens per second (default: 100 WEED/sec)"],type:"u64"},{name:"halving_interval",docs:["Halving mechanism interval in seconds (default: 200 seconds)"],type:"i64"},{name:"next_halving_time",docs:["Next scheduled halving timestamp"],type:"i64"},{name:"admin",docs:["System administrator public key"],type:"pubkey"},{name:"treasury",docs:["Treasury wallet for fee collection and SOL payments"],type:"pubkey"},{name:"seed_pack_cost",docs:["Mystery seed pack cost in base token units (300 WEED)"],type:"u64"},{name:"seed_counter",docs:["Global seed counter for unique seed IDs"],type:"u64"},{name:"seed_pack_counter",docs:["Global seed pack counter for unique pack IDs"],type:"u64"},{name:"farm_space_cost_sol",docs:["Farm space purchase cost in lamports (0.5 SOL)"],type:"u64"},{name:"max_invite_limit",docs:["Maximum allowed invites per user (default: 5)"],type:"u8"},{name:"trading_fee_percentage",docs:["Trading fee as percentage (default: 2%)"],type:"u8"},{name:"protocol_referral_address",docs:["Protocol address that doesn't receive referral rewards"],type:"pubkey"},{name:"total_supply_minted",docs:["Total amount of WEED tokens minted so far"],type:"u64"},{name:"operator",docs:["Operator address with unlimited invite privileges"],type:"pubkey"},{name:"reserve",docs:["Reserved bytes for future upgrades (reduced from 2 to accommodate total_supply_minted)"],type:{array:["u8",2]}}]}},{name:"FarmLevelConfig",docs:["Dynamic farm level configuration","Allows flexible addition of new farm levels"],type:{kind:"struct",fields:[{name:"max_level",docs:["Maximum supported level (1-20)"],type:"u8"},{name:"capacities",docs:["Capacity for each level (dynamic array)"],type:"bytes"},{name:"upgrade_thresholds",docs:["Pack purchase thresholds for each level (dynamic array)"],type:{vec:"u32"}},{name:"level_names",docs:["Optional names for each level (dynamic array)"],type:{vec:"string"}},{name:"created_at",docs:["Configuration creation timestamp"],type:"i64"},{name:"updated_at",docs:["Last update timestamp"],type:"i64"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",32]}}]}},{name:"FarmLevelInfo",docs:["Return type for level information queries"],type:{kind:"struct",fields:[{name:"level",type:"u8"},{name:"capacity",type:"u8"},{name:"upgrade_threshold",type:"u32"},{name:"name",type:"string"},{name:"is_max_level",type:"bool"},{name:"next_threshold",type:{option:"u32"}}]}},{name:"FarmSpace",docs:["Farm space account for seed cultivation","Manages capacity, upgrades, and seed placement"],type:{kind:"struct",fields:[{name:"owner",docs:["Farm space owner's public key"],type:"pubkey"},{name:"level",docs:["Current level (1-5, affects capacity)"],type:"u8"},{name:"capacity",docs:["Maximum seeds that can be planted at current level"],type:"u8"},{name:"seed_count",docs:["Number of seeds currently planted"],type:"u8"},{name:"total_grow_power",docs:["Combined grow power of all planted seeds"],type:"u64"},{name:"reserve",docs:["Reserved bytes for future expansion"],type:{array:["u8",32]}}]}},{name:"FeePool",docs:["Fee collection pool PDA"],type:{kind:"struct",fields:[{name:"accumulated_fees",docs:["Accumulated trading fees in $WEED"],type:"u64"},{name:"treasury_address",docs:["Treasury multisig/address for SOL conversion"],type:"pubkey"},{name:"last_collection_time",docs:["Last fee collection timestamp"],type:"i64"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",48]}}]}},{name:"GlobalStats",docs:["Global statistics PDA"],type:{kind:"struct",fields:[{name:"total_grow_power",docs:["Total grow power across all users"],type:"u64"},{name:"total_farm_spaces",docs:["Total number of active farm spaces"],type:"u64"},{name:"total_supply",docs:["Total $WEED supply (240 million)"],type:"u64"},{name:"current_rewards_per_second",docs:["Current rewards per second (decreases with halving)"],type:"u64"},{name:"last_update_time",docs:["Last update timestamp"],type:"i64"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",32]}}]}},{name:"InviteCode",docs:["Invite code management PDA (Hash-based for privacy)"],type:{kind:"struct",fields:[{name:"inviter",docs:["Invite code creator (user who can invite others)"],type:"pubkey"},{name:"invites_used",docs:["Current number of people invited"],type:"u16"},{name:"invite_limit",docs:["Maximum invite limit for this user"],type:"u16"},{name:"code_hash",docs:["Hash of the invite code (SHA256(code + salt))"],type:{array:["u8",32]}},{name:"salt",docs:["Random salt for hash security"],type:{array:["u8",16]}},{name:"code_index",docs:["Index in the inviter's code list"],type:"u16"},{name:"created_at",docs:["Creation timestamp"],type:"i64"},{name:"is_active",docs:["Whether this code is active"],type:"bool"},{name:"created_as_operator",docs:["Whether this code was created by an operator (for privilege validation)"],type:"bool"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",14]}}]}},{name:"PendingReferralRewardsEvent",docs:["Event emitted when checking pending referral rewards"],type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"pending_amount",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"ProbabilityTable",docs:["Dynamic probability table for seed generation","Allows admin to update probabilities without code changes"],type:{kind:"struct",fields:[{name:"version",docs:["Table version number for tracking updates"],type:"u32"},{name:"seed_count",docs:["Number of seed types in this table (6 for Table 1, 9 for Table 2)"],type:"u8"},{name:"grow_powers",docs:["Grow power values for each seed type (max 9 types)"],type:{array:["u64",9]}},{name:"probability_thresholds",docs:["Probability thresholds for cumulative distribution (max 9 types)"],type:{array:["u16",9]}},{name:"probability_percentages",docs:["Human-readable probability percentages (max 9 types)"],type:{array:["f32",9]}},{name:"expected_value",docs:["Expected value of a pack with this table"],type:"u64"},{name:"name",docs:["Table name/description"],type:{array:["u8",32]}},{name:"created_at",docs:["Creation timestamp"],type:"i64"},{name:"updated_at",docs:["Last update timestamp"],type:"i64"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",32]}}]}},{name:"Seed",docs:["Seed account (stored in user's storage)"],type:{kind:"struct",fields:[{name:"owner",docs:["Seed owner"],type:"pubkey"},{name:"seed_type",docs:["Seed type (determines grow power)"],type:{defined:{name:"SeedType"}}},{name:"grow_power",docs:["Grow power of this seed"],type:"u64"},{name:"is_planted",docs:["Whether this seed is currently planted in farm space"],type:"bool"},{name:"planted_farm_space",docs:["Farm space where this seed is planted (if any)"],type:{option:"pubkey"}},{name:"created_at",docs:["Creation timestamp"],type:"i64"},{name:"seed_id",docs:["Unique seed ID"],type:"u64"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",32]}}]}},{name:"SeedPack",docs:["Seed Pack purchase tracker"],type:{kind:"struct",fields:[{name:"purchaser",docs:["Purchaser"],type:"pubkey"},{name:"purchased_at",docs:["Purchase timestamp"],type:"i64"},{name:"cost_paid",docs:["Pack cost paid in WEED tokens"],type:"u64"},{name:"vrf_fee_paid",docs:["VRF fee paid in SOL lamports (0 for Solana native)"],type:"u64"},{name:"is_opened",docs:["Whether pack has been opened"],type:"bool"},{name:"vrf_sequence",docs:["VRF sequence number (for tracking the VRF request)"],type:"u64"},{name:"user_entropy_seed",docs:["User-provided entropy seed (for additional randomness)"],type:"u64"},{name:"final_random_value",docs:["Final random value (set after opening)"],type:"u64"},{name:"pack_id",docs:["Pack ID"],type:"u64"},{name:"vrf_account",docs:["Switchboard VRF account"],type:"pubkey"},{name:"reserve",docs:["Reserved for future expansion"],type:{array:["u8",8]}}]}},{name:"SeedStorage",docs:["User's seed inventory management","Tracks all seeds owned by a user with type-based limits"],type:{kind:"struct",fields:[{name:"owner",docs:["Storage owner's public key"],type:"pubkey"},{name:"seed_ids",docs:["Dynamic array of seed IDs (max 2000 total)"],type:{vec:"u64"}},{name:"total_seeds",docs:["Current seed count for quick access"],type:"u32"},{name:"seed_type_counts",docs:["Count of each seed type (9 types, max 100 each)"],type:{array:["u16",9]}},{name:"reserve",docs:["Reserved bytes for future features"],type:{array:["u8",16]}}]}},{name:"SeedType",docs:["Seed types with fixed grow power and probabilities"],type:{kind:"enum",variants:[{name:"Seed1"},{name:"Seed2"},{name:"Seed3"},{name:"Seed4"},{name:"Seed5"},{name:"Seed6"},{name:"Seed7"},{name:"Seed8"},{name:"Seed9"}]}},{name:"UserState",docs:["Individual user account state","Tracks user progress and referral relationships"],type:{kind:"struct",fields:[{name:"owner",docs:["User's wallet public key"],type:"pubkey"},{name:"total_grow_power",docs:["Sum of all grow power from user's planted seeds"],type:"u64"},{name:"last_harvest_time",docs:["Timestamp of last reward claim"],type:"i64"},{name:"has_farm_space",docs:["Farm space ownership flag"],type:"bool"},{name:"referrer",docs:["Optional referrer for multi-level referral system"],type:{option:"pubkey"}},{name:"pending_referral_rewards",docs:["Unclaimed referral commission tokens"],type:"u64"},{name:"total_packs_purchased",docs:["Total number of seed packs purchased by this user (for farm auto-upgrade)"],type:"u32"},{name:"reserve",docs:["Reserved bytes for future features (reduced from 32 to 28 to accommodate total_packs_purchased)"],type:{array:["u8",28]}}]}}],aB={address:eB,metadata:tB,instructions:rB,accounts:nB,events:iB,errors:oB,types:sB};class cB{constructor(e){nt(this,"program");nt(this,"provider");this.provider=e,this.program=new xs(aB,e)}async calculatePDAs(e){const[t]=Q.findProgramAddressSync([Buffer.from("user"),e.toBuffer()],this.program.programId),[n]=Q.findProgramAddressSync([Buffer.from("farm_space"),e.toBuffer()],this.program.programId),[i]=Q.findProgramAddressSync([Buffer.from("config")],this.program.programId),[o]=Q.findProgramAddressSync([Buffer.from("reward_mint")],this.program.programId),[s]=Q.findProgramAddressSync([Buffer.from("mint_authority")],this.program.programId),[a]=Q.findProgramAddressSync([Buffer.from("global_stats")],this.program.programId);return{userState:t,farmSpace:n,config:i,rewardMint:o,mintAuthority:s,globalStats:a}}async initializeConfig(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e);return await this.program.methods.initializeConfig(new gr(100),new gr(604800),e,null).accounts({config:t.config,admin:e,systemProgram:tt.programId}).rpc()}async createRewardMint(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e);return await this.program.methods.createRewardMint().accountsPartial({rewardMint:t.rewardMint,mintAuthority:t.mintAuthority,transferFeeConfigAuthority:t.mintAuthority,withdrawWithheldAuthority:e,admin:e,tokenProgram:new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),systemProgram:tt.programId,rent:new Q("SysvarRent111111111111111111111111111111111")}).rpc()}async initializeGlobalStats(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e);return await this.program.methods.initializeGlobalStats().accounts({globalStats:t.globalStats,admin:e,systemProgram:tt.programId}).rpc()}async initUser(e,t){const n=this.provider.wallet.publicKey,i=await this.calculatePDAs(n);return e&&t?this.useInviteCode(e,t):await this.program.methods.initUser(null).accounts({userState:i.userState,user:n,systemProgram:tt.programId}).rpc()}async useInviteCode(e,t){const n=this.provider.wallet.publicKey,i=await this.calculatePDAs(n),o=new Array(8).fill(0);for(let p=0;p<Math.min(e.length,8);p++)o[p]=e.charCodeAt(p);const s=new Uint8Array([70,65,67,73,76,73,84,89,71,65,77,69,50,48,50,52]),a=new Uint8Array([...o,...s,...t.toBytes()]),c=Tc.SHA256(Tc.lib.WordArray.create(a)).toString(),u=new Uint8Array(Buffer.from(c,"hex")),[f]=Q.findProgramAddressSync([Buffer.from("invite_hash"),t.toBuffer(),Buffer.from(u)],this.program.programId);return await this.program.methods.useInviteCode(o,t).accounts({inviteAccount:f,userState:i.userState,config:i.config,invitee:n,systemProgram:tt.programId}).rpc()}async buyFarmSpace(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e),n=await this.program.account.config.fetch(t.config),[i]=Q.findProgramAddressSync([Buffer.from("seed"),e.toBuffer(),new gr(0).toArrayLike(Buffer,"le",8)],this.program.programId);return await this.program.methods.buyFarmSpace().accounts({userState:t.userState,farmSpace:t.farmSpace,initialSeed:i,config:t.config,globalStats:t.globalStats,treasury:n.treasury,user:e,systemProgram:tt.programId}).rpc()}async claimRewards(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e),n=new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),i=await V0(t.rewardMint,e,!1,n),o=await this.provider.connection.getAccountInfo(i),s={userState:t.userState,config:t.config,globalStats:t.globalStats,rewardMint:t.rewardMint,mintAuthority:t.mintAuthority,userTokenAccount:i,user:e,tokenProgram:n,level1ReferrerState:t.userState,level1Referrer:e,level2ReferrerState:t.userState,level2Referrer:e};let a=this.program.methods.claimRewardWithReferralRewards().accounts(s);if(!o){const u=RI(e,i,e,t.rewardMint,n);a=a.preInstructions([u])}return await a.rpc()}async getTokenBalance(e){try{const t=await this.calculatePDAs(e),n=new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),i=await V0(t.rewardMint,e,!1,n),o=await this.provider.connection.getTokenAccountBalance(i),s=new gr(o.value.amount),a=o.value.decimals;return s.toNumber()/Math.pow(10,a)}catch{return 0}}async createInviteCode(e){const t=this.provider.wallet.publicKey,n=await this.calculatePDAs(t),i=new Array(8).fill(0);for(let y=0;y<Math.min(e.length,8);y++)i[y]=e.charCodeAt(y);const o=new Uint8Array([70,65,67,73,76,73,84,89,71,65,77,69,50,48,50,52]),s=new Uint8Array([...i,...o,...t.toBytes()]),a=Tc.SHA256(Tc.lib.WordArray.create(s)).toString(),c=new Uint8Array(Buffer.from(a,"hex")),[u]=Q.findProgramAddressSync([Buffer.from("invite_hash"),t.toBuffer(),Buffer.from(c)],this.program.programId);return await this.program.methods.createInviteCode(i).accounts({inviteAccount:u,config:n.config,inviter:t,systemProgram:tt.programId}).rpc()}async purchaseSeedPack(e=1){const t=this.provider.wallet.publicKey,n=await this.calculatePDAs(t),i=new Q("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),o=await V0(n.rewardMint,t,!1,i),[s]=Q.findProgramAddressSync([Buffer.from("seed_storage"),t.toBuffer()],this.program.programId),[a]=Q.findProgramAddressSync([Buffer.from("probability_table")],this.program.programId);return await this.program.methods.purchaseSeedPack(e,new gr(Math.floor(Math.random()*1e6)),new gr(5e6)).accounts({userState:n.userState,seedStorage:s,userTokenAccount:o,rewardMint:n.rewardMint,config:n.config,probabilityTable:a,user:t,tokenProgram:i}).rpc()}async viewPendingReferralRewards(){const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e);return await this.program.methods.viewPendingReferralRewards().accounts({userState:t.userState,user:e}).rpc()}async getUserState(e){try{const t=await this.calculatePDAs(e);return await this.program.account.userState.fetch(t.userState)}catch{return null}}async getFarmSpace(e){try{const t=await this.calculatePDAs(e);return await this.program.account.farmSpace.fetch(t.farmSpace)}catch{return null}}async getGlobalStats(){try{const e=this.provider.wallet.publicKey,t=await this.calculatePDAs(e);return await this.program.account.globalStats.fetch(t.globalStats)}catch{return null}}}const uB=({connectionStatus:r})=>W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"📡 接続状況"}),W.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[W.jsx("span",{style:{display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",marginRight:"8px",backgroundColor:r.connected?"#28a745":"#dc3545"}}),r.connected?"Helius RPC 接続済み":"接続失敗"]}),W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsxs("div",{children:[W.jsx("strong",{children:"RPC Endpoint:"})," ",r.rpcUrl||"-"]}),W.jsxs("div",{children:[W.jsx("strong",{children:"Network:"})," ",r.network.toUpperCase()]}),W.jsxs("div",{children:[W.jsx("strong",{children:"Program ID:"})," ",r.programId||"FA1xdxZNykyJaMsuSekWJrUzwY8PVh1Usn7mR8eWmw5B"]})]})]}),lB=({walletState:r,onConnect:e,onAirdrop:t,loading:n})=>{var s;const i={background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",margin:"10px 5px",transition:"all 0.3s ease",opacity:n?.7:1},o={...i,background:"#28a745",fontSize:"18px",padding:"15px 30px"};return W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"👛 ウォレット"}),W.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"15px"},children:[W.jsx("span",{style:{display:"inline-block",width:"12px",height:"12px",borderRadius:"50%",marginRight:"8px",backgroundColor:r!=null&&r.connected?"#28a745":"#dc3545"}}),r!=null&&r.connected?"接続済み":"未接続"]}),r!=null&&r.connected?W.jsxs(W.Fragment,{children:[W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsxs("div",{children:[W.jsx("strong",{children:"アドレス:"})," ",(s=r.publicKey)==null?void 0:s.toString()]}),W.jsxs("div",{children:[W.jsx("strong",{children:"残高:"})," ",r.balance.toFixed(4)," SOL"]})]}),W.jsxs("div",{style:{border:"2px solid #28a745",background:"#f8fff9",borderRadius:"10px",padding:"15px",margin:"15px 0"},children:[W.jsx("h4",{style:{marginTop:0,color:"#155724"},children:"💰 devnet SOL取得 (テスト用)"}),W.jsxs("div",{style:{marginBottom:"15px",color:"#155724"},children:[W.jsx("strong",{children:"最初にSOLを取得してください！"}),W.jsx("br",{}),"すべての操作にはSOL（手数料）が必要です。"]}),W.jsx("button",{onClick:t,style:o,disabled:n,children:"💰 2 SOL を取得する"}),W.jsx("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:"※ devnetのテスト用SOLです。実際の価値はありません。"})]})]}):W.jsx("button",{onClick:e,style:i,disabled:n,children:"ウォレット接続"})]})},fB=()=>{const r=[{name:"initialize_config",category:"Admin",description:"システム全体の設定を初期化",parameters:["base_rate: Option<u64> - 基本報酬レート（デフォルト: 100 WEED/秒）","halving_interval: Option<i64> - 半減期間隔（デフォルト: 7日）","treasury: Pubkey - 手数料収集用ウォレット","protocol_referral_address: Option<Pubkey> - プロトコル紹介者"],security:["admin署名必須","一度のみ実行可能（PDAの重複初期化防止）"]},{name:"create_reward_mint",category:"Admin",description:"$WEEDトークンのミントアカウントを作成（SPL Token 2022 + Transfer Fee Extension）",parameters:[],features:["PDAによるミント権限管理（セキュリティ向上）","SPL Token 2022のTransfer Fee Extension（2%手数料）","Metaplexメタデータ作成（トークン情報表示用）","6桁精度での発行設定","自動手数料回収（treasury宛）"],transferFee:{rate:"2.00% (200 basis points)",maxFee:"1000 WEED",collector:"treasury",authority:"mint_authority PDA"}},{name:"init_user",category:"User",description:"ユーザーアカウントの初期化",parameters:["referrer: Option<Pubkey> - 紹介者のpubkey（招待コード使用時のみ）"],creates:["UserState PDA: ユーザーの進行状況","初期grow_power: 0（農場購入で増加）","紹介関係の記録（多段階報酬システム用）"]},{name:"buy_farm_space",category:"Farm",description:"農場スペースの購入（レベル1）",cost:"0.5 SOL",execution:["0.5 SOL → treasuryに送金","FarmSpace PDA作成（容量4、レベル1）","初期Seed1を無料で付与（100 Grow Power）","グローバル統計の更新"],constraints:["ユーザーは1つまで","UserState初期化済み必須"]},{name:"claim_reward_with_referral_rewards",category:"Rewards",description:"統合報酬請求（メイン関数）",flow:["1. 半減期チェック・適用","2. 農場報酬計算（比例配分）","3. 蓄積された紹介報酬請求","4. 新規紹介報酬分配（L1: 10%, L2: 5%）","5. すべてのトークンを一括ミント・配布"],benefits:["複数のトランザクションが不要","ガス効率性向上","ユーザー体験の向上"]},{name:"purchase_seed_pack",category:"Seeds",description:"ミステリーシードパックの購入（Switchboard VRF統合）",cost:"300 $WEED + VRF手数料",parameters:["quantity: u8 - 購入数量（1-100）","user_entropy_seed: u64 - ユーザー提供の乱数シード","max_vrf_fee: u64 - 支払い可能な最大VRF手数料（lamports）"],vrfIntegration:["検証可能な真正乱数による最高品質の公平性","コミット・リビール方式で操作不可能","第三者オラクルによる透明性保証"],costStructure:{weedBurn:"300 WEED × quantity",vrfFee:"約0.002 SOL（2,000,000 lamports）",breakdown:["基本取引手数料: 5,000 × 15取引 = 75,000 lamports","ストレージレント: 2,400 lamports","オラクル処理費: 2,000,000 lamports","総計: ~2,077,400 lamports"]}},{name:"create_invite_code",category:"Invite",description:"招待コード作成",parameters:["invite_code: [u8; 8] - 8バイトの招待コード（英数字のみ）"],limits:["運営者: 255回（事実上無制限）","一般ユーザー: 5回まで"],security:["ハッシュベースでプライバシー確保","英数字のみ使用可能"]},{name:"use_invite_code",category:"Invite",description:"招待コード使用",parameters:["invite_code: [u8; 8] - 8バイト招待コード","inviter_pubkey: Pubkey - 招待者の公開鍵"],effect:"招待コードでユーザー初期化と紹介関係確立"}],e={Admin:"#dc3545",User:"#28a745",Farm:"#fd7e14",Rewards:"#17a2b8",Seeds:"#6f42c1",Invite:"#20c997"};return W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"🔧 Rust 命令セット"}),W.jsx("p",{style:{fontSize:"14px",color:"#6c757d",marginBottom:"20px"},children:"Solanaプログラムで利用可能な命令とその詳細"}),W.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:r.map((t,n)=>W.jsxs("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",marginBottom:"15px",padding:"15px",background:"white"},children:[W.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[W.jsx("span",{style:{background:e[t.category],color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px",marginRight:"10px"},children:t.category}),W.jsx("code",{style:{background:"#f8f9fa",padding:"4px 8px",borderRadius:"4px",fontFamily:"Courier New, monospace",fontSize:"14px",fontWeight:"bold"},children:t.name})]}),W.jsx("p",{style:{fontSize:"14px",margin:"8px 0",color:"#495057"},children:t.description}),t.parameters&&t.parameters.length>0&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#6c757d"},children:"Parameters:"}),W.jsx("ul",{style:{fontSize:"12px",margin:"5px 0",paddingLeft:"20px"},children:t.parameters.map((i,o)=>W.jsx("li",{style:{marginBottom:"2px"},children:i},o))})]}),t.features&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#6c757d"},children:"Features:"}),W.jsx("ul",{style:{fontSize:"12px",margin:"5px 0",paddingLeft:"20px"},children:t.features.map((i,o)=>W.jsx("li",{style:{marginBottom:"2px"},children:i},o))})]}),t.security&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#dc3545"},children:"Security:"}),W.jsx("ul",{style:{fontSize:"12px",margin:"5px 0",paddingLeft:"20px"},children:t.security.map((i,o)=>W.jsx("li",{style:{marginBottom:"2px"},children:i},o))})]}),t.cost&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#fd7e14"},children:"Cost: "}),W.jsx("span",{style:{fontSize:"12px"},children:t.cost})]})]},n))})]})},dB=()=>{const r=[{category:"基本報酬計算",name:"calculate_base_reward",formula:"(elapsed_time × grow_power × base_rate) / 1000",description:"ユーザーの基本報酬を計算",parameters:["elapsed_time: u64 - 経過時間（秒）","grow_power: u64 - ユーザーのGrow Power","base_rate: u64 - 基本報酬レート（デフォルト: 100 WEED/秒）"],example:{inputs:"elapsed_time=3600, grow_power=100, base_rate=10",calculation:"(3600 × 100 × 10) / 1000 = 3600 WEED",note:"1時間で3600 WEED獲得（100 Grow Power、レート10の場合）"}},{category:"ユーザーシェア計算",name:"calculate_user_share_reward",formula:"(user_grow_power / total_grow_power) × base_rate × elapsed_time",description:"グローバルプール報酬のユーザーシェアを計算",parameters:["user_grow_power: u64 - ユーザーのGrow Power","total_grow_power: u64 - 全体のGrow Power","base_rate: u64 - 基本報酬レート","elapsed_time: u64 - 経過時間"],example:{inputs:"user=100GP, total=1000GP, rate=10, time=3600s",calculation:"(100/1000) × 10 × 3600 = 3600 WEED",note:"全体の10%のシェアを持つユーザーが1時間で獲得"}},{category:"紹介報酬計算",name:"calculate_referral_rewards",formula:"Level1: base_reward × 10%, Level2: base_reward × 5%",description:"レベル1とレベル2の紹介報酬を計算",parameters:["base_reward: u64 - 基本報酬額","LEVEL1_REFERRAL_PERCENTAGE: 10%","LEVEL2_REFERRAL_PERCENTAGE: 5%"],example:{inputs:"base_reward=1000 WEED",calculation:"L1: 1000 × 10% = 100 WEED, L2: 1000 × 5% = 50 WEED",note:"多段階報酬システムによる自動分配"}},{category:"半減期メカニズム",name:"check_and_apply_halving",formula:"new_rate = current_rate / 2 (when time >= next_halving_time)",description:"半減期チェックと新レート適用",parameters:["current_time: i64 - 現在時刻","next_halving_time: i64 - 次の半減期時刻","current_rate: u64 - 現在の報酬レート","halving_interval: i64 - 半減期間隔（デフォルト: 7日）"],example:{inputs:"current_rate=100, interval=7日",calculation:"7日後: 100 → 50, 14日後: 50 → 25",note:"定期的な報酬レート半減によるインフレ抑制"}},{category:"取引手数料計算",name:"calculate_trading_fee",formula:"fee = amount × 2%, transfer_amount = amount - fee",description:"SPL Token 2022 Transfer Fee Extension",parameters:["amount: u64 - 転送金額","TRADING_FEE_PERCENTAGE: 2%","max_fee: 1000 WEED"],example:{inputs:"amount=1000 WEED",calculation:"fee: 1000 × 2% = 20 WEED, transfer: 980 WEED",note:"自動手数料回収、treasury宛に送金"}},{category:"シードパック期待値",name:"calculate_seed_pack_expected_value",formula:"Σ(grow_power[i] × probability[i])",description:"シードパックの期待Grow Power値",probabilities:["Seed1 (100GP): 42.23%","Seed2 (180GP): 24.44%","Seed3 (420GP): 13.33%","Seed4 (720GP): 8.33%","Seed5 (1000GP): 5.56%","Seed6 (5000GP): 3.33%","Seed7 (15000GP): 1.33%","Seed8 (30000GP): 0.89%","Seed9 (60000GP): 0.56%"],example:{calculation:"100×0.4223 + 180×0.2444 + ... ≈ 853 GP",note:"Switchboard VRFによる暗号学的証明済み確率"}},{category:"アップグレード効率",name:"calculate_upgrade_efficiency",formula:"cost_per_slot = upgrade_cost / capacity_increase",description:"アップグレードの容量あたりコスト効率",farmLevels:["Level 1→2: 容量 4→8 (+4), コスト: 1000 WEED","Level 2→3: 容量 8→12 (+4), コスト: 2000 WEED","Level 3→4: 容量 12→16 (+4), コスト: 3000 WEED","Level 4→5: 容量 16→20 (+4), コスト: 4000 WEED"],example:{calculation:"L1→L2: 1000/4 = 250 WEED/slot",note:"自動アップグレード: 30, 100, 300, 500パック購入時"}},{category:"ROI計算",name:"calculate_seed_roi",formula:"((grow_power - expected_cost) / expected_cost) × 100",description:"各シードタイプの投資収益率",parameters:["grow_power: 各シードのGrow Power値","expected_cost: pack_cost / probability","pack_cost: 300 WEED"],example:{inputs:"Seed1: GP=100, prob=42.23%",calculation:"cost: 300/0.4223≈711, ROI: ((100-711)/711)×100≈-86%",note:"高レアリティシードほど正のROIの可能性"}}];return W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"📊 経済計算式"}),W.jsx("p",{style:{fontSize:"14px",color:"#6c757d",marginBottom:"20px"},children:"ゲーム経済の核となる計算式とその詳細（economics.rs）"}),W.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:r.map((e,t)=>W.jsxs("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",marginBottom:"15px",padding:"15px",background:"white"},children:[W.jsxs("div",{style:{marginBottom:"10px"},children:[W.jsx("span",{style:{background:"#17a2b8",color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"12px",marginRight:"10px"},children:e.category}),W.jsx("code",{style:{background:"#f8f9fa",padding:"4px 8px",borderRadius:"4px",fontFamily:"Courier New, monospace",fontSize:"13px",fontWeight:"bold"},children:e.name})]}),W.jsx("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"6px",padding:"10px",margin:"10px 0",fontFamily:"Courier New, monospace",fontSize:"14px",fontWeight:"bold",color:"#856404"},children:e.formula}),W.jsx("p",{style:{fontSize:"14px",margin:"8px 0",color:"#495057"},children:e.description}),e.parameters&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#6c757d"},children:"Parameters:"}),W.jsx("ul",{style:{fontSize:"12px",margin:"5px 0",paddingLeft:"20px"},children:e.parameters.map((n,i)=>W.jsx("li",{style:{marginBottom:"2px"},children:n},i))})]}),e.probabilities&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#6c757d"},children:"Seed Probabilities:"}),W.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"5px",fontSize:"11px",margin:"5px 0"},children:e.probabilities.map((n,i)=>W.jsx("div",{style:{background:"#f8f9fa",padding:"3px 6px",borderRadius:"3px"},children:n},i))})]}),e.farmLevels&&W.jsxs("div",{style:{marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#6c757d"},children:"Farm Levels:"}),W.jsx("ul",{style:{fontSize:"12px",margin:"5px 0",paddingLeft:"20px"},children:e.farmLevels.map((n,i)=>W.jsx("li",{style:{marginBottom:"2px"},children:n},i))})]}),e.example&&W.jsxs("div",{style:{background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"6px",padding:"10px",marginTop:"10px"},children:[W.jsx("strong",{style:{fontSize:"13px",color:"#155724"},children:"Example:"}),W.jsxs("div",{style:{fontSize:"12px",marginTop:"5px"},children:[W.jsxs("div",{children:[W.jsx("strong",{children:"Input:"})," ",e.example.inputs]}),W.jsxs("div",{children:[W.jsx("strong",{children:"Calculation:"})," ",e.example.calculation]}),e.example.note&&W.jsxs("div",{children:[W.jsx("strong",{children:"Note:"})," ",e.example.note]})]})]})]},t))})]})},hB=()=>{const[r,e]=yr.useState(""),[t,n]=yr.useState(""),i=()=>{if(r.length!==8){alert("招待コードは8文字で入力してください");return}console.log(`Creating invite code: ${r}`)},o=()=>{if(r.length!==8||!t){alert("招待コードと招待者アドレスを正しく入力してください");return}console.log(`Using invite code: ${r} from ${t}`)};return W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"🎫 招待コード処理"}),W.jsx("p",{style:{fontSize:"14px",color:"#6c757d",marginBottom:"20px"},children:"ハッシュベース招待システムの仕様と実装"}),W.jsxs("div",{style:{background:"#d1ecf1",border:"1px solid #bee5eb",borderRadius:"8px",padding:"15px",marginBottom:"20px"},children:[W.jsx("h4",{style:{marginTop:0,color:"#0c5460"},children:"📋 システム仕様"}),W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsx("strong",{style:{color:"#0c5460"},children:"招待コード形式:"}),W.jsxs("ul",{style:{fontSize:"13px",marginTop:"5px",paddingLeft:"20px"},children:[W.jsx("li",{children:"8バイト固定長（8文字）"}),W.jsx("li",{children:"英数字のみ使用可能"}),W.jsx("li",{children:"ハッシュベースでプライバシー確保"}),W.jsx("li",{children:"重複防止機能内蔵"})]})]}),W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsx("strong",{style:{color:"#0c5460"},children:"作成制限:"}),W.jsxs("ul",{style:{fontSize:"13px",marginTop:"5px",paddingLeft:"20px"},children:[W.jsx("li",{children:"運営者: 255回（事実上無制限）"}),W.jsx("li",{children:"一般ユーザー: 5回まで"}),W.jsx("li",{children:"一度に1つのアクティブコード"})]})]}),W.jsxs("div",{children:[W.jsx("strong",{style:{color:"#0c5460"},children:"紹介報酬システム:"}),W.jsxs("ul",{style:{fontSize:"13px",marginTop:"5px",paddingLeft:"20px"},children:[W.jsx("li",{children:"Level 1 (直接): 基本報酬の10%"}),W.jsx("li",{children:"Level 2 (間接): 基本報酬の5%"}),W.jsx("li",{children:"自動分配・蓄積システム"}),W.jsx("li",{children:"統合請求機能"})]})]})]}),W.jsxs("div",{style:{marginBottom:"20px"},children:[W.jsx("h4",{style:{color:"#495057",marginBottom:"15px"},children:"🔧 Rust実装詳細"}),W.jsx("div",{style:{marginBottom:"15px"},children:W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"6px",padding:"10px"},children:[W.jsx("code",{style:{fontWeight:"bold"},children:"create_invite_code"}),W.jsxs("div",{style:{fontSize:"13px",marginTop:"8px"},children:[W.jsx("strong",{children:"Parameters:"}),W.jsx("ul",{style:{marginTop:"5px",paddingLeft:"20px"},children:W.jsxs("li",{children:[W.jsx("code",{children:"invite_code: [u8; 8]"})," - 8バイト招待コード"]})}),W.jsx("strong",{children:"Security:"}),W.jsxs("ul",{style:{marginTop:"5px",paddingLeft:"20px"},children:[W.jsx("li",{children:"ユーザー署名必須"}),W.jsx("li",{children:"作成制限チェック"}),W.jsx("li",{children:"重複防止"}),W.jsx("li",{children:"英数字バリデーション"})]})]})]})}),W.jsx("div",{style:{marginBottom:"15px"},children:W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"6px",padding:"10px"},children:[W.jsx("code",{style:{fontWeight:"bold"},children:"use_invite_code"}),W.jsxs("div",{style:{fontSize:"13px",marginTop:"8px"},children:[W.jsx("strong",{children:"Parameters:"}),W.jsxs("ul",{style:{marginTop:"5px",paddingLeft:"20px"},children:[W.jsxs("li",{children:[W.jsx("code",{children:"invite_code: [u8; 8]"})," - 使用する招待コード"]}),W.jsxs("li",{children:[W.jsx("code",{children:"inviter_pubkey: Pubkey"})," - 招待者の公開鍵"]})]}),W.jsx("strong",{children:"Process:"}),W.jsxs("ul",{style:{marginTop:"5px",paddingLeft:"20px"},children:[W.jsx("li",{children:"招待コード検証"}),W.jsx("li",{children:"ユーザー初期化"}),W.jsx("li",{children:"紹介関係確立"}),W.jsx("li",{children:"報酬システム登録"})]})]})]})})]}),W.jsxs("div",{style:{marginBottom:"20px"},children:[W.jsx("h4",{style:{color:"#495057",marginBottom:"15px"},children:"🏗️ PDA構造"}),W.jsxs("div",{style:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"6px",padding:"10px",fontFamily:"Courier New, monospace",fontSize:"13px"},children:[W.jsx("div",{children:W.jsx("strong",{children:"InviteCode PDA:"})}),W.jsx("div",{children:'Seeds: ["invite_code", creator_pubkey, invite_code_hash]'}),W.jsx("br",{}),W.jsx("div",{children:W.jsx("strong",{children:"UserState PDA:"})}),W.jsx("div",{children:'Seeds: ["user", user_pubkey]'}),W.jsx("div",{children:"Includes: referrer, referral_level, invite_count"})]})]}),W.jsxs("div",{style:{background:"#e2e3e5",border:"1px solid #d6d8db",borderRadius:"8px",padding:"15px"},children:[W.jsx("h4",{style:{marginTop:0,color:"#383d41"},children:"🧪 テスト機能（デモ用）"}),W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"bold"},children:"招待コード（8文字）:"}),W.jsx("input",{type:"text",value:r,onChange:s=>e(s.target.value.slice(0,8)),placeholder:"例: GAME2024",style:{width:"200px",padding:"8px",borderRadius:"4px",border:"1px solid #ced4da",fontSize:"14px",fontFamily:"Courier New, monospace"},maxLength:8}),W.jsxs("div",{style:{fontSize:"11px",color:"#6c757d",marginTop:"3px"},children:[r.length,"/8 文字 （英数字のみ）"]})]}),W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsx("label",{style:{display:"block",marginBottom:"5px",fontSize:"13px",fontWeight:"bold"},children:"招待者アドレス（使用時のみ）:"}),W.jsx("input",{type:"text",value:t,onChange:s=>n(s.target.value),placeholder:"招待者のPublicKey",style:{width:"100%",padding:"8px",borderRadius:"4px",border:"1px solid #ced4da",fontSize:"12px",fontFamily:"Courier New, monospace"}})]}),W.jsxs("div",{style:{display:"flex",gap:"10px"},children:[W.jsx("button",{onClick:i,style:{background:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},disabled:r.length!==8,children:"📝 招待コード作成"}),W.jsx("button",{onClick:o,style:{background:"#17a2b8",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},disabled:r.length!==8||!t,children:"🎫 招待コード使用"})]}),W.jsx("div",{style:{fontSize:"11px",color:"#6c757d",marginTop:"10px"},children:"※ 実際の機能はウォレット接続後のゲームコントロールから利用可能"})]})]})},pB=({gameClient:r,gameState:e,uiCallbacks:t,onRefresh:n})=>{const i={background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",margin:"5px",transition:"all 0.3s ease"},o={...i,background:"#dc3545"},s={...i,background:"#28a745"},a=async()=>{try{t.showLoading("設定を初期化中..."),await r.initializeConfig(),t.showSuccess("設定初期化完了"),await t.updateGameState()}catch(b){t.showError(`設定初期化失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},c=async()=>{try{t.showLoading("報酬ミントを作成中..."),await r.createRewardMint(),t.showSuccess("報酬ミント作成完了"),await t.updateGameState()}catch(b){t.showError(`報酬ミント作成失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},u=async()=>{try{t.showLoading("ユーザーを初期化中..."),await r.initUser(),t.showSuccess("ユーザー初期化完了"),await t.updateGameState()}catch(b){t.showError(`ユーザー初期化失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},f=async()=>{try{t.showLoading("ファームスペースを購入中..."),await r.buyFarmSpace(),t.showSuccess("ファームスペース購入完了"),await t.updateGameState()}catch(b){t.showError(`ファームスペース購入失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},y=async()=>{try{t.showLoading("報酬を請求中..."),await r.claimRewards(),t.showSuccess("報酬請求完了"),await t.updateGameState()}catch(b){t.showError(`報酬請求失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},p=async()=>{try{t.showLoading("紹介報酬を請求中..."),await r.viewPendingReferralRewards(),t.showSuccess("紹介報酬請求完了"),await t.updateGameState()}catch(b){t.showError(`紹介報酬請求失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},d=async()=>{try{t.showLoading("ファームスペースをアップグレード中..."),t.showError("アップグレード機能は未実装です")}catch(b){t.showError(`アップグレード失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},x=async()=>{try{t.showLoading("シードパックを購入中..."),await r.purchaseSeedPack(1),t.showSuccess("シードパック購入完了"),await t.updateGameState()}catch(b){t.showError(`シードパック購入失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}};return W.jsxs("div",{children:[W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"🎮 ゲーム状況"}),W.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[W.jsxs("div",{children:[W.jsx("label",{style:{fontWeight:"bold",color:"#495057"},children:"ユーザー状態:"}),W.jsx("div",{style:{marginTop:"5px",fontFamily:"Courier New, monospace",fontSize:"14px"},children:e!=null&&e.userInitialized?"✅ 初期化済み":"❌ 未初期化"})]}),W.jsxs("div",{children:[W.jsx("label",{style:{fontWeight:"bold",color:"#495057"},children:"ファームスペース:"}),W.jsx("div",{style:{marginTop:"5px",fontFamily:"Courier New, monospace",fontSize:"14px"},children:e!=null&&e.hasFarmSpace?"✅ 所有済み":"❌ 未所有"})]}),W.jsxs("div",{children:[W.jsx("label",{style:{fontWeight:"bold",color:"#495057"},children:"Grow Power:"}),W.jsx("div",{style:{marginTop:"5px",fontFamily:"Courier New, monospace",fontSize:"14px"},children:(e==null?void 0:e.growPower)||0})]}),W.jsxs("div",{children:[W.jsx("label",{style:{fontWeight:"bold",color:"#495057"},children:"$WEED 残高:"}),W.jsxs("div",{style:{marginTop:"5px",fontFamily:"Courier New, monospace",fontSize:"14px"},children:[e?(e.tokenBalance/1e6).toFixed(6):"0.000000"," WEED"]})]}),W.jsxs("div",{children:[W.jsx("label",{style:{fontWeight:"bold",color:"#495057"},children:"紹介報酬:"}),W.jsxs("div",{style:{marginTop:"5px",fontFamily:"Courier New, monospace",fontSize:"14px"},children:[e?((e.pendingReferralRewards||0)/1e6).toFixed(6):"0.000000"," WEED"]})]})]}),(e==null?void 0:e.farmSpace)&&W.jsxs("div",{style:{marginTop:"15px",padding:"10px",background:"#e9ecef",borderRadius:"6px"},children:[W.jsx("h4",{style:{marginTop:0,color:"#495057"},children:"🌱 ファームスペース詳細"}),W.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px"},children:[W.jsxs("div",{children:[W.jsx("strong",{children:"レベル:"})," ",e.farmSpace.level]}),W.jsxs("div",{children:[W.jsx("strong",{children:"最大容量:"})," ",e.farmSpace.capacity]}),W.jsxs("div",{children:[W.jsx("strong",{children:"シード数:"})," ",e.farmSpace.seedCount]}),W.jsxs("div",{children:[W.jsx("strong",{children:"総GP:"})," ",e.farmSpace.totalGrowPower]})]})]})]}),W.jsxs("div",{style:{background:"#fff5f5",border:"2px solid #dc3545",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#721c24"},children:"⚙️ 管理者アクション"}),W.jsxs("div",{style:{marginBottom:"15px",color:"#721c24"},children:[W.jsx("strong",{children:"⚠️ 初回セットアップ必須"}),W.jsx("br",{}),"ゲーム機能を使用する前に設定の初期化が必要です。"]}),W.jsx("button",{onClick:a,style:o,children:"設定初期化"}),W.jsx("button",{onClick:c,style:o,children:"報酬ミント作成"}),W.jsx("button",{onClick:async()=>{try{t.showLoading("グローバル統計を初期化中..."),await r.initializeGlobalStats(),t.showSuccess("グローバル統計初期化完了"),await t.updateGameState()}catch(b){t.showError(`グローバル統計初期化失敗: ${b instanceof Error?b.message:String(b)}`)}finally{t.hideLoading()}},style:o,children:"統計初期化"})]}),W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"⚡ 基本アクション"}),W.jsx("button",{onClick:u,style:i,children:"ユーザー初期化"}),W.jsx("button",{onClick:f,style:i,children:"ファームスペース購入"}),W.jsx("button",{onClick:y,style:s,children:"報酬請求"}),W.jsx("button",{onClick:n,style:i,children:"データ更新"})]}),W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"🤝 紹介システム"}),W.jsxs("div",{style:{marginBottom:"15px"},children:[W.jsx("input",{type:"text",placeholder:"招待コード (8文字)",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ced4da",marginRight:"10px",fontFamily:"Courier New, monospace",width:"120px"},maxLength:8,id:"invite-code-input"}),W.jsx("button",{onClick:async()=>{const b=document.getElementById("invite-code-input"),E=b.value.trim();if(E.length!==8){alert("招待コードは8文字で入力してください");return}try{t.showLoading("招待コードを作成中..."),await r.createInviteCode(E),t.showSuccess("招待コード作成完了"),b.value="",await t.updateGameState()}catch(A){t.showError(`招待コード作成失敗: ${A instanceof Error?A.message:String(A)}`)}finally{t.hideLoading()}},style:i,children:"🎫 招待コード作成"})]}),W.jsx("button",{onClick:p,style:s,children:"紹介報酬請求"}),W.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:["※ Level 1: 10%, Level 2: 5%の自動分配",W.jsx("br",{}),"※ 招待コード作成制限: 一般5回/運営255回"]})]}),W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"🔧 ファームスペース管理"}),W.jsx("button",{onClick:d,style:i,children:"アップグレード"}),W.jsx("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:"※ 自動アップグレード: 30, 100, 300, 500パック購入時"})]}),W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"📦 シードパック"}),W.jsx("button",{onClick:x,style:i,children:"シードパック購入 (1個)"}),W.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",color:"#666"},children:["※ コスト: 300 WEED + VRF手数料 (~0.002 SOL)",W.jsx("br",{}),"※ Switchboard VRFによる検証可能な乱数"]})]})]})},mB=()=>{const[r,e]=yr.useState([]);yr.useEffect(()=>{const n=setInterval(()=>{const i=[`[${new Date().toLocaleTimeString()}] React フロントエンド準備完了`,`[${new Date().toLocaleTimeString()}] Rust命令セット表示中`,`[${new Date().toLocaleTimeString()}] 計算式確認機能アクティブ`,`[${new Date().toLocaleTimeString()}] 招待コード処理UI表示中`];e(i)},5e3);return()=>clearInterval(n)},[]);const t=()=>{e([]),ct.clear()};return W.jsxs("div",{style:{background:"#f8f9fa",border:"1px solid #dee2e6",borderRadius:"10px",padding:"20px",margin:"20px 0"},children:[W.jsx("h3",{style:{marginTop:0,color:"#495057"},children:"📋 システムログ"}),W.jsx("div",{style:{background:"#1e1e1e",color:"#d4d4d4",borderRadius:"8px",padding:"15px",fontFamily:"Courier New, monospace",fontSize:"12px",maxHeight:"200px",overflowY:"auto",margin:"15px 0",minHeight:"100px"},children:r.length>0?r.map((n,i)=>W.jsx("div",{style:{marginBottom:"5px"},children:n},i)):W.jsx("div",{style:{color:"#888",fontStyle:"italic"},children:"React フロントエンド初期化中..."})}),W.jsx("button",{onClick:t,style:{background:"#6c757d",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"ログクリア"})]})},yB=()=>{const[r]=yr.useState(()=>new hI),[e,t]=yr.useState(null),[n,i]=yr.useState(null),[o,s]=yr.useState(null),[a,c]=yr.useState(!1),[u,f]=yr.useState(null),[y,p]=yr.useState({connected:!1,network:"devnet",rpcUrl:"",programId:""}),d=(g,w)=>{f({type:g,text:w}),setTimeout(()=>f(null),g==="error"?8e3:4e3)},x={showLoading:g=>c(!0),hideLoading:()=>c(!1),showSuccess:g=>d("success",g),showError:g=>d("error",g),updateGameState:b};async function b(){var g,w,k;if(!(!(n!=null&&n.connected)||!e||!n.publicKey))try{const I=await e.getUserState(n.publicKey),F=await e.getFarmSpace(n.publicKey),L=await e.getTokenBalance(n.publicKey),z={userInitialized:!!I,hasFarmSpace:(I==null?void 0:I.hasFarmSpace)||!1,growPower:((g=F==null?void 0:F.totalGrowPower)==null?void 0:g.toNumber())||0,tokenBalance:L*1e6,lastHarvestTime:((w=I==null?void 0:I.lastHarvestTime)==null?void 0:w.toNumber())||0,pendingReferralRewards:((k=I==null?void 0:I.pendingReferralRewards)==null?void 0:k.toNumber())||0,farmSpace:F?{level:F.level,capacity:F.capacity,seedCount:F.seedCount,totalGrowPower:F.totalGrowPower.toNumber()}:void 0};s(z)}catch(I){ct.error(`データ更新エラー: ${I instanceof Error?I.message:String(I)}`)}}const E=async()=>{try{c(!0);const g=await r.connectWallet();i(g);const w=await r.getProvider(),k=new cB(w);t(k),g.balance>.01?d("success","ウォレット接続完了！"):d("error","SOL残高が不足しています。まず「💰 2 SOL を取得する」ボタンでSOLを取得してください。"),await b()}catch(g){d("error",`ウォレット接続失敗: ${g instanceof Error?g.message:String(g)}`)}finally{c(!1)}},A=async()=>{if(n!=null&&n.connected)try{c(!0),await r.airdropSol(2);const g=r.getWalletState();i(g),g.balance>.01&&d("success","SOL取得完了！これでゲーム機能を使用できます。")}catch(g){d("error",`エアドロップ失敗: ${g instanceof Error?g.message:String(g)}`)}finally{c(!1)}};return yr.useEffect(()=>{(async()=>{ct.info("🚀 React フロントエンド初期化開始");try{const w=r.getNetworkInfo();p({connected:!1,network:w.network,rpcUrl:w.rpcUrl,programId:w.programId});const k=await r.testConnection();p(I=>({...I,connected:k})),k?ct.success("✅ 初期化完了 - React フロントエンド準備OK"):ct.error("❌ RPC接続失敗")}catch(w){ct.error(`初期化エラー: ${w instanceof Error?w.message:String(w)}`)}})()},[]),W.jsx("div",{style:{fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",margin:0,padding:"20px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#333",minHeight:"100vh"},children:W.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",background:"white",borderRadius:"15px",padding:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)"},children:[W.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[W.jsx("h1",{style:{color:"#2c3e50",marginBottom:"10px"},children:"🏭 Solana Facility Game - React版"}),W.jsx("p",{children:"シンプルなReact UIでRust命令セットや計算式、招待コード処理を確認"})]}),u&&W.jsx("div",{style:{padding:"10px",marginBottom:"20px",borderRadius:"5px",backgroundColor:u.type==="success"?"#d4edda":u.type==="error"?"#f8d7da":"#d1ecf1",color:u.type==="success"?"#155724":u.type==="error"?"#721c24":"#0c5460",border:`1px solid ${u.type==="success"?"#c3e6cb":u.type==="error"?"#f5c6cb":"#bee5eb"}`},children:u.text}),W.jsx(uB,{connectionStatus:y}),W.jsx(lB,{walletState:n,onConnect:E,onAirdrop:A,loading:a}),W.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"20px",margin:"30px 0"},children:[W.jsx(fB,{}),W.jsx(dB,{}),W.jsx(hB,{})]}),(n==null?void 0:n.connected)&&e&&W.jsx(pB,{gameClient:e,gameState:o,uiCallbacks:x,onRefresh:b}),W.jsx(mB,{})]})})};typeof global>"u"&&(globalThis.global=globalThis);const bE=document.getElementById("root");if(!bE)throw new Error("Root element not found");const gB=av(bE);gB.render(HE.createElement(yB));typeof window<"u"&&(ct.info("🎮 React Facility Game Frontend loaded!"),ct.info("💡 Rust命令セット、計算式、招待コード処理を確認できます"),ct.info("🧪 ユーザージャーニーテスト: testUserJourney() をコンソールで実行"));
