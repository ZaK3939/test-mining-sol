# Facility Game ãƒ†ã‚¹ãƒˆä½“ç³»è§£èª¬æ›¸ (Test Architecture Documentation)

æœ¬æ–‡æ›¸ã¯ã€Facility Game Solanaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆä½“ç³»ã«ã¤ã„ã¦è©³ç´°ã«è§£èª¬ã—ã¾ã™ã€‚

## 1. ãƒ†ã‚¹ãƒˆæ§‹é€ æ¦‚è¦

### 1.1 ãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
programs/facility-game/src/tests/
â”œâ”€â”€ mod.rs                              # ãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å®£è¨€
â”œâ”€â”€ admin_tests.rs                      # ç®¡ç†è€…æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ economic_distribution_tests.rs      # çµŒæ¸ˆåˆ†é…ãƒ¢ãƒ‡ãƒ«ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ economic_model_validation_tests.rs  # çµŒæ¸ˆãƒ¢ãƒ‡ãƒ«æ¤œè¨¼ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ error_tests.rs                      # ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ referral_system_tests.rs           # ç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ seed_auto_discard_tests.rs         # ã‚·ãƒ¼ãƒ‰è‡ªå‹•ç ´æ£„ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ seed_storage_integration_tests.rs  # ã‚·ãƒ¼ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ state_tests.rs                     # çŠ¶æ…‹ç®¡ç†ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ utils_tests.rs                     # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ vrf_integration_tests.rs           # VRFçµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ vrf_performance_tests.rs           # VRFãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
â””â”€â”€ vrf_seed_pack_tests.rs             # VRFã‚·ãƒ¼ãƒ‰ãƒ‘ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ

tests/                                  # TypeScriptãƒ†ã‚¹ãƒˆ (ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰)
â”œâ”€â”€ README.md                          # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆèª¬æ˜æ›¸
â”œâ”€â”€ unit/                              # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ integration/                       # çµ±åˆãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ e2e/                              # ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ security/                         # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
â””â”€â”€ helpers/                          # ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼

programs/facility-game/src/tests.rs    # æˆ¦ç•¥çš„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆ
```

### 1.2 ãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒªåˆ†é¡

#### ã‚³ã‚¢æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
- **çŠ¶æ…‹ç®¡ç†**: ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚µã‚¤ã‚ºã€å®šæ•°ã€åŸºæœ¬çŠ¶æ…‹æ“ä½œ
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£**: ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã€è¨ˆç®—ã€PDAå°å‡º

#### çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
- **çµŒæ¸ˆãƒ¢ãƒ‡ãƒ«æ¤œè¨¼**: æ•°å­¦çš„å…¬å¼ã€ãƒãƒ«ãƒ“ãƒ³ã‚°ã€å ±é…¬è¨ˆç®—
- **çµŒæ¸ˆåˆ†é…**: ç´¹ä»‹å ±é…¬ã€ä¾›çµ¦ä¸Šé™ã€æŒç¶šå¯èƒ½æ€§

#### VRFãƒ»ãƒ©ãƒ³ãƒ€ãƒ æ€§ãƒ†ã‚¹ãƒˆ
- **VRFçµ±åˆ**: è³¼å…¥ã‹ã‚‰æ¤ãˆä»˜ã‘ã¾ã§ã®å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **VRFãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- **ã‚·ãƒ¼ãƒ‰ãƒ‘ãƒƒã‚¯**: ç¢ºç‡åˆ†å¸ƒã€ãƒ©ãƒ³ãƒ€ãƒ æ€§å“è³ª

#### ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆ
- **ã‚·ãƒ¼ãƒ‰ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: å®¹é‡ç®¡ç†ã€è‡ªå‹•ç ´æ£„ã‚·ã‚¹ãƒ†ãƒ 
- **ç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ **: å¤šæ®µéšå ±é…¬åˆ†é…ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼æ‹›å¾…

#### å“è³ªä¿è¨¼ãƒ†ã‚¹ãƒˆ
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: 42ç¨®é¡ã®ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—æ¤œè¨¼
- **ç®¡ç†æ©Ÿèƒ½**: è¨­å®šåˆæœŸåŒ–ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«çµ±è¨ˆã€æ‰‹æ•°æ–™ãƒ—ãƒ¼ãƒ«

## ğŸ¯ Rustãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ†ã‚¹ãƒˆè©³ç´°è§£èª¬

### 1. tests.rs - æˆ¦ç•¥çš„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¸ãƒ£ãƒ¼ãƒ‹ãƒ¼ãƒ†ã‚¹ãƒˆï¼ˆ558è¡Œï¼‰

**ç›®çš„**: 4ç¨®é¡ã®ç•°ãªã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æˆ¦ç•¥ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã—ã€ãƒªã‚¢ãƒ«ãªã‚²ãƒ¼ãƒ ä½“é¨“ã‚’ãƒ†ã‚¹ãƒˆ

#### ãƒ†ã‚¹ãƒˆã•ã‚Œã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¢ãƒ¼ã‚­ã‚¿ã‚¤ãƒ—

##### ğŸŒ Network Builderï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹ç¯‰è€…ï¼‰
```rust
// æ‹›å¾…ã‚·ã‚¹ãƒ†ãƒ ã‚’é‡è¦–ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
fn test_network_builder_strategy() {
    // 1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
    // 2. è¾²å ´è³¼å…¥ï¼ˆ0.5 SOLï¼‰
    // 3. æ‹›å¾…ã‚³ãƒ¼ãƒ‰ä½œæˆï¼ˆ8æ–‡å­—ï¼‰
    // 4. ä»–ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ‹›å¾…
    // 5. ç´¹ä»‹å ±é…¬ã®è“„ç©ãƒ»è«‹æ±‚
    // æ¤œè¨¼: æ‹›å¾…ã‚·ã‚¹ãƒ†ãƒ ã€L1/L2ç´¹ä»‹å ±é…¬ã€é•·æœŸåç›Šæœ€å¤§åŒ–
}
```

##### ğŸ° Gamblerï¼ˆã‚®ãƒ£ãƒ³ãƒ–ãƒ©ãƒ¼ï¼‰
```rust
// ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒ‘ãƒƒã‚¯ã«å…¨é¡æŠ•è³‡ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
fn test_gambler_strategy() {
    // 1. åŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
    // 2. å¤§é‡ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒ‘ãƒƒã‚¯è³¼å…¥ï¼ˆ300 WEED Ã— æ•°é‡ï¼‰
    // 3. ãƒ‘ãƒƒã‚¯é–‹å°ã¨ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼å‡¦ç†
    // 4. é«˜ãƒ¬ã‚¢ç¨®ï¼ˆSeed6-9ï¼‰ç²å¾—ç‹™ã„
    // 5. è¾²å ´å®¹é‡æœ€é©åŒ–
    // æ¤œè¨¼: ç¢ºç‡ã‚·ã‚¹ãƒ†ãƒ ã€ãƒªã‚¹ã‚¯ãƒ»ãƒªã‚¿ãƒ¼ãƒ³ã€é‹ç”¨åŠ¹ç‡
}
```

##### ğŸ‘¨â€ğŸŒ¾ Farmerï¼ˆè¾²å®¶ï¼‰
```rust
// ç€å®Ÿãªè¾²å ´æ‹¡å¼µã‚’é‡è¦–ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼
fn test_farmer_strategy() {
    // 1. åŸºæœ¬è¾²å ´ã‚¹ã‚¿ãƒ¼ãƒˆ
    // 2. æ®µéšçš„ãƒ¬ãƒ™ãƒ«ã‚¢ãƒƒãƒ—ï¼ˆLv1â†’2â†’3â†’4â†’5ï¼‰
    // 3. ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚³ã‚¹ãƒˆç®¡ç†
    // 4. å®¹é‡åŠ¹ç‡æœ€å¤§åŒ–ï¼ˆ4â†’8â†’12â†’16â†’20ï¼‰
    // 5. é•·æœŸæŠ•è³‡æˆ¦ç•¥
    // æ¤œè¨¼: è¾²å ´ã‚·ã‚¹ãƒ†ãƒ ã€ã‚³ã‚¹ãƒˆåŠ¹ç‡ã€æˆé•·æ›²ç·š
}
```

##### ğŸ§  Strategistï¼ˆæˆ¦ç•¥å®¶ï¼‰
```rust
// æœ€é©åŒ–ã•ã‚ŒãŸãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æˆ¦ç•¥
fn test_strategist_strategy() {
    // 1. æ•°å­¦çš„æœ€é©åŒ–è¨ˆç®—
    // 2. ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ vs ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒ‘ãƒƒã‚¯ã®ROIæ¯”è¼ƒ
    // 3. ã‚¿ã‚¤ãƒŸãƒ³ã‚°æœ€é©åŒ–
    // 4. ãƒªã‚¹ã‚¯åˆ†æ•£æŠ•è³‡
    // 5. æœ€å¤§åŠ¹ç‡é‹ç”¨
    // æ¤œè¨¼: ç·åˆçš„ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹ã€æ•°å­¦çš„å…¬å¹³æ€§
}
```

#### é‡è¦ãªãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª
- **åŠæ¸›æœŸè·¨ãå ±é…¬è¨ˆç®—**: è¤‡æ•°ã®åŠæ¸›æœŸã«ã¾ãŸãŒã‚‹æœŸé–“ã®æ­£ç¢ºãªå ±é…¬ç®—å‡º
- **ç´¹ä»‹ãƒã‚§ãƒ¼ãƒ³**: Level 1ï¼ˆ10%ï¼‰ã¨Level 2ï¼ˆ5%ï¼‰ã®å¤šæ®µéšå ±é…¬
- **ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ã‚·ã‚¹ãƒ†ãƒ **: Pyth Entropyçµ±åˆã«ã‚ˆã‚‹çœŸã®ä¹±æ•°æ€§
- **çµŒæ¸ˆãƒãƒ©ãƒ³ã‚¹**: å„æˆ¦ç•¥ã®é•·æœŸçš„åç›Šæ€§ã¨å…¬å¹³æ€§

### 2. admin_tests.rs - ç®¡ç†è€…æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆï¼ˆ476è¡Œï¼‰

**ç›®çš„**: ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ã€è¨­å®šç®¡ç†ã€ç®¡ç†è€…æ¨©é™ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ

#### ä¸»è¦ãƒ†ã‚¹ãƒˆé …ç›®

##### ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ãƒ†ã‚¹ãƒˆ
```rust
fn test_initialize_config_default_values() {
    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§ã®è¨­å®šåˆæœŸåŒ–
    base_rate: 100,                    // 100 WEED/ç§’
    halving_interval: 604800,          // 7æ—¥
    farm_space_cost: 500_000_000,      // 0.5 SOL
    seed_pack_cost: 300_000_000,       // 300 WEED
    trading_fee_percentage: 2,         // 2%
    max_invite_limit: 5,               // 5äººã¾ã§
    
    // æ¤œè¨¼é …ç›®
    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®æ­£ç¢ºæ€§
    - PDAã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆã®ä¸€æ„æ€§
    - ç®¡ç†è€…æ¨©é™ã®å³å¯†ãªæ¤œè¨¼
    - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆæœŸåŒ–ã®å®Œå…¨æ€§
}

fn test_initialize_global_stats() {
    // ã‚°ãƒ­ãƒ¼ãƒãƒ«çµ±è¨ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆåˆæœŸåŒ–
    total_grow_power: 0,               // åˆæœŸGP
    total_farm_spaces: 0,              // åˆæœŸè¾²å ´æ•°
    current_rewards_per_second: 100,   // ç¾åœ¨ãƒ¬ãƒ¼ãƒˆ
    
    // æ¤œè¨¼: çµ±è¨ˆè¿½è·¡ã‚·ã‚¹ãƒ†ãƒ ã®åŸºç›¤ç¢ºç«‹
}

fn test_create_reward_mint() {
    // WEEDãƒˆãƒ¼ã‚¯ãƒ³ãƒŸãƒ³ãƒˆä½œæˆ
    decimals: 6,                       // 6æ¡ç²¾åº¦
    mint_authority: PDA,               // ãƒ—ãƒ­ã‚°ãƒ©ãƒ åˆ¶å¾¡
    
    // æ¤œè¨¼: ãƒˆãƒ¼ã‚¯ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨åˆ¶å¾¡
}
```

##### è¨­å®šç®¡ç†ãƒ†ã‚¹ãƒˆ
```rust
fn test_update_config_values() {
    // å‹•çš„è¨­å®šå¤‰æ›´æ©Ÿèƒ½
    - åŸºæœ¬å ±é…¬ãƒ¬ãƒ¼ãƒˆèª¿æ•´
    - åŠæ¸›æœŸé–“éš”å¤‰æ›´
    - æ‰‹æ•°æ–™ç‡èª¿æ•´
    - æ‹›å¾…ä¸Šé™å¤‰æ›´
    - è²¡å‹™ã‚¢ãƒ‰ãƒ¬ã‚¹æ›´æ–°
    
    // æ¤œè¨¼: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¨­å®šå¤‰æ›´ã®å®‰å…¨æ€§
}

fn test_expand_invite_limit() {
    // ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ‹›å¾…ä¸Šé™æ‹¡å¼µ
    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ5äººã‹ã‚‰å€‹åˆ¥æ‹¡å¼µ
    - é‹å–¶ç‰¹æ¨©ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆç„¡åˆ¶é™ï¼‰
    - æ‹¡å¼µå±¥æ­´ã®è¿½è·¡
    
    // æ¤œè¨¼: æŸ”è»Ÿãªæ‹›å¾…ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†
}
```

##### PDAï¼ˆProgram Derived Addressï¼‰ãƒ†ã‚¹ãƒˆ
```rust
fn test_pda_derivation_consistency() {
    // æ±ºå®šè«–çš„ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆãƒ†ã‚¹ãƒˆ
    config_pda = ["config"]
    user_pda = ["user", user_pubkey]
    farm_pda = ["farm_space", user_pubkey]
    mint_pda = ["reward_mint"]
    authority_pda = ["mint_authority"]
    
    // æ¤œè¨¼: 
    - åŒã˜ã‚·ãƒ¼ãƒ‰ã‹ã‚‰åŒã˜ã‚¢ãƒ‰ãƒ¬ã‚¹ç”Ÿæˆ
    - ç•°ãªã‚‹ã‚·ãƒ¼ãƒ‰ã§ç•°ãªã‚‹ã‚¢ãƒ‰ãƒ¬ã‚¹
    - ãƒãƒ³ãƒ—å€¤ã®ä¸€è²«æ€§
    - è¡çªä¸å¯èƒ½æ€§
}
```

##### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ
```rust
fn test_admin_authority_validation() {
    // ç®¡ç†è€…æ¨©é™ã®å³å¯†ãªæ¤œè¨¼
    - æ­£å½“ãªç®¡ç†è€…ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
    - ä¸æ­£ãªãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã‚¨ãƒ©ãƒ¼
    - ç½²åæ¤œè¨¼ã®å®Œå…¨æ€§
    - æ¨©é™å§”è­²ã®å®‰å…¨æ€§
}
```

### 3. state_tests.rs - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ§‹é€ ãƒ†ã‚¹ãƒˆï¼ˆçµ±åˆãƒ»ç°¡ç´ åŒ–æ¸ˆã¿ï¼‰

**ç›®çš„**: å…¨ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæ§‹é€ ã®ã‚µã‚¤ã‚ºæ¤œè¨¼ã¨åŸºæœ¬å®šæ•°ãƒ†ã‚¹ãƒˆ

#### ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚µã‚¤ã‚ºãƒ†ã‚¹ãƒˆï¼ˆãƒã‚¤ãƒˆç²¾åº¦ï¼‰
```rust
fn test_config_account_size() {
    // Config: 200ãƒã‚¤ãƒˆ
    discriminator: 8,
    base_rate: 8,
    halving_interval: 8,
    next_halving_time: 8,
    admin: 32,
    treasury: 32,
    seed_pack_cost: 8,
    seed_counter: 8,
    seed_pack_counter: 8,
    farm_space_cost_sol: 8,
    max_invite_limit: 1,
    trading_fee_percentage: 1,
    protocol_referral_address: 32,
    total_supply_minted: 8,
    operator: 32,
    reserve: 2,
    
    // æ¤œè¨¼: ãƒ¡ãƒ¢ãƒªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ­£ç¢ºæ€§
}

fn test_user_state_account_size() {
    // UserState: 130ãƒã‚¤ãƒˆ
    owner: 32,
    total_grow_power: 8,
    last_harvest_time: 8,
    has_farm_space: 1,
    referrer: 33,                      // Option<Pubkey>
    pending_referral_rewards: 8,
    reserve: 32,
    
    // æ¤œè¨¼: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®åŠ¹ç‡çš„æ ¼ç´
}

fn test_farm_space_account_size() {
    // FarmSpace: 92ãƒã‚¤ãƒˆ
    owner: 32,
    level: 1,
    capacity: 1,
    seed_count: 1,
    total_grow_power: 8,
    upgrade_start_time: 8,
    upgrade_target_level: 1,
    reserve: 32,
    
    // æ¤œè¨¼: è¾²å ´ãƒ‡ãƒ¼ã‚¿ã®æœ€é©åŒ–
}

// ä»¥ä¸‹ã€Seedã€SeedPackã€InviteCodeã€GlobalStatsã€FeePool
// å„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®æ­£ç¢ºãªã‚µã‚¤ã‚ºæ¤œè¨¼
```

#### åŸºæœ¬å®šæ•°æ¤œè¨¼
```rust
fn test_basic_game_constants() {
    // åŸºæœ¬çµŒæ¸ˆå®šæ•°
    DEFAULT_BASE_RATE: 100,            // 100 WEED/ç§’
    DEFAULT_HALVING_INTERVAL: 604800,  // 7æ—¥
    SEED_PACK_COST: 300_000_000,       // 300 WEED
    FARM_SPACE_COST_SOL: 500_000_000,  // 0.5 SOL
    TRADING_FEE_PERCENTAGE: 2,         // 2%
    MAX_INVITE_LIMIT: 5,               // 5äºº
    
    // æ¤œè¨¼: çµŒæ¸ˆãƒãƒ©ãƒ³ã‚¹ã®åŸºç›¤
}

fn test_seed_type_basic_properties() {
    // ç¨®ã‚·ã‚¹ãƒ†ãƒ åŸºæœ¬æ¤œè¨¼
    SEED_GROW_POWERS.len(): 9,         // 9ç¨®é¡
    SEED_PROBABILITIES.len(): 9,       // 9ç¢ºç‡
    SEED1.grow_power(): 100,           // æœ€ä½ç¨®
    SEED9.grow_power(): 60000,         // æœ€é«˜ç¨®
    
    // æ¤œè¨¼: ãƒ¬ã‚¢ãƒªãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ ã®å®Œæ•´æ€§
}
```

### 4. state_advanced_tests.rs - é«˜åº¦ãªçŠ¶æ…‹ç®¡ç†ãƒ†ã‚¹ãƒˆï¼ˆ336è¡Œï¼‰

**ç›®çš„**: è¤‡é›‘ãªçŠ¶æ…‹é·ç§»ã€ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã€å®šæ•°çµ±åˆã®é«˜åº¦ãƒ†ã‚¹ãƒˆ

#### ç¨®ã‚·ã‚¹ãƒ†ãƒ é«˜åº¦ãƒ†ã‚¹ãƒˆ
```rust
fn test_seed_type_conversions() {
    // å…¨9ç¨®ã®ç¨®ã‚¿ã‚¤ãƒ—å¤‰æ›ãƒ†ã‚¹ãƒˆ
    for i in 0..9 {
        seed_type = transmute(i);
        
        // grow_powerå–å¾—ãƒ†ã‚¹ãƒˆ
        assert_eq!(seed_type.get_grow_power(), SEED_GROW_POWERS[i]);
        
        // ç¢ºç‡å–å¾—ãƒ†ã‚¹ãƒˆ
        assert_eq!(seed_type.probability_from_constants(), SEED_PROBABILITIES[i]);
        
        // ä¹±æ•°å¤‰æ›ãƒ†ã‚¹ãƒˆ
        random_value = SEED_PROBABILITY_THRESHOLDS[i] - 1;
        converted = SeedType::from_random_with_constants(random_value);
        assert_eq!(converted, seed_type);
    }
    
    // æ¤œè¨¼: ç¢ºç‡ã‚·ã‚¹ãƒ†ãƒ ã®æ•°å­¦çš„æ­£ç¢ºæ€§
}
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ†ã‚¹ãƒˆ
```rust
fn test_user_state_lifecycle() {
    // åˆæœŸçŠ¶æ…‹
    total_grow_power: 0,
    has_farm_space: false,
    referrer: Some(referrer_key),
    pending_referral_rewards: 0,
    
    // è¾²å ´è³¼å…¥ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    has_farm_space = true;
    total_grow_power = SEED_GROW_POWERS[0];  // åˆæœŸç¨®
    
    // ç¨®è¿½åŠ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    total_grow_power += SEED_GROW_POWERS[1]; // Seed2è¿½åŠ 
    
    // ç´¹ä»‹å ±é…¬è“„ç©
    pending_referral_rewards = 1000;
    
    // æ¤œè¨¼: ãƒ¦ãƒ¼ã‚¶ãƒ¼æˆé•·ãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“
}
```

#### è¾²å ´ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ãƒ¡ã‚«ãƒ‹ã‚¯ã‚¹
```rust
fn test_farm_space_upgrade_mechanics() {
    // Level 1 åˆæœŸçŠ¶æ…‹
    level: 1,
    capacity: FARM_CAPACITIES[0],      // 4
    seed_count: 1,
    total_grow_power: SEED_GROW_POWERS[0],
    
    // ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰é–‹å§‹
    upgrade_start_time = current_time;
    upgrade_target_level = 2;
    
    // 24æ™‚é–“å¾Œå®Œäº†
    level = 2;
    capacity = FARM_CAPACITIES[1];     // 8
    upgrade_start_time = 0;
    upgrade_target_level = 0;
    
    // ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ãƒ†ã‚¹ãƒˆ
    for level in 1..=5 {
        capacity = FarmSpace::capacity_for_level(level);
        assert_eq!(capacity, FARM_CAPACITIES[level-1]);
    }
    
    // ã‚³ã‚¹ãƒˆè¨ˆç®—ãƒ†ã‚¹ãƒˆ
    for level in 1..=4 {
        cost = FarmSpace::upgrade_cost_for_level(level);
        assert_eq!(cost.unwrap(), UPGRADE_COSTS[level-1]);
    }
    
    // æ¤œè¨¼: ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã®å®Œå…¨æ€§
}
```

#### ã‚°ãƒ­ãƒ¼ãƒãƒ«çµ±è¨ˆã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ è¿½è·¡
```rust
fn test_global_stats_ecosystem_tracking() {
    // åˆæœŸã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ 
    total_grow_power: 0,
    total_farm_spaces: 0,
    current_rewards_per_second: DEFAULT_BASE_RATE,
    
    // ç¬¬1ãƒ¦ãƒ¼ã‚¶ãƒ¼å‚åŠ 
    total_farm_spaces += 1;
    total_grow_power += SEED_GROW_POWERS[0];
    
    // ãƒã‚¤ãƒ©ãƒ«æˆé•·ï¼ˆ9ãƒ¦ãƒ¼ã‚¶ãƒ¼è¿½åŠ ï¼‰
    for i in 1..10 {
        total_farm_spaces += 1;
        total_grow_power += SEED_GROW_POWERS[0];
    }
    
    // åŠæ¸›æœŸå½±éŸ¿
    current_rewards_per_second = DEFAULT_BASE_RATE / 2;
    current_rewards_per_second = DEFAULT_BASE_RATE / 4;
    
    // æ¤œè¨¼: ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æˆé•·ã¨åŠæ¸›æœŸã®å½±éŸ¿
}
```

#### ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«
```rust
fn test_seed_pack_entropy_lifecycle() {
    // ã‚³ãƒŸãƒƒãƒˆãƒ•ã‚§ãƒ¼ã‚ºï¼ˆè³¼å…¥ï¼‰
    purchaser,
    purchased_at: current_time,
    cost_paid: SEED_PACK_COST,
    is_opened: false,
    entropy_sequence,
    user_entropy_seed,
    final_random_value: 0,
    
    // ãƒªãƒ“ãƒ¼ãƒ«ãƒ•ã‚§ãƒ¼ã‚ºï¼ˆé–‹å°ï¼‰
    is_opened = true;
    final_random_value = 99999;
    
    // ä¸å¤‰ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ¤œè¨¼
    assert_eq!(purchaser, original_purchaser);
    assert_eq!(entropy_sequence, original_sequence);
    
    // æ¤œè¨¼: Commit-Revealã‚¹ã‚­ãƒ¼ãƒ ã®å®Œå…¨æ€§
}
```

#### å®šæ•°çµ±åˆæ¤œè¨¼
```rust
fn test_constants_integration_with_state() {
    // é…åˆ—é•·æ•´åˆæ€§
    assert_eq!(SEED_GROW_POWERS.len(), 9);
    assert_eq!(FARM_CAPACITIES.len(), 5);
    assert_eq!(UPGRADE_COSTS.len(), 4);
    
    // ç¢ºç‡ã‚·ã‚¹ãƒ†ãƒ æ•´åˆæ€§
    assert_eq!(SEED_PROBABILITY_THRESHOLDS[8], 10000); // 100%
    
    // è¾²å ´å®¹é‡æ˜‡é †æ¤œè¨¼
    for i in 1..FARM_CAPACITIES.len() {
        assert!(FARM_CAPACITIES[i] > FARM_CAPACITIES[i-1]);
    }
    
    // çµŒæ¸ˆåˆç†æ€§æ¤œè¨¼
    for cost in UPGRADE_COSTS {
        assert!(cost >= SEED_PACK_COST);
        assert!(cost <= 100 * SEED_PACK_COST);
    }
    
    // æ¤œè¨¼: ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®æ•°å­¦çš„æ•´åˆæ€§
}
```

### 5. error_tests.rs - ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆï¼ˆ361è¡Œï¼‰

**ç›®çš„**: 112ç¨®é¡ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆã¨åˆ†é¡

#### ã‚¨ãƒ©ãƒ¼åˆ†é¡ã‚·ã‚¹ãƒ†ãƒ 
```rust
// GameErroråˆ—æŒ™å‹ã®å…¨ã‚¨ãƒ©ãƒ¼ãƒ†ã‚¹ãƒˆ
fn test_all_error_types() {
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼é–¢é€£ã‚¨ãƒ©ãƒ¼ï¼ˆUser-relatedï¼‰
    UserNotFound,
    UserAlreadyExists, 
    UserHasNoFarmSpace,
    UserAlreadyHasFarmSpace,
    
    // è¾²å ´é–¢é€£ã‚¨ãƒ©ãƒ¼ï¼ˆFarm-relatedï¼‰
    FarmSpaceNotFound,
    FarmSpaceAtMaxLevel,
    FarmSpaceUpgradeInProgress,
    FarmSpaceUpgradeNotComplete,
    FarmSpaceInsufficientCapacity,
    
    // çµŒæ¸ˆé–¢é€£ã‚¨ãƒ©ãƒ¼ï¼ˆEconomicï¼‰
    InsufficientBalance,
    InsufficientSOL,
    ExcessiveAmount,
    InvalidRewardAmount,
    SupplyCapExceeded,
    
    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã‚¨ãƒ©ãƒ¼ï¼ˆSecurityï¼‰
    Unauthorized,
    InvalidSignature,
    InvalidAdmin,
    InvalidAuthority,
    
    // ã‚·ã‚¹ãƒ†ãƒ é–¢é€£ã‚¨ãƒ©ãƒ¼ï¼ˆSystemï¼‰
    ConfigAlreadyInitialized,
    ConfigNotInitialized,
    InvalidConfiguration,
    SystemPaused,
    
    // æ¤œè¨¼: å…¨ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®é©åˆ‡ãªå‡¦ç†
}
```

#### ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å“è³ªãƒ†ã‚¹ãƒˆ
```rust
fn test_error_message_clarity() {
    // æ˜ç¢ºæ€§ãƒ†ã‚¹ãƒˆ
    assert!(GameError::UserNotFound.to_string().contains("User"));
    assert!(GameError::InsufficientBalance.to_string().contains("balance"));
    
    // å›½éš›åŒ–å¯¾å¿œãƒ†ã‚¹ãƒˆ
    // è‹±èªãƒ»æ—¥æœ¬èªä½µè¨˜ã«ã‚ˆã‚‹ç†è§£æ€§å‘ä¸Š
    
    // ãƒ‡ãƒãƒƒã‚°æƒ…å ±ãƒ†ã‚¹ãƒˆ
    // é–‹ç™ºè€…å‘ã‘è©³ç´°æƒ…å ±ã®å“è³ª
    
    // æ¤œè¨¼: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã¨ãƒ‡ãƒãƒƒã‚°æ€§
}
```

#### ã‚¨ãƒ©ãƒ¼å¤‰æ›ãƒ†ã‚¹ãƒˆ
```rust
fn test_error_conversions() {
    // Anchoræ¨™æº–ã‚¨ãƒ©ãƒ¼ã¸ã®å¤‰æ›
    anchor_error = GameError::UserNotFound.into();
    
    // ãƒ—ãƒ­ã‚°ãƒ©ãƒ å›ºæœ‰ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰
    error_code = GameError::InsufficientBalance.error_code();
    
    // ãƒ­ã‚°å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
    log_message = format!("{:?}", GameError::SystemPaused);
    
    // æ¤œè¨¼: ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®çµ±ä¸€æ€§
}
```

### 6. utils_tests.rs - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°ãƒ†ã‚¹ãƒˆ

**ç›®çš„**: ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°ã€è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã€æ¤œè¨¼é–¢æ•°ã®æ­£ç¢ºæ€§ãƒ†ã‚¹ãƒˆ

#### æ•°å­¦è¨ˆç®—ãƒ†ã‚¹ãƒˆ
```rust
fn test_reward_calculations() {
    // æ¯”ä¾‹åˆ†é…è¨ˆç®—
    user_reward = (user_grow_power / global_grow_power) * base_rate * elapsed_time;
    
    // ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼é˜²æ­¢
    checked_mul(), checked_div(), checked_add()
    
    // åŠæ¸›æœŸè¨ˆç®—
    new_rate = current_rate / 2;
    next_halving = current_time + halving_interval;
    
    // æ¤œè¨¼: æ•°å­¦çš„ç²¾åº¦ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
}

fn test_referral_calculations() {
    // L1ç´¹ä»‹å ±é…¬ï¼ˆ10%ï¼‰
    level1_reward = base_reward * 10 / 100;
    
    // L2ç´¹ä»‹å ±é…¬ï¼ˆ5%ï¼‰
    level2_reward = base_reward * 5 / 100;
    
    // ç·åˆ†é…æ¤œè¨¼
    total = user_amount + level1_reward + level2_reward;
    assert_eq!(total, base_reward);
    
    // æ¤œè¨¼: å ±é…¬åˆ†é…ã®æ­£ç¢ºæ€§
}
```

#### æ™‚é–“è¨ˆç®—ãƒ†ã‚¹ãƒˆ
```rust
fn test_time_calculations() {
    // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ¤œè¨¼
    current_time = Clock::get().unix_timestamp;
    
    // çµŒéæ™‚é–“è¨ˆç®—
    elapsed = current_time - last_harvest_time;
    
    // ã‚¯ãƒ¼ãƒ«ãƒ€ã‚¦ãƒ³åˆ¤å®š
    is_complete = current_time >= upgrade_start_time + UPGRADE_COOLDOWN;
    
    // æ¤œè¨¼: æ™‚é–“ãƒ™ãƒ¼ã‚¹å‡¦ç†ã®æ­£ç¢ºæ€§
}
```

#### æ¤œè¨¼é–¢æ•°ãƒ†ã‚¹ãƒˆ
```rust
fn test_validation_functions() {
    // æ•°é‡æ¤œè¨¼
    validate_quantity(1..=100) => true
    validate_quantity(0, 101..) => false
    
    // æ‹›å¾…ã‚³ãƒ¼ãƒ‰æ¤œè¨¼
    validate_invite_code("ABCD1234") => true
    validate_invite_code("ABC@1234") => false
    
    // ãƒ¬ãƒ™ãƒ«æ¤œè¨¼
    validate_farm_level(1..=5) => true
    validate_farm_level(0, 6..) => false
    
    // æ¤œè¨¼: å…¥åŠ›å€¤æ¤œè¨¼ã®å …ç‰¢æ€§
}
```

### 7. economic_distribution_tests.rs - çµŒæ¸ˆåˆ†é…ãƒ†ã‚¹ãƒˆ

**ç›®çš„**: è¤‡é›‘ãªçµŒæ¸ˆåˆ†é…ãƒ­ã‚¸ãƒƒã‚¯ã¨å…¬å¹³æ€§ã®æ¤œè¨¼

#### å ±é…¬åˆ†é…ã‚·ãƒŠãƒªã‚ª
```rust
fn test_reward_distribution_scenarios() {
    // ã‚·ãƒŠãƒªã‚ªA: ç´¹ä»‹è€…ãªã—
    claimant: 100% (1000 WEED)
    total_mint: 1000 WEED
    
    // ã‚·ãƒŠãƒªã‚ªB: L1ç´¹ä»‹è€…ã‚ã‚Š
    claimant: 90% (900 WEED)
    referrer_l1: 10% (100 WEED)
    total_mint: 1000 WEED
    
    // ã‚·ãƒŠãƒªã‚ªC: L1+L2ç´¹ä»‹è€…
    claimant: 85% (850 WEED)
    referrer_l1: 10% (100 WEED)
    referrer_l2: 5% (50 WEED)
    total_mint: 1000 WEED
    
    // ã‚·ãƒŠãƒªã‚ªD: ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç‰¹åˆ¥å‡¦ç†
    if referrer == protocol_address {
        claimant: 100% (protocolåˆ†ã‚‚æˆ»ã‚‹)
        protocol: 0% (å—ã‘å–ã‚‰ãªã„)
    }
    
    // æ¤œè¨¼: å…¨åˆ†é…ã‚·ãƒŠãƒªã‚ªã®æ•°å­¦çš„æ­£ç¢ºæ€§
}
```

#### ç´¹ä»‹ãƒã‚§ãƒ¼ãƒ³æ¤œè¨¼
```rust
fn test_referral_chain_validation() {
    // æœ‰åŠ¹ãªãƒã‚§ãƒ¼ãƒ³
    User A <- User B <- User C
    A claims -> B gets 10%, C gets 5%
    
    // ä¸æ­£ãªãƒã‚§ãƒ¼ãƒ³
    Self-referral => ã‚¨ãƒ©ãƒ¼
    Circular reference => ã‚¨ãƒ©ãƒ¼
    Missing referrer => ã‚¹ã‚­ãƒƒãƒ—
    
    // æ¤œè¨¼: ç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ ã®æ•´åˆæ€§
}
```

#### çµŒæ¸ˆãƒãƒ©ãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
```rust
fn test_economic_balance() {
    // ä¾›çµ¦é‡åˆ¶é™
    assert!(total_minted <= TOTAL_WEED_SUPPLY);
    
    // ã‚¤ãƒ³ãƒ•ãƒ¬åˆ¶å¾¡
    max_claim_per_tx = total_supply * 0.001; // 0.1%åˆ¶é™
    
    // ãƒ‡ãƒ•ãƒ¬ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
    seed_pack_burn = quantity * SEED_PACK_COST; // å®Œå…¨ç‡ƒç„¼
    upgrade_burn = level_cost; // å®Œå…¨ç‡ƒç„¼
    
    // æ¤œè¨¼: é•·æœŸçš„çµŒæ¸ˆå®‰å®šæ€§
}
```

### 8. referral_system_tests.rs - ç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ

**ç›®çš„**: å¤šæ®µéšç´¹ä»‹ã‚·ã‚¹ãƒ†ãƒ ã®è©³ç´°ãƒ†ã‚¹ãƒˆã¨è“„ç©ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### ç´¹ä»‹å ±é…¬è“„ç©ã‚·ã‚¹ãƒ†ãƒ 
```rust
fn test_referral_reward_accumulation() {
    // è“„ç©ãƒ•ã‚§ãƒ¼ã‚º
    user_a_claims(1000) -> 
        user_b.pending_referral_rewards += 100 (10%)
        user_c.pending_referral_rewards += 50 (5%)
    
    // ç¢ºèªãƒ•ã‚§ãƒ¼ã‚º
    view_pending_referral_rewards(user_b) -> 100
    view_pending_referral_rewards(user_c) -> 50
    
    // è«‹æ±‚ãƒ•ã‚§ãƒ¼ã‚º
    user_b.claim_reward_with_referral_rewards() ->
        farming_reward + 100 (è“„ç©åˆ†)
        pending_referral_rewards = 0 (æ¸…ç®—)
    
    // æ¤œè¨¼: è“„ç©ãƒ»ç¢ºèªãƒ»è«‹æ±‚ã®å®Œå…¨ãªã‚µã‚¤ã‚¯ãƒ«
}
```

#### è¤‡é›‘ãªç´¹ä»‹ã‚·ãƒŠãƒªã‚ª
```rust
fn test_complex_referral_scenarios() {
    // å¤šæ®µéšåŒæ™‚è«‹æ±‚
    User A claims -> B, C ã«è“„ç©
    User B claims -> D ã«è“„ç© + è‡ªåˆ†ã® farming + A ã‹ã‚‰ã®è“„ç©
    User C claims -> E ã«è“„ç© + è‡ªåˆ†ã® farming + A ã‹ã‚‰ã®è“„ç©
    
    // éšå±¤çš„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯
    A (protocol)
    â”œâ”€â”€ B (regular user)
    â”‚   â”œâ”€â”€ D (regular user) 
    â”‚   â””â”€â”€ E (regular user)
    â””â”€â”€ C (regular user)
        â””â”€â”€ F (regular user)
    
    // ãƒ—ãƒ­ãƒˆã‚³ãƒ«ç‰¹åˆ¥å‡¦ç†
    if referrer == protocol_address {
        // ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã¯å—ã‘å–ã‚‰ãšã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«100%
    }
    
    // æ¤œè¨¼: è¤‡é›‘ãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹é€ ã§ã®æ­£ç¢ºãªå‡¦ç†
}
```

## ğŸ§ª TypeScriptãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆè©³ç´°è§£èª¬

### 1. frontend/src/test/e2e.test.ts - ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆï¼ˆ285è¡Œï¼‰

**ç›®çš„**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ãƒ­ãƒ¼ã‚’æ¨¡å€£ã—ãŸåŒ…æ‹¬çš„ãªE2Eãƒ†ã‚¹ãƒˆ

#### ãƒªã‚¢ãƒ«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒŠãƒªã‚ª
```typescript
describe('Complete User Journey', () => {
    test('æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°', async () => {
        // 1. ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶š
        const wallet = await createTestWallet();
        
        // 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²
        await program.methods.initUser(null).rpc();
        
        // 3. è¾²å ´è³¼å…¥ï¼ˆ0.5 SOLï¼‰
        await program.methods.buyFarmSpace().rpc();
        
        // 4. åˆæœŸç¨®ç¢ºèªï¼ˆç„¡æ–™Seed1ï¼‰
        const farmSpace = await program.account.farmSpace.fetch(farmPDA);
        expect(farmSpace.seedCount).toBe(1);
        
        // 5. å ±é…¬è«‹æ±‚ä½“é¨“
        await advanceTime(3600); // 1æ™‚é–“çµŒé
        await program.methods.claimReward().rpc();
        
        // æ¤œè¨¼: ã‚¹ãƒ ãƒ¼ã‚ºãªåˆæœŸä½“é¨“
    });
    
    test('ãƒãƒ«ãƒãƒ¦ãƒ¼ã‚¶ãƒ¼ç›¸äº’ä½œç”¨', async () => {
        // 3ãƒ¦ãƒ¼ã‚¶ãƒ¼åŒæ™‚ãƒ—ãƒ¬ã‚¤
        const [alice, bob, charlie] = await createMultipleWallets(3);
        
        // Alice: æ‹›å¾…ã‚³ãƒ¼ãƒ‰ä½œæˆ
        await alice.createInviteCode("ALICE123");
        
        // Bob: Alice ã®æ‹›å¾…ã§å‚åŠ 
        await bob.useInviteCode("ALICE123");
        
        // Charlie: Bob ã®æ‹›å¾…ã§å‚åŠ   
        await charlie.useInviteCode("BOB12345");
        
        // å ±é…¬è«‹æ±‚ã¨ãƒã‚§ãƒ¼ãƒ³åˆ†é…
        await charlie.claimReward(); // Charlie: 85%, Bob: 10%, Alice: 5%
        
        // æ¤œè¨¼: è¤‡é›‘ãªç›¸äº’ä½œç”¨ã®æ­£ç¢ºæ€§
    });
});
```

#### ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ–æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ
```typescript
describe('Progressive Feature Unlock', () => {
    test('è¾²å ´æ®µéšçš„ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰', async () => {
        // Level 1 -> 2
        await program.methods.upgradeFarmSpace().rpc();
        await advanceTime(24 * 60 * 60); // 24æ™‚é–“
        await program.methods.completeFarmSpaceUpgrade().rpc();
        
        // å®¹é‡ç¢ºèªï¼ˆ4 -> 8ï¼‰
        const farm = await getFarmSpace(user);
        expect(farm.capacity).toBe(8);
        
        // ç¶šè¡Œå¯èƒ½æ€§ç¢ºèª
        expect(farm.level).toBe(2);
        
        // æ¤œè¨¼: æ®µéšçš„ãƒ—ãƒ­ã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³
    });
    
    test('ãƒŸã‚¹ãƒ†ãƒªãƒ¼ãƒ‘ãƒƒã‚¯å¤§é‡è³¼å…¥', async () => {
        // 50ãƒ‘ãƒƒã‚¯åŒæ™‚è³¼å…¥
        await program.methods.purchaseSeedPack(50, entropy).rpc();
        
        // ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼å‡¦ç†å¾…æ©Ÿ
        await waitForEntropyResolution();
        
        // ä¸€æ‹¬é–‹å°
        await program.methods.openSeedPack(50).rpc();
        
        // 250ç¨®ç”Ÿæˆç¢ºèªï¼ˆ50 * 5ï¼‰
        const storage = await getSeedStorage(user);
        expect(storage.totalSeeds).toBe(250);
        
        // æ¤œè¨¼: å¤§é‡å‡¦ç†ã®æ€§èƒ½ã¨æ­£ç¢ºæ€§
    });
});
```

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
```typescript
describe('Error Handling', () => {
    test('ä¸æ­£æ“ä½œã®é©åˆ‡ãªæ‹’å¦', async () => {
        // æ®‹é«˜ä¸è¶³ã§ã®ãƒ‘ãƒƒã‚¯è³¼å…¥
        await expect(
            program.methods.purchaseSeedPack(1000, entropy).rpc()
        ).rejects.toThrow('Insufficient balance');
        
        // ä»–äººã®è¾²å ´ã¸ã®ç¨®æ¤ãˆ
        await expect(
            program.methods.plantSeed(otherUserSeed).rpc()
        ).rejects.toThrow('Unauthorized');
        
        // ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰ä¸­ã®å†ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
        await expect(
            program.methods.upgradeFarmSpace().rpc()
        ).rejects.toThrow('Upgrade in progress');
        
        // æ¤œè¨¼: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å …ç‰¢æ€§
    });
});
```

### 2. tests/e2e/game-simulation.test.ts - ã‚²ãƒ¼ãƒ ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ373è¡Œï¼‰

**ç›®çš„**: å¤§è¦æ¨¡ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¨é•·æœŸçµŒæ¸ˆå‹•å‘ãƒ†ã‚¹ãƒˆ

#### ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```typescript
describe('Ecosystem Simulation', () => {
    test('100ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ æˆé•·', async () => {
        // ãƒ•ã‚§ãƒ¼ã‚º1: åˆæœŸãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆ10äººï¼‰
        const earlyUsers = await createTestUsers(10);
        for (const user of earlyUsers) {
            await user.initUser();
            await user.buyFarmSpace();
        }
        
        // çµ±è¨ˆç¢ºèª
        let stats = await getGlobalStats();
        expect(stats.totalFarmSpaces).toBe(10);
        expect(stats.totalGrowPower).toBe(10 * 100); // å„è‡ªSeed1
        
        // ãƒ•ã‚§ãƒ¼ã‚º2: ãƒã‚¤ãƒ©ãƒ«æˆé•·ï¼ˆ50äººè¿½åŠ ï¼‰
        const viralUsers = await createTestUsers(50);
        for (const user of viralUsers) {
            const inviter = getRandomUser(earlyUsers);
            await user.useInviteCode(inviter.inviteCode);
            await user.buyFarmSpace();
        }
        
        // æˆé•·ç¢ºèª
        stats = await getGlobalStats();
        expect(stats.totalFarmSpaces).toBe(60);
        
        // ãƒ•ã‚§ãƒ¼ã‚º3: ä¸»æµæ¡ç”¨ï¼ˆ40äººè¿½åŠ ï¼‰
        const mainstreamUsers = await createTestUsers(40);
        for (const user of mainstreamUsers) {
            const inviter = getRandomUser([...earlyUsers, ...viralUsers]);
            await user.useInviteCode(inviter.inviteCode);
            await user.buyFarmSpace();
        }
        
        // æœ€çµ‚çµ±è¨ˆ
        stats = await getGlobalStats();
        expect(stats.totalFarmSpaces).toBe(100);
        expect(stats.totalGrowPower).toBeGreaterThan(100 * 100); // ç¨®è¿½åŠ ã§å¢—åŠ 
        
        // æ¤œè¨¼: æŒç¶šå¯èƒ½ãªæˆé•·ãƒ‘ã‚¿ãƒ¼ãƒ³
    });
});
```

#### é•·æœŸçµŒæ¸ˆå‹•å‘
```typescript
describe('Long-term Economic Dynamics', () => {
    test('è¤‡æ•°åŠæ¸›æœŸã‚µã‚¤ã‚¯ãƒ«', async () => {
        // åˆæœŸçŠ¶æ…‹
        let config = await getConfig();
        expect(config.baseRate).toBe(100);
        
        // ç¬¬1åŠæ¸›æœŸï¼ˆ7æ—¥å¾Œï¼‰
        await advanceTime(7 * 24 * 60 * 60);
        await triggerHalving();
        
        config = await getConfig();
        expect(config.baseRate).toBe(50);
        
        // ç¬¬2åŠæ¸›æœŸï¼ˆ14æ—¥å¾Œï¼‰
        await advanceTime(7 * 24 * 60 * 60);
        await triggerHalving();
        
        config = await getConfig();
        expect(config.baseRate).toBe(25);
        
        // å ±é…¬å½±éŸ¿ç¢ºèª
        const rewardBefore = await calculateExpectedReward(user, 3600);
        expect(rewardBefore).toBeLessThan(initialReward);
        
        // æ¤œè¨¼: ãƒ‡ãƒ•ãƒ¬ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã®æ­£ç¢ºãªå‹•ä½œ
    });
    
    test('çµŒæ¸ˆå¤šæ§˜åŒ–ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³', async () => {
        // å¤šæ§˜ãªãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æˆ¦ç•¥ã®å…±å­˜
        const networkBuilders = await createNetworkBuilders(20);
        const gamblers = await createGamblers(20);
        const farmers = await createFarmers(20);
        const strategists = await createStrategists(20);
        
        // 6ãƒ¶æœˆé–“ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        for (let week = 0; week < 24; week++) {
            // å„æˆ¦ç•¥ã®å®Ÿè¡Œ
            await executeNetworkBuildingStrategy(networkBuilders);
            await executeGamblingStrategy(gamblers);
            await executeFarmingStrategy(farmers);
            await executeStrategicStrategy(strategists);
            
            // é€±æ¬¡çµ±è¨ˆåé›†
            const weeklyStats = await collectWeeklyStats();
            weeklyData.push(weeklyStats);
            
            await advanceTime(7 * 24 * 60 * 60); // 1é€±é–“é€²è¡Œ
        }
        
        // é•·æœŸãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ
        analyzeEconomicTrends(weeklyData);
        
        // æ¤œè¨¼: 
        // - å„æˆ¦ç•¥ã®é•·æœŸåç›Šæ€§
        // - ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®å®‰å®šæ€§
        // - æ–°è¦å‚å…¥è€…ã¸ã®å…¬å¹³æ€§
        // - ãƒ—ãƒ­ãƒˆã‚³ãƒ«åç›Šã®å¥å…¨æ€§
    });
});
```

### 3. frontend/src/test/setup.ts - ãƒ†ã‚¹ãƒˆç’°å¢ƒè¨­å®šï¼ˆ322è¡Œï¼‰

**ç›®çš„**: åŒ…æ‹¬çš„ãªãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ§‹ç¯‰ã¨ãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ã®æä¾›

#### ãƒ†ã‚¹ãƒˆç’°å¢ƒåˆæœŸåŒ–
```typescript
// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ†ã‚¹ãƒˆè¨­å®š
export class TestEnvironment {
    async initialize() {
        // Solana ãƒ†ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼èµ·å‹•
        this.validator = await startValidator({
            programs: [FACILITY_GAME_PROGRAM],
            accounts: [],
            reset: true
        });
        
        // Anchor ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š
        this.provider = AnchorProvider.local();
        setProvider(this.provider);
        
        // ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
        this.program = new Program(IDL, PROGRAM_ID, this.provider);
        
        // ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
        await this.initializeSystem();
        
        // ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™
        await this.prepareTestData();
    }
    
    async initializeSystem() {
        // ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
        this.admin = await createTestKeypair();
        
        // ã‚·ã‚¹ãƒ†ãƒ è¨­å®šåˆæœŸåŒ–
        await this.program.methods
            .initializeConfig(
                100,        // base_rate
                604800,     // halving_interval (7 days)
                this.admin.publicKey, // treasury
                null        // protocol_referral_address
            )
            .accounts({
                config: this.configPDA,
                admin: this.admin.publicKey,
            })
            .signers([this.admin])
            .rpc();
            
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«çµ±è¨ˆåˆæœŸåŒ–
        await this.program.methods
            .initializeGlobalStats()
            .accounts({
                globalStats: this.globalStatsPDA,
                admin: this.admin.publicKey,
            })
            .signers([this.admin])
            .rpc();
            
        // WEEDãƒˆãƒ¼ã‚¯ãƒ³ãƒŸãƒ³ãƒˆä½œæˆ
        await this.program.methods
            .createRewardMint()
            .accounts({
                rewardMint: this.rewardMintPDA,
                mintAuthority: this.mintAuthorityPDA,
                admin: this.admin.publicKey,
            })
            .signers([this.admin])
            .rpc();
    }
}
```

#### ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼
```typescript
export class TestUserFactory {
    async createUser(options: CreateUserOptions = {}) {
        const keypair = Keypair.generate();
        
        // SOL ã‚¨ã‚¢ãƒ‰ãƒ­ãƒƒãƒ—
        await this.provider.connection.requestAirdrop(
            keypair.publicKey,
            10 * LAMPORTS_PER_SOL
        );
        
        // ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆæœŸåŒ–
        await this.program.methods
            .initUser(options.referrer || null)
            .accounts({
                userState: this.getUserStatePDA(keypair.publicKey),
                user: keypair.publicKey,
            })
            .signers([keypair])
            .rpc();
            
        return new TestUser(keypair, this.program);
    }
    
    async createNetworkBuilder() {
        const user = await this.createUser();
        
        // æ‹›å¾…ã‚³ãƒ¼ãƒ‰ä½œæˆ
        const inviteCode = generateRandomInviteCode();
        await user.createInviteCode(inviteCode);
        
        return user;
    }
    
    async createGambler() {
        const user = await this.createUser();
        
        // å¤§é‡WEEDã‚’ä»˜ä¸ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
        await this.mintTestTokens(user.publicKey, 10000 * 1_000_000);
        
        return user;
    }
}
```

#### ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ˜ãƒ«ãƒ‘ãƒ¼
```typescript
export class TestAssertions {
    static async assertUserState(
        userPubkey: PublicKey,
        expected: Partial<UserStateExpectation>
    ) {
        const userState = await program.account.userState.fetch(
            getUserStatePDA(userPubkey)
        );
        
        if (expected.totalGrowPower !== undefined) {
            expect(userState.totalGrowPower.toNumber()).toBe(expected.totalGrowPower);
        }
        
        if (expected.hasFarmSpace !== undefined) {
            expect(userState.hasFarmSpace).toBe(expected.hasFarmSpace);
        }
        
        if (expected.pendingReferralRewards !== undefined) {
            expect(userState.pendingReferralRewards.toNumber())
                .toBe(expected.pendingReferralRewards);
        }
    }
    
    static async assertGlobalStats(expected: Partial<GlobalStatsExpectation>) {
        const stats = await program.account.globalStats.fetch(globalStatsPDA);
        
        if (expected.totalGrowPower !== undefined) {
            expect(stats.totalGrowPower.toNumber()).toBe(expected.totalGrowPower);
        }
        
        if (expected.totalFarmSpaces !== undefined) {
            expect(stats.totalFarmSpaces.toNumber()).toBe(expected.totalFarmSpaces);
        }
    }
    
    static async assertTokenBalance(
        userPubkey: PublicKey,
        expectedBalance: number
    ) {
        const tokenAccount = await getAssociatedTokenAddress(
            rewardMintPDA,
            userPubkey
        );
        
        const balance = await getTokenBalance(tokenAccount);
        expect(balance).toBe(expectedBalance);
    }
}
```

#### æ™‚é–“æ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
```typescript
export class TimeUtils {
    static async advanceTime(seconds: number) {
        // ãƒ†ã‚¹ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚¿ãƒ¼ã®æ™‚é–“ã‚’é€²ã‚ã‚‹
        await this.validator.setClock(
            await this.validator.getClock() + seconds
        );
    }
    
    static async waitForUpgradeCompletion(farmSpace: PublicKey) {
        const farm = await program.account.farmSpace.fetch(farmSpace);
        const remainingTime = farm.upgradeStartTime.toNumber() + 
                            (24 * 60 * 60) - 
                            await this.getCurrentTime();
                            
        if (remainingTime > 0) {
            await this.advanceTime(remainingTime);
        }
    }
    
    static async simulateHalvingPeriod() {
        await this.advanceTime(7 * 24 * 60 * 60); // 7æ—¥
        
        // åŠæ¸›æœŸå‡¦ç†ãƒˆãƒªã‚¬ãƒ¼ï¼ˆæ¬¡ã®å ±é…¬è«‹æ±‚æ™‚ã«è‡ªå‹•å®Ÿè¡Œï¼‰
        const user = await this.createRandomUser();
        await user.claimReward(); // åŠæ¸›æœŸãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
    }
}
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã¨çµ±è¨ˆ

### ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ–¹æ³•
```bash
# Rust ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ†ã‚¹ãƒˆ
anchor test                                    # å…¨ä½“ãƒ†ã‚¹ãƒˆ
anchor test --skip-local-validator            # é«˜é€Ÿãƒ†ã‚¹ãƒˆ
anchor test -- --nocapture                    # è©³ç´°ãƒ­ã‚°

# TypeScript ãƒ†ã‚¹ãƒˆ  
npm test                                       # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ†ã‚¹ãƒˆ
npm run test:e2e                              # E2Eãƒ†ã‚¹ãƒˆ
npm run test:integration                       # çµ±åˆãƒ†ã‚¹ãƒˆ
npm run test:coverage                          # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
```

### ãƒ†ã‚¹ãƒˆçµ±è¨ˆã‚µãƒãƒªãƒ¼

#### Rustãƒ†ã‚¹ãƒˆ
- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 80+ ãƒ†ã‚¹ãƒˆ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: ~95% (core logic)
- **å®Ÿè¡Œæ™‚é–“**: ~30ç§’ (--skip-local-validator)
- **åˆ†é‡**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ­ã‚¸ãƒƒã‚¯ã€çŠ¶æ…‹ç®¡ç†ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### TypeScriptãƒ†ã‚¹ãƒˆ  
- **ç·ãƒ†ã‚¹ãƒˆæ•°**: 50+ ãƒ†ã‚¹ãƒˆ
- **ã‚«ãƒãƒ¬ãƒƒã‚¸**: ~85% (frontend integration)
- **å®Ÿè¡Œæ™‚é–“**: ~60ç§’ (with validator)
- **åˆ†é‡**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã€çµ±åˆã€ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

#### ç·åˆå“è³ªæŒ‡æ¨™
- **ä¿¡é ¼æ€§**: ä¼æ¥­ã‚°ãƒ¬ãƒ¼ãƒ‰
- **ä¿å®ˆæ€§**: é«˜ã„ï¼ˆé‡è¤‡é™¤å»ã«ã‚ˆã‚Šå‘ä¸Šï¼‰
- **æ‹¡å¼µæ€§**: ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆã§æ–°æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆè¿½åŠ å®¹æ˜“
- **å®Ÿç”¨æ€§**: ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒæº–å‚™å®Œäº†

## ğŸ¯ çµè«–

Facility Gameã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã¯ã€**ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ã‚²ãƒ¼ãƒ ã¨ã—ã¦ã¯ä¾‹å¤–çš„ã«åŒ…æ‹¬çš„ã§è³ªã®é«˜ã„**å®Ÿè£…ã¨ãªã£ã¦ã„ã¾ã™ã€‚æˆ¦ç•¥çš„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ã‚¹ãƒˆã€æ•°å­¦çš„ç²¾åº¦æ¤œè¨¼ã€å¤§è¦æ¨¡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆãŒçµ±åˆã•ã‚Œã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç’°å¢ƒã§ã®å®‰å®šç¨¼åƒã‚’ä¿è¨¼ã™ã‚‹**ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºã‚°ãƒ¬ãƒ¼ãƒ‰ã®å“è³ª**ã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™ã€‚

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å†—é•·æ€§é™¤å»ã«ã‚ˆã‚Šã€ä¿å®ˆæ€§ã¨å®Ÿè¡ŒåŠ¹ç‡ãŒå‘ä¸Šã—ã€ä»Šå¾Œã®æ©Ÿèƒ½æ‹¡å¼µã«å¯¾ã™ã‚‹å …å›ºãªåŸºç›¤ãŒç¢ºç«‹ã•ã‚Œã¾ã—ãŸã€‚